## [2026-02-25] å…³å¡åˆ—è¡¨é¡µé¢ Sticky å¸é¡¶ + ç« èŠ‚è·³è½¬åŠŸèƒ½

### å˜æ›´å†…å®¹

**æ ¸å¿ƒä¼˜åŒ–**ï¼šè§£å†³è¿›åº¦æ¡ä¸å¯è§ã€è¿”å›æŒ‰é’®éš¾è§¦è¾¾çš„é—®é¢˜ã€‚

**åŠŸèƒ½å®ç°**ï¼š

1. **Sticky å¸é¡¶å¤´éƒ¨**ï¼š
   - é¡¶éƒ¨åŒºåŸŸï¼ˆè¿”å›æŒ‰é’® + æ ‡é¢˜ + è¿›åº¦è·¯å¾„ï¼‰å›ºå®šåœ¨è§†å£é¡¶éƒ¨
   - æ¯›ç»ç’ƒèƒŒæ™¯æ•ˆæœï¼ˆblur 12pxï¼‰
   - æ»šåŠ¨åˆ—è¡¨æ—¶è¿›åº¦ä¿¡æ¯å§‹ç»ˆå¯è§

2. **è¿”å›æŒ‰é’®ä¼˜åŒ–**ï¼š
   - ç§»è‡³å¸é¡¶åŒºåŸŸå·¦ä¾§ï¼Œå§‹ç»ˆå¯è§
   - æ˜¾ç¤º "â† ä¸»æ®¿" æ–‡å­—æç¤º

3. **è¿›åº¦è·¯å¾„ç‚¹å‡»è·³è½¬**ï¼š
   - è¿›åº¦è·¯å¾„ä¸Šçš„ç¬¦å·ï¼ˆâ—†â”€â—ˆâ”€â—‡â”€â—‡ï¼‰å¯ç‚¹å‡»
   - ç‚¹å‡»åå¹³æ»‘æ»šåŠ¨åˆ°å¯¹åº”ç« èŠ‚
   - å½“å‰ç« èŠ‚æ˜¾ç¤ºé«˜äº®èƒŒæ™¯

4. **ç§»é™¤åº•éƒ¨è¿”å›æŒ‰é’®**ï¼š
   - åŸåº•éƒ¨"è¿”å›ä¸»æ®¿"æŒ‰é’®å·²ç§»é™¤
   - ç»§ç»­æ¸¸æˆæŒ‰é’®ä¿ç•™

**å¸ƒå±€ç»“æ„**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ä¸»æ®¿   æ¢å¢ƒ   å·²è§£ 5/20       â”‚  â† sticky å¸é¡¶
â”‚     â—† â”€ â—ˆ â”€ â—‡ â”€ â—‡              â”‚  â† å¯ç‚¹å‡»è·³è½¬
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â—† åˆçª¥é—¨å¾„ Â· ç¬¬ä¸€ç«             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Level 1 ...             â”‚    â”‚  â† å¯æ»šåŠ¨åˆ—è¡¨
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`

---

## [2026-02-25] å…³å¡åˆ—è¡¨é¡µé¢äº¤äº’ä¼˜åŒ–

### å˜æ›´å†…å®¹

**é—®é¢˜ä¿®å¤**ï¼š

1. **ç§»é™¤å…³å¡ç½®é¡¶é€»è¾‘**ï¼š
   - é€šå…³åä¸å†å°†ä¸‹ä¸€å…³ç½®é¡¶æ˜¾ç¤º
   - å…³å¡åˆ—è¡¨ä¿ç•™åŸå§‹é¡ºåº
   - è‡ªåŠ¨æ»šåŠ¨é”šå®šåˆ°å½“å‰å…³å¡å¡ç‰‡ï¼ˆè€Œéç« èŠ‚ï¼‰

2. **ä¿®å¤è¿›åº¦æ¡æ˜¾ç¤º**ï¼š
   - è¿›åº¦æ¡æ ¹æ®é€šå…³çŠ¶æ€åŠ¨æ€æ˜¾ç¤º
   - å·²é€šå…³å…³å¡ï¼šæ˜¾ç¤º `æ€»æ•°/æ€»æ•°`
   - æœªé€šå…³å…³å¡ï¼šæ˜¾ç¤º `0/æ€»æ•°`

**ä»£ç æ”¹åŠ¨**ï¼š

- `ChapterSection` ç»„ä»¶ï¼šç§»é™¤ `sortedLevels` ç½®é¡¶é€»è¾‘
- `LevelCard` ç»„ä»¶ï¼šåŠ¨æ€è®¡ç®— `shaCompleted` è¿›åº¦å€¼
- è‡ªåŠ¨æ»šåŠ¨ï¼šæ”¹ä¸ºæ»šåŠ¨åˆ°å…·ä½“å…³å¡å¡ç‰‡å…ƒç´ 

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`

---

## [2026-02-25] å…³å¡è§£é”æœºåˆ¶å®ç° + Bug ä¿®å¤

### å˜æ›´å†…å®¹

**åŠŸèƒ½å®ç°**ï¼šå…³å¡åˆ—è¡¨é¡µé¢æ·»åŠ åŠ¨æ€è§£é”æœºåˆ¶ã€‚

**è§£é”è§„åˆ™**ï¼š
- Level 1 é»˜è®¤è§£é”
- å…¶ä»–å…³å¡éœ€è¦å‰ä¸€å…³å·²é€šå…³æ‰èƒ½è§£é”
- æœªè§£é”å…³å¡æ˜¾ç¤ºé”å›¾æ ‡å’Œè¿·é›¾æ•ˆæœ

**ä»£ç æ”¹åŠ¨**ï¼š

1. **useLevelCompletion Hook**ï¼š
   - æ–°å¢ `isLevelUnlocked(levelId)` æ–¹æ³•
   - åŠ¨æ€è®¡ç®—å…³å¡è§£é”çŠ¶æ€

2. **LevelSelectPage**ï¼š
   - ä½¿ç”¨ `isLevelUnlocked` æ›¿ä»£é™æ€ `level.locked`
   - ChapterSection æ¥æ”¶è§£é”/å®ŒæˆçŠ¶æ€åˆ¤æ–­å‡½æ•°
   - LevelCard æ¥æ”¶ `isLocked` å’Œ `isCompleted` ä½œä¸º prop

3. **è§†è§‰åé¦ˆ**ï¼š
   - é”å®šå…³å¡ç¼©ç•¥å›¾æ˜¾ç¤ºé”å›¾æ ‡ ğŸ”’
   - é”å®šå…³å¡æ˜¾ç¤º"é€šå…³å‰ä¸€å…³è§£é”"æç¤º
   - ä¿ç•™è¿·é›¾åŠ¨ç”»æ•ˆæœ

### Bug ä¿®å¤ï¼šLevel ID æ ¼å¼ä¸ä¸€è‡´å¯¼è‡´å…³å¡æ— æ³•è§£é”

**é—®é¢˜**ï¼šé€šå…³åè¿”å›åˆ—è¡¨é¡µé¢ï¼Œå…³å¡çŠ¶æ€æœªæ›´æ–°ï¼Œä¸‹ä¸€å…³ä¹Ÿæ²¡æœ‰è‡ªåŠ¨è§£é”ã€‚

**æ ¹å› **ï¼šLevel ID æ ¼å¼ä¸åŒ¹é…ï¼š
- `levels.ts` å­˜å‚¨æ ¼å¼ï¼š`level-1`, `level-2`, ..., `level-10`
- `isLevelUnlocked` æ£€æŸ¥æ ¼å¼ï¼š`level-01`, `level-02`, ..., `level-09`, `level-10`
- ä¾‹å¦‚ï¼šé€šå…³ level-1ï¼ˆå­˜å‚¨ `level-1`ï¼‰åï¼Œæ£€æŸ¥ level-2 è§£é”çŠ¶æ€æ—¶æŸ¥æ‰¾ `level-01`ï¼Œå¯¼è‡´åŒ¹é…å¤±è´¥

**ä¿®å¤æ–¹æ¡ˆ**ï¼šç§»é™¤ `padStart(2, '0')` å¡«å……ï¼Œç¡®ä¿æ ¼å¼ä¸€è‡´ï¼š
```tsx
// ä¿®å¤å‰
const prevLevelId = `level-${String(levelNum - 1).padStart(2, '0')}`;

// ä¿®å¤å
const prevLevelId = `level-${levelNum - 1}`;
```

**çŠ¶æ€**ï¼šâœ… å·²ä¿®å¤

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/stores/LevelCompletionContext.tsx` - ä¿®å¤ ID æ ¼å¼
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`

### å˜æ›´å†…å®¹

**åŠŸèƒ½å®ç°**ï¼šå…³å¡åˆ—è¡¨é¡µé¢æ·»åŠ åŠ¨æ€è§£é”æœºåˆ¶ã€‚

**è§£é”è§„åˆ™**ï¼š
- Level 1 é»˜è®¤è§£é”
- å…¶ä»–å…³å¡éœ€è¦å‰ä¸€å…³å·²é€šå…³æ‰èƒ½è§£é”
- æœªè§£é”å…³å¡æ˜¾ç¤ºé”å›¾æ ‡å’Œè¿·é›¾æ•ˆæœ

**ä»£ç æ”¹åŠ¨**ï¼š

1. **useLevelCompletion Hook**ï¼š
   - æ–°å¢ `isLevelUnlocked(levelId)` æ–¹æ³•
   - åŠ¨æ€è®¡ç®—å…³å¡è§£é”çŠ¶æ€

2. **LevelSelectPage**ï¼š
   - ä½¿ç”¨ `isLevelUnlocked` æ›¿ä»£é™æ€ `level.locked`
   - ChapterSection æ¥æ”¶è§£é”/å®ŒæˆçŠ¶æ€åˆ¤æ–­å‡½æ•°
   - LevelCard æ¥æ”¶ `isLocked` å’Œ `isCompleted` ä½œä¸º prop

3. **è§†è§‰åé¦ˆ**ï¼š
   - é”å®šå…³å¡ç¼©ç•¥å›¾æ˜¾ç¤ºé”å›¾æ ‡ ğŸ”’
   - é”å®šå…³å¡æ˜¾ç¤º"é€šå…³å‰ä¸€å…³è§£é”"æç¤º
   - ä¿ç•™è¿·é›¾åŠ¨ç”»æ•ˆæœ

### Bug ä¿®å¤å°è¯•ï¼šé€šå…³çŠ¶æ€è·¨ç»„ä»¶åŒæ­¥

**é—®é¢˜**ï¼šé€šå…³åè¿”å›åˆ—è¡¨é¡µé¢ï¼Œå…³å¡çŠ¶æ€æœªæ›´æ–°ï¼Œä¸‹ä¸€å…³ä¹Ÿæ²¡æœ‰è‡ªåŠ¨è§£é”ã€‚

**æ ¹å› åˆ†æ**ï¼š`useLevelCompletion` æ˜¯ç‹¬ç«‹ Hookï¼Œæ¯ä¸ªç»„ä»¶æœ‰ç‹¬ç«‹çš„ `completedLevels` çŠ¶æ€ã€‚

**ä¿®å¤æ–¹æ¡ˆ**ï¼šå°†é€šå…³çŠ¶æ€ä»ç‹¬ç«‹ Hook æå‡åˆ° React Contextã€‚

- æ–°å¢ `LevelCompletionContext.tsx`ï¼šç®¡ç†å…¨å±€é€šå…³çŠ¶æ€
- åˆ é™¤ `hooks/useLevelCompletion.ts`ï¼šé¿å…çŠ¶æ€åˆ†æ•£
- æ›´æ–° `game.tsx`ï¼šæ·»åŠ  `LevelCompletionProvider` åŒ…è£…
- æ›´æ–°å¯¼å…¥è·¯å¾„ï¼š`useLevelCompletion` ç°åœ¨ä» Context å¯¼å‡º

**çŠ¶æ€**ï¼šé—®é¢˜ä»æœªè§£å†³ï¼Œéœ€ç»§ç»­æ’æŸ¥

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/stores/LevelCompletionContext.tsx` - æ–°å¢
- `src/frontend/feng-shui-8-bit/src/client/hooks/useLevelCompletion.ts` - åˆ é™¤
- `src/frontend/feng-shui-8-bit/src/client/game.tsx` - æ·»åŠ  Provider
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`

---

## [2026-02-24] å…³å¡åˆ—è¡¨é¡µé¢ UI ä¼˜åŒ– v3.0

### å˜æ›´å†…å®¹

**æ ¸å¿ƒæ”¹åŠ¨**ï¼šæŒ‰ç…§ UI ä¼˜åŒ–æ–¹æ¡ˆ v3.0 é‡æ„å…³å¡é€‰æ‹©é¡µé¢ï¼Œæ”¯æŒå®Œæ•´ 20 å…³å…³å¡ã€‚

**å…³å¡æ•°æ®æ›´æ–°**ï¼š
- æ›´æ–° `levels.ts` ä¸ºå®Œæ•´ 20 å…³æ•°æ®
- åŒ…å«æ‰€æœ‰ç…æ°”ç‚¹é…ç½®ï¼ˆä½ç½®ã€ç±»å‹ã€é€‰é¡¹ï¼‰
- æ–°å¢æ‰€æœ‰ç…æ°”ç±»å‹å®šä¹‰ï¼ˆè·¯å†²ç…ã€å¤©æ–©ç…ã€åå¼“ç…ç­‰ï¼‰
- æ”¯æŒç« èŠ‚åˆ†ç»„ï¼ˆåˆçª¥é—¨å¾„ã€æ¸å…¥ä½³å¢ƒã€èä¼šè´¯é€šã€è¶…å‡¡å…¥åœ£ï¼‰

**å›¾ç‰‡èµ„æº**ï¼š
- æ‹·è´ Level 1-20 å›¾ç‰‡åˆ° `public/images/levelX/` ç›®å½•
- åŒ…å« `room-cold.png` å’Œ `room-warm.png`

**UI ç»„ä»¶å®ç°**ï¼š
1. **ProgressPath** - è¿›åº¦è·¯å¾„ç»„ä»¶ï¼ˆâ—†â”€â—ˆâ”€â—‡â”€â—‡ æ ¼å¼ï¼‰
2. **ChapterSection** - ç« èŠ‚åˆ†ç»„ç»„ä»¶ï¼ˆå½“å‰å…³å¡ç½®é¡¶ï¼‰
3. **LevelCard** - ç»Ÿä¸€å…³å¡å¡ç‰‡ç»„ä»¶
   - åƒç´ ç¡¬è¾¹é£æ ¼ï¼ˆ4px 4px 0 0 é˜´å½±ï¼‰
   - å½“å‰å…³å¡è„‰å†²å‘å…‰æ•ˆæœ
   - å·²é€šå…³å…³å¡æ˜¾ç¤º"å‰"æ ‡è®°
   - é”å®šå…³å¡æ˜¾ç¤ºè¿·é›¾åŠ¨ç”»
4. **MistOverlay** - è¿·é›¾åŠ¨ç”»ç»„ä»¶ï¼ˆæ¼‚æµ®ç²’å­ + é—®å·ï¼‰
5. **ContinueButton** - ç»§ç»­æ¸¸æˆæ‚¬æµ®æŒ‰é’®ï¼ˆåˆ˜æµ·å±é€‚é…ï¼‰

**Hook æ›´æ–°**ï¼š
- `useLevelCompletion` æ–°å¢ `getCompletedCount()` å’Œ `getCurrentLevel`
- æ”¯æŒå…³å¡é€šå…³çŠ¶æ€è®°å¿†

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx` - å®Œå…¨é‡æ„
- `src/frontend/feng-shui-8-bit/src/client/data/levels.ts` - æ›´æ–°ä¸º 20 å…³
- `src/frontend/feng-shui-8-bit/src/client/types/game.ts` - æ–°å¢ç…æ°”ç±»å‹
- `src/frontend/feng-shui-8-bit/src/client/hooks/useLevelCompletion.ts` - æ–°å¢æ–¹æ³•
- `src/frontend/feng-shui-8-bit/public/images/level2-20/` - æ–°å¢å…³å¡å›¾ç‰‡

---

## [2026-02-23] Web ç«¯ç½—ç›˜åœ¨ç…æ°”ç‚¹æ ¸å¿ƒåŒºåŸŸæ— æ³•ç§»åŠ¨çš„é—®é¢˜ä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜æè¿°**ï¼šWeb ç«¯ä¸‹ï¼Œå½“ç½—ç›˜ç§»åŠ¨åˆ°ç…æ°”ç‚¹æœ€æ ¸å¿ƒåŒºåŸŸåï¼Œæ— æ³•å†ç§»åŠ¨ç½—ç›˜ï¼Œæ¯æ¬¡ç‚¹å‡»ç½—ç›˜éƒ½ä¼šå¼¹å‡ºé—®é¢˜é€‰é¡¹ã€‚

**æ ¹æœ¬åŸå› **ï¼š
- å½“ç½—ç›˜ç§»åŠ¨åˆ°ç…æ°”ç‚¹æ ¸å¿ƒåŒºåŸŸï¼ˆ`dist < radius * 0.4`ï¼‰æ—¶ï¼Œå¼¹çª—æ‰“å¼€
- ç”¨æˆ·å…³é—­å¼¹çª—åï¼Œç½—ç›˜ä½ç½®æ²¡æœ‰æ”¹å˜ï¼Œä»ç„¶åœ¨æ ¸å¿ƒåŒºåŸŸ
- ç”¨æˆ·ä¸‹æ¬¡ç‚¹å‡»ç½—ç›˜å¼€å§‹æ‹–åŠ¨æ—¶ï¼Œ`pointermove` è§¦å‘ï¼Œ`handleCompassMove` æ£€æµ‹åˆ°ä½ç½®ä»åœ¨æ ¸å¿ƒåŒºåŸŸï¼Œç«‹å³å†æ¬¡å¼¹å‡ºå¼¹çª—
- å½¢æˆæ­»å¾ªç¯ï¼Œç”¨æˆ·æ— æ³•æ‹–åŠ¨ç½—ç›˜ç¦»å¼€æ ¸å¿ƒåŒºåŸŸ

**ä¿®å¤æ–¹æ¡ˆ**ï¼š
- åœ¨ `CLOSE_MODAL` æ—¶ï¼Œæ£€æµ‹ç½—ç›˜ä½ç½®æ˜¯å¦åœ¨æŸä¸ªæœªè§£å†³ç…æ°”ç‚¹çš„æ ¸å¿ƒåŒºåŸŸå†…
- å¦‚æœåœ¨æ ¸å¿ƒåŒºåŸŸï¼Œè‡ªåŠ¨å°†ç½—ç›˜ç§»åˆ°è¾¹ç¼˜åŒºåŸŸï¼ˆ`radius * 0.65`ï¼Œä½äº fast å’Œ super-fast é˜ˆå€¼ä¹‹é—´ï¼‰
- åŒæ—¶é‡ç½® `compassSpeed` ä¸º `normal`ï¼Œé¿å…æŒ‡é’ˆåŠ¨ç”»å¼‚å¸¸

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/stores/GameContext.tsx`

---

## [2026-02-23] Desktop ç«¯å›¾ç‰‡æ¯”ä¾‹ + ç½—ç›˜æ‹–æ‹½äº¤äº’ä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜ 1: å›¾ç‰‡æ¯”ä¾‹å˜å½¢**
- ç°è±¡ï¼šDesktop/Fullscreen æ¨¡å¼ä¸‹å›¾ç‰‡å·¦å³è¢«æŒ¤å‹ï¼Œå¤±å»åŸå§‹å®½é«˜æ¯”
- æ ¹å› ï¼š
  - åˆå§‹åŒ–æ—¶å›¾ç‰‡è¢«å¼ºåˆ¶æ‹‰ä¼¸åˆ°å±å¹•å°ºå¯¸ `coldSprite.width = width; coldSprite.height = height`
  - resize æ—¶åŒæ ·ä½¿ç”¨æ‹‰ä¼¸é€»è¾‘
- ä¿®å¤ï¼šæ”¹ä¸º contain æ¨¡å¼ï¼Œè®¡ç®—ç¼©æ”¾æ¯”ä¾‹ä½¿å›¾ç‰‡å®Œæ•´æ˜¾ç¤ºï¼Œä¿æŒåŸå§‹å®½é«˜æ¯”å±…ä¸­

**é—®é¢˜ 2: ç½—ç›˜äº¤äº’æ–¹å¼**
- ç°è±¡ï¼šç‚¹å‡»å±å¹•ä»»æ„ä½ç½®ç½—ç›˜å°±è·³åˆ°é‚£é‡Œ
- æ ¹å› ï¼šç›‘å¬äº† `app.stage.on('pointerdown')` å®ç°ç‚¹å‡»è·³è½¬
- ä¿®å¤ï¼šæ”¹ä¸ºæ‹–æ‹½äº¤äº’
  - ç›‘å¬ç½—ç›˜ `compass.on('pointerdown')` å¼€å§‹æ‹–æ‹½
  - canvas çš„ `pointermove`/`pointerup` å¤„ç†æ‹–æ‹½è¿‡ç¨‹
  - å…‰æ ‡çŠ¶æ€ `grab` â†’ `grabbing` æä¾›è§†è§‰åé¦ˆ

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`

---

## [2026-02-23] é€šå…³åæ‹–åŠ¨åŠŸèƒ½ä¿®å¤ + å†·æš–å¯¹æ¯”æ‰‹åŠ¿ä¼˜åŒ–

### å˜æ›´å†…å®¹

**é—®é¢˜ä¿®å¤**ï¼šé€šå…³åæŒ‰ä½é¼ æ ‡æ‹–åŠ¨å›¾ç‰‡å¤±æ•ˆï¼Œå›¾ç‰‡ä½ç½®å›ºå®šæ— æ³•ç§»åŠ¨ã€‚

**æ ¹æœ¬åŸå› **ï¼š
- å†·æš–å¯¹æ¯”æ‰‹åŠ¿å¤„ç†å™¨ `handlePointerDown/Up/Cancel/Leave` è°ƒç”¨äº† `e.stopPropagation()`ï¼Œé˜»æ­¢äº†äº‹ä»¶ä¼ æ’­åˆ° canvasã€‚
- canvas çš„æ‹–åŠ¨åŠŸèƒ½ä¾èµ–åŸç”Ÿ pointer äº‹ä»¶ç›‘å¬å™¨ï¼Œäº‹ä»¶è¢«é˜»æ­¢åæ‹–åŠ¨å¤±æ•ˆã€‚

**ä¿®å¤æ–¹æ¡ˆ**ï¼š
- ç§»é™¤å†·æš–å¯¹æ¯”æ‰‹åŠ¿å¤„ç†å™¨ä¸­çš„ `e.preventDefault()` å’Œ `e.stopPropagation()`ã€‚
- è®©äº‹ä»¶åŒæ—¶ä¼ é€’ç»™å®¹å™¨ï¼ˆå†·æš–å¯¹æ¯”ï¼‰å’Œ canvasï¼ˆæ‹–åŠ¨ï¼‰ï¼Œå®ç°ä¸¤ä¸ªåŠŸèƒ½å¹¶è¡Œï¼š
  - æŒ‰ä½æ˜¾ç¤ºå†·å›¾ï¼ˆåŸå›¾å¯¹æ¯”ï¼‰
  - åŒæ—¶å¯ä»¥æ‹–åŠ¨å›¾ç‰‡æŸ¥çœ‹ä¸åŒåŒºåŸŸ

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`

---

## [2026-02-23] å…¨å±æ¨¡å¼æŒ‰ä½å¯¹æ¯”ä¿®å¤ï¼ˆæŒ‰ä½å†·å›¾/æ¾å¼€å›æš–ï¼‰

### å˜æ›´å†…å®¹
- **é—®é¢˜ä¿®å¤**ï¼šä¿®å¤å…¨å±æ¨¡å¼ä¸‹é€šå…³åâ€œæŒ‰ä½æ˜¾ç¤ºå†·å›¾â€ä¸ç”Ÿæ•ˆçš„é—®é¢˜ã€‚
- **æ ¹å› å®šä½**ï¼šæ¸¸æˆç”»å¸ƒåœ¨ Desktop è·¯å¾„ä¼š `stopPropagation`ï¼Œå¯¼è‡´å¤–å±‚å®¹å™¨åœ¨å†’æ³¡é˜¶æ®µæ¥ä¸åˆ°å¯¹æ¯”æ‰‹åŠ¿äº‹ä»¶ã€‚
- **ä¿®å¤æ–¹æ¡ˆ**ï¼š
  - å°†å¯¹æ¯”æ‰‹åŠ¿ç›‘å¬æ”¹ä¸º `onPointerDownCapture / onPointerUpCapture / onPointerCancelCapture`ï¼ˆæ•è·é˜¶æ®µï¼‰ã€‚
  - `pointerleave` ä¿æŒåœ¨å®¹å™¨å±‚å…œåº•å›æš–ï¼Œé˜²æ­¢å¼‚å¸¸åœç•™åœ¨å†·å›¾ã€‚
  - å¯¹æ¯”æ‰‹åŠ¿å¤„ç†ç»Ÿä¸€ `preventDefault + stopPropagation`ï¼Œé¿å…å…¨å±ä¸‹æµè§ˆå™¨é»˜è®¤è¡Œä¸ºå¹²æ‰°ã€‚

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`

---

## [2026-02-23] Desktop è§¦æ§æ¿åŒæŒ‡æåˆç¼©æ”¾æ”¯æŒï¼ˆMac Safariï¼‰

### å˜æ›´å†…å®¹
- **æ–°å¢æ‰‹åŠ¿æ”¯æŒ**ï¼šDesktop æ¸¸æˆç”»å¸ƒå¢åŠ  Mac Safari åŸç”Ÿ `gesturestart/gesturechange/gestureend` ç›‘å¬ï¼Œæ”¯æŒè‹¹æœè§¦æ§æ¿åŒæŒ‡æåˆç¼©æ”¾ã€‚
- **å…¼å®¹ç­–ç•¥**ï¼šä¿ç•™ `wheel` ç¼©æ”¾é€šé“ï¼ˆChrome/Edge è§¦æ§æ¿ä¸é¼ æ ‡æ»šè½®ï¼‰ï¼Œå¹¶ä¸ Safari `gesture*` é€šé“å¹¶è¡Œå…¼å®¹ã€‚
- **ç¼©æ”¾é”šç‚¹ä¸€è‡´æ€§**ï¼šSafari åŒæŒ‡æåˆä½¿ç”¨æ‰‹åŠ¿ä¸­å¿ƒä½œä¸ºé”šç‚¹è®¡ç®—ä½ç§»ï¼Œç¼©æ”¾æ—¶ç”»é¢ä¸æ¼‚ç§»ã€‚

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`

---

## [2026-02-23] æ¸¸æˆæ‰‹åŠ¿å›å½’ä¿®å¤ï¼ˆDesktop ç¼©æ”¾ + é€šå…³å¯¹æ¯”æ¾å¼€å›æš–ï¼‰

### å˜æ›´å†…å®¹
- **Desktop ç¼©æ”¾ä¿®å¤**ï¼šä¸ºæ¸¸æˆä¸»ç”»å¸ƒæ–°å¢ `wheel/pinch` ç¼©æ”¾è¾“å…¥ï¼Œè§£å†³æ¡Œé¢ç«¯ç¼©æ”¾æ‰‹åŠ¿æ— å“åº”ã€‚
- **åæ ‡æ˜ å°„ä¿®å¤**ï¼šDesktop ç‚¹å‡»ç§»åŠ¨ç½—ç›˜æ—¶ï¼ŒæŒ‰å½“å‰æˆ¿é—´åç§»/ç¼©æ”¾åç®—å½’ä¸€åŒ–åæ ‡ï¼Œé¿å…ç¼©æ”¾åæ¢æµ‹ç‚¹ä½åç§»ã€‚
- **è§†è§‰åŒæ­¥ä¿®å¤**ï¼šç½—ç›˜åœ¨ Desktop ä¸‹è·Ÿéšæˆ¿é—´ç¼©æ”¾/å¹³ç§»å®æ—¶é‡å®šä½ï¼Œä¿è¯è§†è§‰ä¸é€»è¾‘ä¸€è‡´ã€‚
- **é€šå…³å¯¹æ¯”ä¿®å¤**ï¼šä¿®å¤â€œæŒ‰ä½åˆ‡å†·å›¾åæ¾å¼€ä¸å›æš–â€çš„çŠ¶æ€å¡æ­»é—®é¢˜ï¼š
  - å¯¹æ¯”æ‰‹åŠ¿ç›‘å¬ä»ä»… `completed` æ”¹ä¸º `completed/comparing` å…¨ç¨‹ç”Ÿæ•ˆã€‚
  - é‡Šæ”¾é€»è¾‘ç»Ÿä¸€æ‰§è¡Œ `setComparing(false)`ï¼Œé¿å…å› çŠ¶æ€åˆ‡æ¢æ—¶æœºå¯¼è‡´æ¼å›é€€ã€‚
  - å¯¹æ¯”æœŸé—´ç¦ç”¨ç½—ç›˜ç§»åŠ¨/ç¢°æ’å›è°ƒï¼Œé¿å…çŠ¶æ€å†²çªã€‚

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`

---

## [2026-02-23] æ¸¸æˆé¡µæ‰‹åŠ¿å¤±æ•ˆä¿®å¤ï¼ˆæ‹–åŠ¨/ç¼©æ”¾æ¢å¤ + æ— å†²çªï¼‰

### å˜æ›´å†…å®¹
- **é—®é¢˜ä¿®å¤**ï¼šä¿®å¤æ¸¸æˆé¡µç§»åŠ¨ç«¯æ‹–åŠ¨ä¸åŒæŒ‡ç¼©æ”¾å¤±æ•ˆé—®é¢˜ï¼Œæ¢å¤å¯ç”¨æ€§ã€‚
- **è¾“å…¥é€šé“é‡æ„**ï¼šå°† Mobile æ‰‹åŠ¿ä» `touch*` æ”¹ä¸ºç»Ÿä¸€ `pointer` å¤šæŒ‡çŠ¶æ€æœºï¼ˆ`pan`/`pinch`ï¼‰ï¼Œé¿å… touch ä¸ pointer åŒé€šé“ç«äº‰ã€‚
- **å†²çªæ¶ˆé™¤**ï¼š
  - Mobile ä¸‹å…³é—­ Pixi stage/compass çš„ pointer äº¤äº’æ¨¡å¼ï¼Œé¿å…ä¸åŸç”Ÿæ‰‹åŠ¿äº‰æŠ¢äº‹ä»¶ã€‚
  - å†·æš–å¯¹æ¯”æ‰‹åŠ¿ä»…åœ¨ `completed` çŠ¶æ€æŒ‚è½½ï¼Œé¿å…å’Œæ¸¸æˆä¸­æ‹–æ‹½/ç¼©æ”¾å†²çªã€‚
- **ä¸æ»‘ä¼˜åŒ–**ï¼šæ–°å¢ç›®æ ‡ä½å§¿ + ticker æ’å€¼ï¼ˆlerpï¼‰æ›´æ–°ï¼Œæ‹–åŠ¨/ç¼©æ”¾æ›´å¹³æ»‘ä¸”è¿ç»­ã€‚
- **ç¼©æ”¾ç¨³å®šæ€§**ï¼šåŒæŒ‡ç¼©æ”¾ä»¥æ‰‹åŠ¿ä¸­å¿ƒä¸ºé”šç‚¹è®¡ç®—ä½ç§»ï¼Œç¼©æ”¾è¿‡ç¨‹ä¸­ç”»é¢ä¸é£˜ç§»ï¼›åŒæŒ‡åˆ‡å•æŒ‡å¯æ— ç¼å›åˆ°æ‹–åŠ¨çŠ¶æ€ã€‚

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`

---

## [2026-02-23] Mobile ç«¯æ¸¸æˆæ‰‹åŠ¿ + Devvit éš”ç¦»çª—å£é”™è¯¯ä¿®å¤

### å˜æ›´å†…å®¹
- **é—®é¢˜ä¿®å¤**ï¼šMobile ç«¯æ¸¸æˆè¿›è¡Œä¸­ç‚¹å‡»å±å¹•æŠ¥é”™ "isolation çª—å£ä¸èƒ½å‘é€æ¶ˆæ¯ç»™ parent"
- **æ ¹æœ¬åŸå› **ï¼šä¹‹å‰çš„ä¿®å¤é”™è¯¯åœ°è®© Mobile ç«¯æ¸¸æˆè¿›è¡Œä¸­ä¸é˜»æ­¢ pointer äº‹ä»¶å†’æ³¡
- **æ­£ç¡®æ–¹æ¡ˆ**ï¼š
  - å§‹ç»ˆé˜»æ­¢ pointer äº‹ä»¶å†’æ³¡ï¼ˆé¿å…è§¦å‘ Devvit é”™è¯¯ï¼‰
  - åªåœ¨é€šå…³åæ‰æ‰§è¡Œå†·æš–å¯¹æ¯”é€»è¾‘
  - touch äº‹ä»¶å’Œ pointer äº‹ä»¶æ˜¯ç‹¬ç«‹çš„ï¼Œé˜»æ­¢ pointer å†’æ³¡ä¸å½±å“ touch æ‰‹åŠ¿

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`

---

## [2026-02-23] GameStartPage æ¯›ç»ç’ƒæ•ˆæœä¼˜åŒ–ï¼ˆé«˜çº§æ„Ÿæå‡ï¼‰

### å˜æ›´å†…å®¹
- **é—®é¢˜ä¿®å¤**ï¼šGameStartPage æ¯›ç»ç’ƒæ•ˆæœä¸é«˜çº§ï¼ŒèƒŒæ™¯é€å¾—å¤ªå¤šå¯¼è‡´å»‰ä»·æ„Ÿ
- **æ ¹æœ¬åŸå› **ï¼šé®ç½©å±‚å åŠ æ–¹å¼é”™è¯¯ + backdrop-filter æ•ˆæœæ‰“æŠ˜
- **é®ç½©å±‚ç®€åŒ–**ï¼š
  - ä»ä¸‰å±‚å åŠ æ”¹ä¸ºä¸¤å±‚ï¼ˆä¸ SplashPage ä¸€è‡´ï¼‰
  - å¾„å‘æ¸å˜ + é¡¶éƒ¨/åº•éƒ¨æ¸å˜
- **æ¯›ç»ç’ƒå‚æ•°ä¼˜åŒ–**ï¼š
  - èƒŒæ™¯æ¨¡ç³Šï¼š`blur(16px)` â†’ `blur(24px)`
  - é¥±å’Œåº¦ï¼š`saturate(1.15)` â†’ `saturate(1.4)`
  - å¤–å‘å…‰èŒƒå›´ï¼š`48px` â†’ `100px`
  - å¤–å‘å…‰å¼ºåº¦ï¼š`0.04` â†’ `0.08`
  - å¤–å±‚å…‰æ™•ï¼š`0.12` â†’ `0.18`
- **è¾¹æ¡†ä¼˜åŒ–**ï¼š
  - è¾¹æ¡†å®½åº¦ï¼š`1px` â†’ `2px`
  - è¾¹æ¡†é€æ˜åº¦ï¼š`0.42` â†’ `0.45`
- **å†…è¾¹è·å¢åŠ **ï¼š
  - `py-3/py-4` â†’ `py-10/py-12`ï¼ˆå¢å¼ºå‘¼å¸æ„Ÿï¼‰

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`

---

## [2026-02-23] GameStartPage Desktop ä¸€å±å¸ƒå±€ä¼˜åŒ–

### å˜æ›´å†…å®¹
- **é—®é¢˜ä¿®å¤**ï¼šDesktop ç«¯é¡µé¢éœ€è¦ä¸Šä¸‹æ»šåŠ¨æ‰èƒ½æ˜¾ç¤ºå®Œæ•´ï¼Œç°ä¼˜åŒ–ä¸ºä¸€å±æ˜¾ç¤º
- **å¸ƒå±€ä¼˜åŒ–**ï¼š
  - å‡å°æ•´ä½“å®¹å™¨å°ºå¯¸ï¼š`max-w-[720px]` â†’ `max-w-[600px]`
  - å‡å°å†…è¾¹è·ï¼š`py-4/py-6` â†’ `py-3/py-4`
  - å‡å°å…ƒç´ é—´è·ï¼šå„ `mb-*`, `mt-*` å€¼æ™®éå‡å°‘ 1-2 çº§
  - å‡å°å­—ä½“å°ºå¯¸ï¼šæ ‡é¢˜ `22px/26px` â†’ `20px/22px`ï¼Œæ­£æ–‡æ™®éå‡å° 1px
- **æ­¥éª¤å¡ç‰‡ä¼˜åŒ–**ï¼š
  - å¡ç‰‡å®½åº¦ï¼š`92px/130px` â†’ `80px/100px`
  - å›¾æ ‡å°ºå¯¸ï¼š`size-16/size-[78px]` â†’ `size-12/size-14`
  - å›¾æ ‡å†…å®¹ï¼š`size={32}` â†’ `size={24}`
  - å­—ä½“å’Œé—´è·ç›¸åº”ç¼©å°
- **è¿æ¥å™¨ä¼˜åŒ–**ï¼šå®½åº¦ `w-5/w-8` â†’ `w-4/w-6`ï¼Œç®­å¤´ `size-1` â†’ `size-0.5`
- **æµ‹è¯•éªŒè¯**ï¼šfrontend-tester ç¡®è®¤ 1920x1080 viewport ä¸‹ä¸€å±æ˜¾ç¤ºå®Œæ•´

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`

---

## [2026-02-23] GameStartPage æ»šåŠ¨é—®é¢˜ä¿®å¤å°è¯•ï¼ˆæœªå®Œæˆï¼‰

### å˜æ›´å†…å®¹
- **é—®é¢˜æè¿°**ï¼šGameStartPage é¡µé¢åœ¨çœŸæœºä¸Šä»ç„¶å¯ä»¥ä¸Šä¸‹æ»šåŠ¨ï¼Œä¸€å±æ— æ³•æ˜¾ç¤ºå®Œæ•´å†…å®¹
- **å°è¯•ä¿®å¤**ï¼š
  - å¤–å±‚å®¹å™¨ï¼š`min-h-dvh` â†’ `h-dvh`ï¼Œå¼ºåˆ¶é™åˆ¶åœ¨è§†å£é«˜åº¦å†…
  - main å®¹å™¨ï¼š`min-h-dvh` â†’ `h-full`ï¼Œç»§æ‰¿çˆ¶å®¹å™¨é«˜åº¦
  - å‡å°‘å‚ç›´å†…è¾¹è·ï¼š`py-4/py-5` â†’ `py-2/py-3`
  - å‡å°‘å„å…ƒç´ é—´è·ï¼š`mt-2` â†’ `mt-1.5`, `mb-5` â†’ `mb-4` ç­‰
- **çŠ¶æ€**ï¼šé—®é¢˜ä»æœªå®Œå…¨è§£å†³ï¼Œéœ€è¦åç»­è¿›ä¸€æ­¥ä¼˜åŒ–

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`

---

## [2026-02-23] GameStartPage èƒŒæ™¯é®ç½©ä¼˜åŒ–

### å˜æ›´å†…å®¹
- **é—®é¢˜ä¿®å¤**ï¼šçœŸæœºAPPä¸ŠèƒŒæ™¯åº•å›¾å› é®ç½©è¿‡æš—è€Œå®Œå…¨ä¸å¯è§
- **é®ç½©é€æ˜åº¦è°ƒæ•´**ï¼š
  - å¾„å‘æ¸å˜é®ç½©ï¼š`rgba(8, 12, 20, 0.62)` â†’ `rgba(8, 12, 20, 0.35)`
  - çº¿æ€§æ¸å˜é®ç½©ï¼š`rgba(7, 10, 16, 0.82)` â†’ `rgba(7, 10, 16, 0.55)`
  - è¾¹ç¼˜æš—è§’ï¼š`rgba(10,14,22,0.45)` â†’ `rgba(10,14,22,0.25)`
  - åº•éƒ¨æ¸å˜ï¼š`#0E1116/70` â†’ `#0E1116/50`
- **ç»ç’ƒå¡ç‰‡ä¼˜åŒ–**ï¼š
  - èƒŒæ™¯ä¸é€æ˜åº¦ï¼š`0.58-0.66` â†’ `0.42-0.48`
  - è¾¹æ¡†é€æ˜åº¦ï¼š`0.38` â†’ `0.42`ï¼ˆç¨å¾®æé«˜ä»¥ç»´æŒå¯è¯»æ€§ï¼‰
- **èƒŒæ™¯å›¾ç‰‡**ï¼šç§»é™¤ `opacity-90`ï¼Œä½¿ç”¨å®Œå…¨ä¸é€æ˜

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`

---

## [2026-02-23] GameStartPage å¯åŠ¨é¡µå®¡ç¾é‡æ„ï¼ˆé«˜ç«¯æ°›å›´ç‰ˆï¼‰

### å˜æ›´å†…å®¹
- é‡æ„å¯åŠ¨é¡µè§†è§‰ç»“æ„ä¸ºä¸‰å±‚å™äº‹ï¼šèƒŒæ™¯èšç„¦å±‚ã€ç»ç’ƒä¿¡æ¯å±‚ã€ä¸»è¡ŒåŠ¨å±‚ï¼Œå»é™¤è¿‡åº¦å †å è£…é¥°é€ æˆçš„â€œå»‰ä»·æ„Ÿâ€ã€‚
- é‡å†™ä¸‰æ­¥éª¤æ¨¡å—ï¼ˆå¯»ç…æ°”/åŒ–ç…æ°”/è½¬æš–è‰²ï¼‰ä¸ºç»Ÿä¸€è§„æ ¼å¡ç‰‡ï¼Œæå‡å›¾æ ‡è¯†åˆ«åº¦ã€æ–‡æ¡ˆå¯è¯»æ€§ä¸èŠ‚å¥æ„Ÿã€‚
- è°ƒæ•´æ ‡é¢˜åŒºä¸åˆ†éš”çº¿æ¯”ä¾‹ï¼Œå¼ºåŒ–ç•™ç™½å’Œçºµå‘èŠ‚å¥ï¼Œé™ä½â€œå…ƒç´ å¯†åº¦è¿‡é«˜â€çš„å‹è¿«æ„Ÿã€‚
- é‡æ–°è®¾è®¡ä¸»æŒ‰é’®æè´¨ä¸é˜´å½±æ·±åº¦ï¼Œä¿ç•™åƒç´ é£ 3D æŒ‰å‹åé¦ˆï¼Œæå‡ç‚¹å‡»æ„å›¾èšç„¦ã€‚
- æ–°å¢æ›´å…‹åˆ¶çš„å…¥åœºä¸æ‰«å…‰åŠ¨ç”»ï¼Œå¹¶è¡¥å…… `prefers-reduced-motion` é™çº§ï¼Œä¿è¯æ°›å›´æ„Ÿä¸å¯ç”¨æ€§å¹³è¡¡ã€‚
- ä¼˜åŒ–ç§»åŠ¨ç«¯å°ºå¯¸ä¸é—´è·ï¼Œé¿å…å°å±ä¸Šå¡ç‰‡å†…å®¹å‘ç°ã€æ‹¥æŒ¤å’Œåº•éƒ¨ä¿¡æ¯å­˜åœ¨æ„Ÿè¿‡ä½çš„é—®é¢˜ã€‚

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`

---

## [2026-02-23] GameStartPage é«˜çº§æ„Ÿä¼˜åŒ– v2.0

### å˜æ›´å†…å®¹

**æ ¸å¿ƒé—®é¢˜ä¿®å¤**ï¼šè§£å†³ç»ç’ƒè´¨æ„Ÿ"å¤ªå¹³"ã€ç¼ºå°‘å±‚æ¬¡ã€ç¼ºä¹é«˜çº§æ„Ÿçš„é—®é¢˜

**è®¾è®¡å‡çº§**ï¼š

1. **å¢å¼ºç»ç’ƒè´¨æ„Ÿï¼ˆå‚è€ƒ Apple Vision Proï¼‰**ï¼š
   - èƒŒæ™¯ä¸é€æ˜åº¦ï¼š`0.08-0.12` â†’ `0.52-0.58`ï¼ˆçœŸæ­£å¯æ„ŸçŸ¥çš„ç»ç’ƒï¼‰
   - æ¨¡ç³ŠåŠå¾„ï¼š`blur(12px)` â†’ `blur(24px)`
   - å¢åŠ é¡¶éƒ¨é«˜å…‰çº¿æ¡ã€åº•éƒ¨é˜´å½±

2. **å››å±‚æ¬¡æ·±åº¦æ¶æ„**ï¼š
   - èƒŒæ™¯å±‚ï¼šå†·è‰²è°ƒç¯å¢ƒå…‰ç²’å­ + ç…æ°”ç²’å­
   - æ°›å›´å±‚ï¼š600px å¤§å‹å…‰è„‰å†² + ä¸­å±‚å…‰æ™•
   - å®¹å™¨å±‚ï¼šåŒå±‚è¾¹æ¡†ï¼ˆå¤–ç»†å†…ç²—ï¼‰+ é«˜çº§ç»ç’ƒå¡ç‰‡
   - å‰æ™¯å±‚ï¼šæ ‡é¢˜å‘å…‰ã€æµå…‰åˆ†éš”çº¿ã€æŒ‰é’®å€’å½±

3. **å¾®åŠ¨ç”»ç³»ç»Ÿ**ï¼š
   - **å…¥åœºåŠ¨ç”»**ï¼šå¡ç‰‡â†’æ ‡é¢˜â†’æ­¥éª¤â†’æ–‡å­—â†’æŒ‰é’®ï¼Œä¾æ¬¡æ·¡å…¥
   - **æµå…‰åˆ†éš”çº¿**ï¼šå·¦å³åŒå‘æµåŠ¨çš„é‡‘è‰²å…‰çº¿
   - **å…‰è„‰å†²**ï¼šä¸­å¿ƒåŒºåŸŸå‘¼å¸å¼å…‰æ™•ï¼ˆ4så‘¨æœŸï¼‰
   - **æŒ‰é’®å…‰æ™•**ï¼šå‘¼å¸æ•ˆæœï¼ˆ2så‘¨æœŸï¼‰
   - **æŒ‰é’®å€’å½±**ï¼šåº•éƒ¨è„‰å†²å¼å€’å½±
   - **æ‚¬åœåé¦ˆ**ï¼šå›¾æ ‡æ”¾å¤§+å…‰æ™•+æ ‡ç­¾ä¸Šæµ®

4. **ç²¾è‡´æ’ç‰ˆç»†èŠ‚**ï¼š
   - æ ‡é¢˜è£…é¥°çº¿ï¼šæ–¹å—+æ¸å˜çº¿ç»„åˆ
   - å­—é—´è·ä¼˜åŒ–ï¼š`tracking-[0.12em]`
   - åº•éƒ¨è£…é¥°ï¼šåƒç´ ç‚¹+æ¸å˜çº¿
   - æŒ‰é’®å†…é«˜å…‰çº¿æ¡

5. **è‰²å½©æ·±åº¦**ï¼š
   - æ·»åŠ å†·è‰²è°ƒç¯å¢ƒå…‰ï¼ˆè“ç°è‰²ï¼‰ä¸æš–é‡‘å½¢æˆå¯¹æ¯”
   - èƒŒæ™¯è‰²ï¼š`#0E1116` â†’ `#0A0C10`ï¼ˆæ›´æ·±é‚ƒï¼‰
   - ç¯å¢ƒå…‰ç²’å­ï¼š10s å‘¼å¸å‘¨æœŸ

### æ–‡ä»¶å˜æ›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx` - å®Œå…¨é‡æ„ v2.0
- `src/frontend/feng-shui-8-bit/src/client/index.css` - æ·»åŠ é«˜çº§åŠ¨ç”»ç³»ç»Ÿ

---

## [2026-02-23] GameStartPage UI è®¾è®¡å‡çº§ï¼ˆç²¾è‡´è´¨æ„Ÿç‰ˆï¼‰

### å˜æ›´å†…å®¹

**è®¾è®¡ç†å¿µå‡çº§**ï¼š
- ä»"æç®€ä½†å¹³åº¸"å‡çº§åˆ°"ç²¾è‡´æœ‰è´¨æ„Ÿ"
- å®Œå…¨æ²¿ç”¨ Splash é¡µé¢è®¾è®¡è¯­è¨€ï¼Œä¿æŒå…¨ç«™è§†è§‰ç»Ÿä¸€
- ä¿ç•™ç”¨æˆ·å–œçˆ±çš„ä¸‰æ­¥éª¤å›¾æ ‡ï¼ˆå¯»ç…æ°”ã€åŒ–ç…æ°”ã€è½¬æš–è‰²ï¼‰

**è§†è§‰è¯­è¨€å®ç°**ï¼š

1. **ä¸‰å±‚è¾¹æ¡†ä½“ç³»**ï¼š
   - å¤–å±‚ï¼š`-inset-4` å¾„å‘æ¸å˜é‡‘è‰²å…‰æ™•
   - ä¸­å±‚ï¼š`1px` æ·¡é‡‘è¾¹ + `2px` æµ“é‡‘è¾¹
   - å†…å±‚ï¼š`3px` ä¸»è¾¹æ¡† `rgba(196, 160, 106, 0.4)`

2. **æè‡´æ¯›ç»ç’ƒ**ï¼š
   - é€æ˜åº¦é™è‡³ `0.08-0.12`ï¼ˆå‡ ä¹å…¨é€ï¼‰
   - `blur(12px) saturate(1.3)` è¥é€ æ·±é‚ƒè´¨æ„Ÿ
   - å†…å‘å…‰ `inset 0 0 60px rgba(196, 160, 106, 0.04)`

3. **æ–‡å­—ç«‹ä½“å±‚æ¬¡**ï¼š
   - æ ‡é¢˜åŒå±‚é˜´å½±ï¼šé»‘è‰²æŠ•å½± `2px 2px 0px rgba(0,0,0,0.8)` + é‡‘è‰²å¤–å‘å…‰ `0 0 30px rgba(240,217,156,0.5)`
   - è‹±æ–‡å‰¯æ ‡é¢˜å¢åŠ å›½é™…æ„Ÿ `8-BIT FENG SHUI MASTER`

4. **åƒç´ åˆ†éš”çº¿**ï¼š
   - å°-å¤§-å°æ–¹å—æ’åˆ—ï¼Œä¸ Splash é¡µç»Ÿä¸€
   - æ·±ç»¿çº¿æ¡ + é‡‘è‰²æ–¹å—ç‚¹ç¼€

5. **3D é‡‘è‰²æŒ‰é’®**ï¼š
   - æ¸å˜åº•è‰² `linear-gradient(180deg, #D4B07A 0%, #B8904F 100%)`
   - å†…å¤–é˜´å½± + åº•éƒ¨åšåº¦æ¨¡æ‹Ÿ `0 4px 0px #5C4020`
   - å¤–å‘å…‰ `0 0 24px rgba(196, 160, 106, 0.25)`

6. **ä¸‰æ­¥éª¤å›¾æ ‡èåˆ**ï¼š
   - é€æ˜åº• + é‡‘è‰²è¾¹æ¡† + å†…å‘å…‰
   - å½“å‰æ­¥éª¤é«˜äº®ï¼ˆ50% è¾¹æ¡† + å‘å…‰ï¼‰
   - æœªæ¿€æ´»æ­¥éª¤å¼±åŒ–ï¼ˆ20% è¾¹æ¡† + 40% é€æ˜åº¦ï¼‰

### æ–‡ä»¶å˜æ›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx` - å®Œå…¨é‡æ„

---

## [2026-02-23] UI è§†è§‰æ€»æ–¹æ¡ˆ v2.0 å®ç°ï¼ˆé€šå…³è½¬æš–ä»ªå¼ + å†·æš–å¯¹æ¯”äº¤äº’ï¼‰

### å˜æ›´å†…å®¹

**æ ¸å¿ƒåŠŸèƒ½å®ç°**ï¼š

1. **é€šå…³è½¬æš–ä»ªå¼**ï¼š
   - æœ€åä¸€ä¸ªç…æ°”å‡€åŒ–åè§¦å‘ 700ms å†·æš–å›¾äº¤å‰æ¸å˜åŠ¨ç”»
   - ç½—ç›˜æ·¡å‡ºéšè—ï¼ˆ300ms åŠ¨ç”»ï¼‰
   - é€šå…³å¼¹çª—ä¸æ¸å˜åŠ¨ç”»åŒæ­¥æ˜¾ç¤º
   - å¼¹çª—å¯ç‚¹å‡»å¤–éƒ¨åŒºåŸŸå…³é—­

2. **å†·æš–å¯¹æ¯”äº¤äº’**ï¼š
   - é€šå…³åæŒ‰ä½å±å¹•/é¼ æ ‡æ˜¾ç¤ºå†·å›¾ï¼Œæ¾å¼€æ¢å¤æš–å›¾
   - Mobile: `pointerdown`/`pointerup` è§¦å‘
   - Desktop: `mousedown`/`mouseup` + Space é”®è§¦å‘
   - å¤±ç„¦/åˆ‡ tab æ—¶è‡ªåŠ¨æ¢å¤æš–å›¾ï¼ˆå¼‚å¸¸è¾¹ç•Œå¤„ç†ï¼‰

3. **å…³å¡é€šå…³è®°å¿†**ï¼š
   - ä½¿ç”¨ `localStorage` å­˜å‚¨å·²é€šå…³å…³å¡ ID åˆ—è¡¨
   - å†æ¬¡è¿›å…¥å·²é€šå…³å…³å¡ç›´æ¥æ˜¾ç¤ºæš–å›¾ã€ç½—ç›˜éšè—
   - æ–°å¢ `useLevelCompletion` Hook

4. **é‡ç©åŠŸèƒ½**ï¼š
   - é€šå…³å¼¹çª—æ–°å¢"é‡ç©"æŒ‰é’®
   - ç‚¹å‡»é‡ç©åæ¸…é™¤é€šå…³è®°å½•ï¼Œé‡ç½®ä¸ºå†·å›¾+ç½—ç›˜æ¢æµ‹æ¨¡å¼

5. **æ¸¸æˆçŠ¶æ€æœº**ï¼š
   - æ–°å¢ `GameStateMachine` ç±»å‹ï¼š`scanning` | `event_modal` | `resolving` | `transitioning` | `completed` | `comparing`
   - çŠ¶æ€è¿ç§»é€»è¾‘å®Œå–„ï¼Œæ”¯æŒå¼‚å¸¸è¾¹ç•Œå¤„ç†

**è§†è§‰è¯­è¨€ç»Ÿä¸€**ï¼š

1. **è‰²å½©ç³»ç»Ÿ**ï¼š
   - æ–°å¢å®Œæ•´çš„è‰²å½©å˜é‡ï¼š`--color-feng-bg-0/1/2/3`ã€`--color-feng-text-0/1/2/3`ã€`--color-feng-accent-0/1/2`
   - è¯­ä¹‰çŠ¶æ€è‰²ï¼š`--color-feng-success`ï¼ˆå·²å‡€åŒ–ï¼‰ã€`--color-feng-error`ï¼ˆé”™è¯¯åé¦ˆï¼‰
   - ç»Ÿä¸€æš–é‡‘å¼ºè°ƒè‰²ç³»ï¼Œç¦æ­¢å¤šè‰²ä¸»é¢˜æ¼‚ç§»

2. **ç»ç’ƒæè´¨å·¥å…·ç±»**ï¼š
   - `.feng-glass` - æ ‡å‡†ç»ç’ƒå¡ç‰‡
   - `.feng-glass-light` - è½»é‡ç»ç’ƒï¼ˆèƒŒæ™¯å±‚ï¼‰
   - `.feng-btn` - åƒç´ é£æ ¼æŒ‰é’®
   - `.feng-border-pixel` - åƒç´ è¾¹æ¡†è£…é¥°

### æ–‡ä»¶å˜æ›´
- `src/frontend/feng-shui-8-bit/src/client/types/game.ts` - æ–°å¢çŠ¶æ€æœºç±»å‹
- `src/frontend/feng-shui-8-bit/src/client/stores/GameContext.tsx` - çŠ¶æ€æœºé€»è¾‘
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx` - é€šå…³äº¤äº’
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx` - é€šå…³çŠ¶æ€ä¼ é€’
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx` - æ¸å˜åŠ¨ç”» + ç½—ç›˜æ·¡å‡º
- `src/frontend/feng-shui-8-bit/src/client/hooks/useLevelCompletion.ts` - é€šå…³è®°å¿† Hook
- `src/frontend/feng-shui-8-bit/src/client/components/game/EventModal.tsx` - ä¿®å¤ lint è­¦å‘Š
- `src/frontend/feng-shui-8-bit/src/client/index.css` - è§†è§‰è¯­è¨€ç»Ÿä¸€

---

## [2026-02-22] UI è§†è§‰æ€»æ–¹æ¡ˆ v2.0 å®šç¨¿ï¼ˆå”¯ä¸€æ‰§è¡Œæ ‡å‡†ï¼‰

### å˜æ›´å†…å®¹
- æ–°å¢ `docs/design/ui/fengshui-ui-visual-masterplan-v2.0.md`ï¼Œå®šä¹‰å…¨å±€å”¯ä¸€ UI è§†è§‰è¯­è¨€ä¸äº¤äº’æ ‡å‡†ï¼Œæ˜ç¡®â€œç®€çº¦ä½†é«˜çº§â€çš„ä¸»è®¾è®¡æ–¹å‘ã€‚
- æ”¶æ•›è‰²å½©ã€å­—ä½“ã€æè´¨ã€åœ†è§’ã€è¾¹æ¡†ã€åŠ¨æ•ˆèŠ‚å¥ä¸ºç»Ÿä¸€å‚æ•°ï¼Œç¦æ­¢å¤šè‰²ä¸»é¢˜æ¼‚ç§»ï¼Œç»Ÿä¸€ä¸ºä½é¥±å’Œåº•è‰² + å•ä¸€æš–é‡‘å¼ºè°ƒä½“ç³»ã€‚
- æ–°å¢å®Œæ•´â€œé€šå…³è½¬æš–ä»ªå¼â€è§„èŒƒï¼šä¸‰æ®µå¼æ—¶åºï¼ˆèšæ°”â†’å‡€åŒ–â†’æ”¶æŸï¼‰ï¼Œæ˜ç¡®åœ¨å…¨éƒ¨ç…æ°”å‡€åŒ–åå…ˆæ‰§è¡Œç®€æ´åŠ¨æ•ˆï¼Œå†åˆ‡æ¢æš–å›¾å¹¶ç§»é™¤ç½—ç›˜/ç…æ°”äº¤äº’å…ƒç´ ã€‚
- æ–°å¢â€œæŒ‰ä½æŸ¥çœ‹å†·å›¾ã€æ¾å¼€æ¢å¤æš–å›¾â€çš„å†·æš–å¯¹æ¯”äº¤äº’è§„èŒƒï¼Œè¦†ç›– Mobile/Desktop è§¦å‘è§„åˆ™ã€çŠ¶æ€æœºè¿ç§»ã€è¾“å…¥ä¼˜å…ˆçº§ä¸å¼‚å¸¸å¤„ç†ã€‚
- æä¾›ä¸ç°æœ‰ React + Pixi æ¶æ„çš„ä¸€å¯¹ä¸€å®ç°æ˜ å°„ã€è´¨é‡é—¨æ§›ä¸éªŒæ”¶æ¸…å•ï¼Œä½œä¸ºåç»­ UI æ”¹é€ å”¯ä¸€ä¾æ®ã€‚

### å½±å“èŒƒå›´
- `docs/design/ui/fengshui-ui-visual-masterplan-v2.0.md`
- `CHANGELOG.md`

---

## [2026-02-22] Level 1 èµ„æºæ›´æ–° + æ¸¸æˆäº¤äº’ä¼˜åŒ–

### å˜æ›´å†…å®¹

**Level 1 èµ„æºæ›´æ–°**ï¼š
- ä½¿ç”¨æœ€æ–°çš„ `resources/images/level1/` å›¾ç‰‡èµ„æº
- æ›´æ–°ç…ç‚¹æ•°æ®ä¸º 1 ä¸ªç…æ°”ç‚¹ï¼ˆæ¨ªæ¢å‹é¡¶ï¼‰ï¼Œä¸ `hotspots.json` ä¿æŒä¸€è‡´
- ç®€åŒ–ä¸ºå…¥é—¨æ•™ç¨‹å…³ï¼Œé¢„è®¡æ—¶é—´ 2-3 åˆ†é’Ÿ

**æ¸¸æˆäº¤äº’ä¼˜åŒ–**ï¼š
1. **ç§»é™¤é“å…·å›¾ç‰‡æ”¾ç½®**ï¼šé€‰æ‹©æ­£ç¡®ç­”æ¡ˆåä¸å†å°†é“å…·å›¾ç‰‡æ‘†æ”¾åˆ°åœºæ™¯ä¸­
2. **ç§»é™¤å°é»‘çƒæç¤º**ï¼šå»æ‰å…³å¡ä¸­çš„ç…æ°”ç²¾çµï¼ˆå°é»‘çƒï¼‰æ˜¾ç¤ºï¼Œç©å®¶éœ€é€šè¿‡ç½—ç›˜è‡ªè¡Œæ¢ç´¢
3. **è®°ä½ç”¨æˆ·é€‰æ‹©**ï¼šå¼¹çª—å†æ¬¡å¼¹å‡ºæ—¶è‡ªåŠ¨æ¢å¤ä¸Šæ¬¡é€‰æ‹©çš„é€‰é¡¹ï¼Œæ–¹ä¾¿é‡è¯•
4. **ç§»é™¤æ­£ç¡®æ ‡è®°**ï¼šé€‰é¡¹æŒ‰é’®ä¸å†æ˜¾ç¤ºé€‰ä¸­çŠ¶æ€æ ·å¼ï¼Œé€‰æ‹©æ­£ç¡®åæ— åé¦ˆæç¤º

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/public/images/level1/room-cold.png` - æ–°å›¾ç‰‡
- `src/frontend/feng-shui-8-bit/public/images/level1/room-warm.png` - æ–°å›¾ç‰‡
- `src/frontend/feng-shui-8-bit/src/client/data/levels.ts` - æ›´æ–°ç…ç‚¹æ•°æ®
- `src/frontend/feng-shui-8-bit/src/client/stores/GameContext.tsx` - ç§»é™¤é“å…·æ”¾ç½®
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx` - ç§»é™¤å°é»‘çƒ
- `src/frontend/feng-shui-8-bit/src/client/components/game/EventModal.tsx` - è®°ä½é€‰æ‹© + ç§»é™¤æ ‡è®°

---

## [2026-02-22] å…³å¡å›¾ç‰‡æ ‡è®°å»é™¤

### å˜æ›´å†…å®¹

**é—®é¢˜**ï¼šéƒ¨åˆ†å…³å¡å›¾ç‰‡ä¸Šæœ‰ AI ç”Ÿæˆæ—¶æ„å¤–ç•™ä¸‹çš„æ ‡è®°ï¼ˆå­—æ¯ A/B/C/D/Eï¼Œä»¥åŠ "CRITICAL: MIRROR SHA" ç­‰è‹±æ–‡å•è¯ï¼‰ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ Nano Banana Pro (gemini-3-pro-image-preview) çš„ image-to-image èƒ½åŠ›å»é™¤æ ‡è®°ï¼Œä¿æŒæˆ¿é—´ç»“æ„å’Œåƒç´ é£æ ¼ä¸å˜ã€‚

**å¤„ç†çš„å›¾ç‰‡**ï¼š

| å…³å¡ | å›¾ç‰‡ | çŠ¶æ€ |
|-----|------|-----|
| Level 4 | room-cold.png, room-warm.png | âœ… |
| Level 6 | room-cold.png, room-warm.png | âœ… |
| Level 12 | room-cold.png, room-warm.png | âœ… |
| Level 15 | room-cold.png | âœ… |
| Level 17 | room-cold.png | âœ… |
| Level 18 | room-cold.png, room-warm.png | âœ… |
| Level 19 | room-cold.png, room-warm.png | âœ… |
| Level 20 | room-cold.png | âœ… |

**å·¥å…·**ï¼š`tools/img-gen/src/remove-labels.ts`

### å½±å“èŒƒå›´
- `resources/images/level4/room-cold.png`
- `resources/images/level4/room-warm.png`
- `resources/images/level6/room-cold.png`
- `resources/images/level6/room-warm.png`
- `resources/images/level12/room-cold.png`
- `resources/images/level12/room-warm.png`
- `resources/images/level15/room-cold.png`
- `resources/images/level17/room-cold.png`
- `resources/images/level18/room-cold.png`
- `resources/images/level18/room-warm.png`
- `resources/images/level19/room-cold.png`
- `resources/images/level19/room-warm.png`
- `resources/images/level20/room-cold.png`

---

## [2026-02-22] å…³å¡é£æ°´é—®é¢˜å…¨é¢ä¿®å¤ï¼ˆæš–è‰²å›¾ç…æ°”è§£å†³ï¼‰

### å˜æ›´å†…å®¹

**ä¿®å¤èŒƒå›´**ï¼šæ ¹æ® `docs/design/fix/level-fengshui-issues-v1.0.md` æ–¹æ¡ˆï¼Œä¿®å¤æ‰€æœ‰é—®é¢˜å…³å¡çš„æš–è‰²å›¾ï¼Œç¡®ä¿æ¯ä¸ªç…æ°”éƒ½æœ‰å¯¹åº”çš„è§£å†³æ–¹æ¡ˆã€‚

**ä¿®å¤å…³å¡æ¸…å•**ï¼š

| å…³å¡ | é—®é¢˜ | ä¿®å¤æ–¹æ¡ˆ | çŠ¶æ€ |
|-----|------|---------|------|
| Level 3 | å°–è§’ç…æè¿°ä¸å¤Ÿç²¾ç¡® | æ›´æ–°æç¤ºè¯ï¼Œæ˜ç¡®ç»¿æ¤ä½ç½® | âœ… |
| Level 4 | å‘³ç…ï¼ˆçŒ«ç ‚ç›†ï¼‰æœªé®æŒ¡ | æ·»åŠ é—¨å¸˜é®æŒ¡çŒ«ç ‚ç›†åŒºåŸŸ | âœ… |
| Level 7 | é•œå­æœªé®æŒ¡ã€hotspots.json ä¸å‡†ç¡® | é•œå­ç”¨å¸ƒå¸˜å®Œå…¨é®æŒ¡ + é‡æ–°åˆ†æ | âœ… |
| Level 11 | ç¶å°å¤–éœ²æœªè§£å†³ | å±é£å®Œå…¨é®æŒ¡ç¶å°è§†çº¿ | âœ… |
| Level 13 | è‘«èŠ¦ä½ç½®ä¸å¯¹ã€é—¨å†²æœªè§£å†³ã€è´¢ä½æœ‰æ‚ç‰© | ç²¾ç¡®ä½ç½®æè¿° + è´¢ä½æ¸…ç† | âœ… |
| Level 15 | 5 ä¸ªç…æ°”éœ€è¦æ˜ç¡®è§£å†³æ–¹æ¡ˆ | è‘«èŠ¦+ç»¿æ¤+ç›ç¯+é—¨å¸˜+çª—å¸˜ | âœ… |
| Level 16 | 5 ä¸ªç…æ°”éœ€è¦æ˜ç¡®è§£å†³æ–¹æ¡ˆ | é‡‘èŸ¾+ç›ç¯+ç»¿æ¤+çª—å¸˜+é—¨å¸˜ | âœ… |
| Level 17 | é•œå­ä»ç„¶å¯¹ç€åºŠ | å¸ƒå¸˜å®Œå…¨é®æŒ¡é•œå­ | âœ… |
| Level 18 | 5 ä¸ªç…æ°”éœ€è¦éªŒè¯è§£å†³ | çŸ³æ•¢å½“+å±±æµ·é•‡+è²”è²…+å±é£+ç»¿æ¤ | âœ… |
| Level 19 | 4 ä¸ªç…æ°”åªè§£å†³ 1 ä¸ª | é¾™é¾Ÿ+è‘«èŠ¦+è´¢ä½æ¸…ç†+é—¨å¸˜ | âœ… |

**æç¤ºè¯ä¼˜åŒ–è¦ç‚¹**ï¼š

1. **é•œå­é®æŒ¡ä¸“ç”¨æ¨¡æ¿**ï¼š
   ```
   - The LARGE WALL MIRROR facing the bed MUST be COMPLETELY COVERED
   - A thick DECORATIVE FABRIC CURTAIN is hung over the mirror surface
   - The mirror surface should NOT be visible at all
   ```

2. **ç¶å°é®æŒ¡ä¸“ç”¨æ¨¡æ¿**ï¼š
   ```
   - A wooden folding SCREEN is placed BETWEEN the kitchen stove and living area
   - The screen completely blocks the direct line of sight to the stove
   ```

3. **é—¨å¸˜é®æŒ¡ä¸“ç”¨æ¨¡æ¿**ï¼š
   ```
   - A FABRIC CURTAIN is HUNG on the door frame
   - The curtain covers the door opening completely
   ```

**å·¥å…·ä¿®å¤**ï¼š
- å®‰è£… `undici` æ”¯æŒ Node.js fetch ä»£ç†
- é…ç½®å…¨å±€ä»£ç† `http://127.0.0.1:7890`
- **é‡è¦**ï¼šå§‹ç»ˆä½¿ç”¨ `gemini-3-pro-image-preview` (Nano Banana Pro) æ¨¡å‹ç”Ÿæˆå›¾ç‰‡ï¼Œåˆ‡å‹¿æ›´æ”¹

### æ–‡ä»¶å˜æ›´
- `docs/design/game/level3/prompts/room-warm-v1.0.md` - ä¼˜åŒ–
- `docs/design/game/level4/prompts/room-warm-v1.0.md` - ä¼˜åŒ–ï¼ˆæ·»åŠ é—¨å¸˜ï¼‰
- `docs/design/game/level7/prompts/room-warm-v1.0.md` - ä¼˜åŒ–ï¼ˆé•œå­é®æŒ¡ï¼‰
- `docs/design/game/level11/prompts/room-warm-v1.0.md` - ä¼˜åŒ–ï¼ˆç¶å°é®æŒ¡ï¼‰
- `docs/design/game/level13/prompts/room-warm-v1.0.md` - ä¼˜åŒ–ï¼ˆç²¾ç¡®ä½ç½®ï¼‰
- `docs/design/game/level15/prompts/room-warm-v1.0.md` - ä¼˜åŒ–ï¼ˆ5 ä¸ªç…æ°”ï¼‰
- `docs/design/game/level16/prompts/room-warm-v1.0.md` - ä¼˜åŒ–ï¼ˆ5 ä¸ªç…æ°”ï¼‰
- `docs/design/game/level17/prompts/room-warm-v1.0.md` - ä¼˜åŒ–ï¼ˆé•œå­é®æŒ¡ï¼‰
- `docs/design/game/level18/prompts/room-warm-v1.0.md` - ä¼˜åŒ–ï¼ˆ5 ä¸ªç…æ°”ï¼‰
- `docs/design/game/level19/prompts/room-warm-v1.0.md` - ä¼˜åŒ–ï¼ˆ4 ä¸ªç…æ°”ï¼‰
- `resources/images/level3/room-warm.png` - é‡æ–°ç”Ÿæˆ
- `resources/images/level4/room-warm.png` - é‡æ–°ç”Ÿæˆ
- `resources/images/level7/room-warm.png` - é‡æ–°ç”Ÿæˆ
- `resources/images/level7/analysis/hotspots.json` - é‡æ–°åˆ†æ
- `resources/images/level11/room-warm.png` - é‡æ–°ç”Ÿæˆ
- `resources/images/level13/room-warm.png` - é‡æ–°ç”Ÿæˆ
- `resources/images/level15/room-warm.png` - é‡æ–°ç”Ÿæˆ
- `resources/images/level16/room-warm.png` - é‡æ–°ç”Ÿæˆ
- `resources/images/level17/room-warm.png` - é‡æ–°ç”Ÿæˆ
- `resources/images/level18/room-warm.png` - é‡æ–°ç”Ÿæˆ
- `resources/images/level19/room-warm.png` - é‡æ–°ç”Ÿæˆ
- `tools/img-gen/src/gemini-client.ts` - æ·»åŠ ä»£ç†æ”¯æŒ + æ›´æ–°æ¨¡å‹åç§°

---

## [2026-02-22] å…³å¡å›¾ç‰‡é‡æ–°ç”Ÿæˆï¼ˆæˆ¿é—´å°ºå¯¸é€’è¿›ä½“ç³» + Level 3 ç…æ°”ç±»å‹ä¿®æ­£ï¼‰

### å˜æ›´å†…å®¹

**é‡æ–°ç”ŸæˆèŒƒå›´**ï¼š
- Level 3ï¼šç…æ°”ç±»å‹ä» `beam_sha` æ”¹ä¸º `sharp_corner_sha`ï¼ˆå°–è§’ç…ï¼‰
- Level 7-20ï¼šå®½é«˜æ¯”ä» 16:9 æ›´æ–°ä¸ºé€’è¿›ä½“ç³»

**æˆ¿é—´å°ºå¯¸é€’è¿›ä½“ç³»éªŒè¯**ï¼š

| å…³å¡èŒƒå›´ | ç›®æ ‡å®½é«˜æ¯” | å®é™…å°ºå¯¸ | å®é™…å®½é«˜æ¯” | çŠ¶æ€ |
|---------|----------|---------|----------|-----|
| Level 1-6 | 16:9 | 1376Ã—768 | 1.79:1 | âœ… |
| Level 7-10 | 2:1 | 1456Ã—720 | 2.02:1 | âœ… |
| Level 11-15 | 2:1 | 1456Ã—720 | 2.02:1 | âœ… |
| Level 16-20 | 2.5:1 | 1632Ã—656 | 2.48:1 | âœ… |

**è§†è§‰é€’è¿›æ•ˆæœ**ï¼š
- å›¾ç‰‡å®½åº¦ä» 1376px â†’ 1456px â†’ 1632px é€’å¢
- ç©å®¶å¯æ˜æ˜¾æ„Ÿå—æˆ¿é—´ä»å°åˆ°å¤§çš„è§†è§‰å˜åŒ–
- ç…æ°”ç‚¹è¶Šå¤šï¼Œæˆ¿é—´è¶Šå¤§ï¼Œè§‚å¯Ÿéš¾åº¦è¶Šé«˜

**æ–°å¢é“å…·æç¤ºè¯**ï¼ˆ11 ä¸ªï¼‰ï¼š
- `salt-lamp` - ç›ç¯ï¼ˆåŒ–è§£é˜´ç…ï¼‰
- `copper-gourd` - é“œè‘«èŠ¦ï¼ˆåŒ–è§£ç”µçº¿ç…ï¼‰
- `money-toad` - é‡‘èŸ¾ï¼ˆè´¢ä½æ‘†ä»¶ï¼‰
- `lucky-cat` - æ‹›è´¢çŒ«ï¼ˆè´¢ä½æ‘†ä»¶ï¼‰
- `bagua-mirror` - å…«å¦é•œï¼ˆåŒ–è§£å£åˆ€ç…ï¼‰
- `shan-hai-zhen` - å±±æµ·é•‡ï¼ˆåŒ–è§£å¤©æ–©ç…ï¼‰
- `stone-tablet` - çŸ³æ•¢å½“ï¼ˆåŒ–è§£è·¯å†²ç…ï¼‰
- `pi-xiu` - è²”è²…ï¼ˆæ‹›è´¢ç‘å…½ï¼‰
- `crystal-ball` - æ°´æ™¶çƒï¼ˆåŒ–è§£æ¥¼æ¢¯ç…ï¼‰

**ä¿®å¤**ï¼š
- Level 3 åˆ†ææç¤ºè¯æ›´æ–°ä¸º `sharp_corner_sha`ï¼ˆå°–è§’ç…ï¼‰
- Level 10 é‡æ–°ç”Ÿæˆï¼Œå®½é«˜æ¯”ä» 16:9 ä¿®æ­£ä¸º 2:1

### æ–‡ä»¶å˜æ›´
- `resources/images/level3/` - é‡æ–°ç”Ÿæˆï¼ˆå°–è§’ç…åœºæ™¯ï¼‰
- `resources/images/level7-20/` - é‡æ–°ç”Ÿæˆï¼ˆæ–°å®½é«˜æ¯”ï¼‰
- `resources/images/shared/items/` - æ–°å¢ 9 ä¸ªé“å…· PNG
- `docs/design/game/level1/prompts/items/` - æ–°å¢ 9 ä¸ªé“å…·æç¤ºè¯
- `docs/design/game/level3/analysis/sha-analysis-v1.0.md` - æ›´æ–°ä¸ºå°–è§’ç…

---

## [2026-02-22] ä¿®å¤ Mobile/Desktop åˆ‡æ¢ä¸€æ¬¡åå¡æ­»ï¼ˆPixi é‡å»ºä¸ Canvas æ¸…ç†é—®é¢˜ï¼‰

### å˜æ›´å†…å®¹
- ä¿®å¤ `GameStage` åœ¨å°ºå¯¸å˜åŒ–æ—¶é¢‘ç¹é”€æ¯é‡å»º Pixi å®ä¾‹çš„é—®é¢˜ï¼šåˆå§‹åŒ–æ”¹ä¸ºä»…åœ¨ `isMobile/coldImage/warmImage` å˜åŒ–æ—¶è§¦å‘ï¼Œ`width/height` å˜åŒ–ä»…æ‰§è¡Œ `renderer.resize`ã€‚
- ä¿®å¤ `app.destroy(true)` è¯¯åˆ  React ç®¡ç†çš„ `<canvas>`ï¼šæ”¹ä¸º `app.destroy(undefined, true)`ï¼Œä»…é”€æ¯ Pixi èµ„æºï¼Œä¸ç§»é™¤ DOM è§†å›¾ã€‚
- è¡¥é½åˆ‡æ¢æ¨¡å¼æ—¶çš„äº‹ä»¶æ¸…ç†ï¼šæ˜¾å¼ç§»é™¤ `pointerdown/pointermove/pointerup/pointerupoutside` ä¸ `wheel` ç›‘å¬ï¼Œé¿å…åˆ‡æ¢åæ®‹ç•™ç›‘å¬å åŠ å¯¼è‡´å¡æ­»ã€‚
- å‡å°‘ `GameplayPage` çš„å®¹å™¨å°ºå¯¸æ— æ•ˆçŠ¶æ€æ›´æ–°ï¼šä»…å½“ `width/height` å®é™…å˜åŒ–æ—¶æ‰æ›´æ–° `containerSize`ï¼Œé™ä½åˆ‡æ¢è¿‡ç¨‹é‡æ¸²æŸ“å‹åŠ›ã€‚

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`
- `CHANGELOG.md`

---

## [2026-02-22] GameStage Mobile/Desktop åˆ‡æ¢å´©æºƒé—®é¢˜ä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜æè¿°**ï¼š
- åœ¨æµè§ˆå™¨è¿è¡Œæ¸¸æˆæ—¶ï¼Œä» mobile åˆ‡æ¢åˆ° desktop æˆ–åå‘åˆ‡æ¢æ—¶ç¨‹åºå´©æºƒ
- æŠ¥é”™ä½ç½®ï¼š`GameStage.tsx:452 Uncaught` + `GameStage.tsx:331 [GameStage] Cleanup`
- æ•´ä¸ªé¡µé¢å¡æ­»ï¼Œå¿…é¡»åˆ·æ–°ç½‘é¡µ

**æ ¹æœ¬åŸå› **ï¼š
- å½“ `isMobile` çŠ¶æ€æ”¹å˜æ—¶ï¼ŒGameStage çš„å¤šä¸ª useEffect éƒ½è¦æ‰§è¡Œ cleanup
- React ä¸ä¿è¯ cleanup çš„æ‰§è¡Œé¡ºåºï¼Œå¯¼è‡´ä¸åŒ effect ä¹‹é—´çŠ¶æ€ä¸ä¸€è‡´
- åŠ¨ç”» ticker å¯èƒ½åœ¨ PixiJS app è¢« destroy åè¿˜åœ¨å°è¯•è¿è¡Œ
- å¤šä¸ª useEffect ä¹‹é—´å¯¹ `appRef.current` çš„è®¿é—®äº§ç”Ÿç«æ€æ¡ä»¶

**ä¿®å¤æ–¹æ¡ˆ**ï¼š

1. **ä½¿ç”¨ key å±æ€§å¼ºåˆ¶é‡æ–°æŒ‚è½½**ï¼ˆGameplayPage.tsxï¼‰ï¼š
   ```jsx
   <GameStage key={`${currentLevel.id}-${isMobile}`} ... />
   ```
   - å½“ `isMobile` å˜åŒ–æ—¶ï¼ŒReact å°† GameStage è§†ä¸ºå…¨æ–°ç»„ä»¶
   - æ—§ç»„ä»¶çš„æ‰€æœ‰ useEffect cleanup æŒ‰ç¡®å®šé¡ºåºæ‰§è¡Œï¼ˆå…ˆå­åçˆ¶ï¼‰
   - æ–°ç»„ä»¶ä»å¤´å¼€å§‹åˆå§‹åŒ–ï¼Œå®Œå…¨é¿å…çŠ¶æ€å¤ç”¨é—®é¢˜

2. **åŠ å¼º cleanup é€»è¾‘**ï¼ˆGameStage.tsxï¼‰ï¼š
   - åœ¨ destroy ä¹‹å‰å…ˆè°ƒç”¨ `app.ticker.stop()` åœæ­¢æ‰€æœ‰åŠ¨ç”»
   - æ”¹ä¸º `app.destroy(true)` å®Œå…¨æ¸…ç†èµ„æºï¼ˆç§»é™¤æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨å’Œå­èŠ‚ç‚¹ï¼‰
   - æ·»åŠ æ›´è¯¦ç»†çš„æ—¥å¿—ä¾¿äºæ’æŸ¥

**ä¸ºä»€ä¹ˆå…¶ä»–é¡µé¢æ²¡é—®é¢˜**ï¼š
- SplashPageã€GameStartPageã€LevelSelectPage éƒ½æ˜¯çº¯ React UIï¼Œæ²¡æœ‰å¤æ‚çš„ Canvas çŠ¶æ€
- åªéœ€è¦ CSS é‡æ–°æ¸²æŸ“ï¼Œä¸éœ€è¦é”€æ¯/é‡å»º WebGL ä¸Šä¸‹æ–‡

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx` - æ·»åŠ  key å±æ€§
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx` - åŠ å¼º cleanup é€»è¾‘

---


### å˜æ›´å†…å®¹

**é—®é¢˜å‘ç°**ï¼šæ‰€æœ‰å…³å¡å›¾ç‰‡å°ºå¯¸ç›¸åŒï¼ˆ1376Ã—768ï¼‰ï¼Œæ— è®ºç…æ°”ç‚¹æ•°é‡ã€‚Level 1ï¼ˆ1ä¸ªç…æ°”ç‚¹ï¼‰å’Œ Level 20ï¼ˆ7ä¸ªç…æ°”ç‚¹ï¼‰æˆ¿é—´å¤§å°ä¸€æ ·ï¼Œç¼ºå°‘éš¾åº¦é€’è¿›çš„è§†è§‰åé¦ˆã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šè®¾è®¡æˆ¿é—´å°ºå¯¸é€’è¿›ä½“ç³»ï¼Œé€šè¿‡å›¾ç‰‡å®½é«˜æ¯”å’Œç©ºé—´æè¿°é€’è¿›ï¼Œè®©ç©å®¶æ„Ÿå—åˆ°ä»å°æˆ¿é—´åˆ°å¤§ç©ºé—´çš„è§†è§‰å˜åŒ–ã€‚

### æˆ¿é—´å°ºå¯¸åˆ†çº§

| å°ºå¯¸ç­‰çº§ | å®½é«˜æ¯” | å›¾ç‰‡å°ºå¯¸ | å¯è§†é¢ç§¯ | é€‚ç”¨å…³å¡ |
|---------|-------|---------|---------|---------|
| **COMPACT** | 16:9 | 1376Ã—768 | 15-30mÂ² | Level 1-6 |
| **MEDIUM** | 2:1 | 1536Ã—768 | 35-50mÂ² | Level 7-10 |
| **LARGE** | 2:1 | 1600Ã—800 | 55-80mÂ² | Level 11-15 |
| **EXPANSIVE** | 2.5:1 | 1920Ã—768 | 90-150mÂ² | Level 16-20 |

### æç¤ºè¯æ›´æ–°ï¼ˆv3.0 â†’ v4.0ï¼‰

**æ‰€æœ‰ 40 ä¸ªæç¤ºè¯æ–‡ä»¶å·²æ›´æ–°**ï¼š

| æ–‡ä»¶ç±»å‹ | æ•°é‡ | å˜æ›´å†…å®¹ |
|---------|------|---------|
| room-cold-v1.0.md | 20 ä¸ª | æ–°å¢ ROOM SCALE + SPATIAL COMPLEXITY ç»´åº¦ |
| room-warm-v1.0.md | 20 ä¸ª | å®½é«˜æ¯”åŒæ­¥æ›´æ–° |

**å®½é«˜æ¯”å˜æ›´**ï¼š

| å…³å¡èŒƒå›´ | room-cold | room-warm | ç©ºé—´æè¿° |
|---------|----------|----------|---------|
| Level 1-6 | 16:9ï¼ˆä¿æŒï¼‰ | 16:9ï¼ˆä¿æŒï¼‰ | ç´§å‡‘å•é—´ï¼Œæ‰€æœ‰å®¶å…·è¿‘è·ç¦»å¯è§ |
| Level 7-10 | 16:9 â†’ **2:1** | 16:9 â†’ **2:1** | æ˜æ˜¾åˆ†åŒºï¼Œéœ€è¦æ‰«è§†æ›´å¤šåŒºåŸŸ |
| Level 11-15 | 16:9 â†’ **2:1** | 16:9 â†’ **2:1** | å¤šåŠŸèƒ½åŒºåŸŸï¼Œç…æ°”ç‚¹åˆ†å¸ƒåœ¨ä¸åŒåŒºåŸŸ |
| Level 16-20 | 16:9 â†’ **2.5:1** | 16:9 â†’ **2.5:1** | è¶…å¤§ç©ºé—´ï¼Œå¤šæ¥¼å±‚/å¤šåŒºåŸŸ/å¤–éƒ¨ç…æ°” |

### è§†è§‰é€’è¿›æ•ˆæœ

- å›¾ç‰‡å®½åº¦ä» 1376px å¢åŠ åˆ° 1920pxï¼ˆå¢åŠ  40%ï¼‰
- ç©å®¶å°†æ˜æ˜¾æ„Ÿå—åˆ°æˆ¿é—´ä»å°åˆ°å¤§çš„å˜åŒ–
- ç…æ°”ç‚¹è¶Šå¤šï¼Œæˆ¿é—´è¶Šå¤§ï¼Œè§‚å¯Ÿéš¾åº¦è¶Šé«˜

### æ–‡ä»¶å˜æ›´

- `docs/design/game/level1-20/prompts/room-cold-v1.0.md` - 20 ä¸ªæ–‡ä»¶å…¨éƒ¨å‡çº§ä¸º v4.0
- `docs/design/game/level1-20/prompts/room-warm-v1.0.md` - 20 ä¸ªæ–‡ä»¶å®½é«˜æ¯”åŒæ­¥æ›´æ–°
- `docs/design/game/levels-master-plan.md` - æ–°å¢"äºŒã€æˆ¿é—´å°ºå¯¸é€’è¿›ä½“ç³»"ç« èŠ‚
- `tools/img-gen/src/prompts.ts` - æ–°å¢ `extractAspectRatio()` å‡½æ•°
- `tools/img-gen/src/pipeline.ts` - ä»æç¤ºè¯æ–‡ä»¶è§£æå®½é«˜æ¯”
- `tools/img-gen/src/types.ts` - æ·»åŠ  2:1 å’Œ 2.5:1 å®½é«˜æ¯”ç±»å‹

---

## [2026-02-22] Level 1-20 å…³å¡å›¾ç‰‡å…¨éƒ¨ç”Ÿæˆå®Œæˆ

### å˜æ›´å†…å®¹

**ä½¿ç”¨ img-gen å·¥å…·å®Œæˆæ‰€æœ‰ 20 ä¸ªå…³å¡çš„å›¾ç‰‡èµ„äº§ç”Ÿæˆ**ï¼š

| èµ„æºç±»å‹ | æ•°é‡ | çŠ¶æ€ |
|---------|------|------|
| å†·è‰²åº•å›¾ (room-cold.png) | 20/20 | âœ… å…¨éƒ¨å®Œæˆ |
| æš–è‰²ç»ˆå›¾ (room-warm.png) | 20/20 | âœ… å…¨éƒ¨å®Œæˆ |
| AI åˆ†æ (hotspots.json) | 20/20 | âœ… å…¨éƒ¨å®Œæˆ |
| å…±äº«é“å…· | 5 ä¸ª | âœ… å…¨éƒ¨å®Œæˆ |
| **æ€»æ–‡ä»¶æ•°** | **66** | âœ… |

**ç”Ÿæˆå…³å¡åˆ—è¡¨**ï¼š
- Level 1-3: å…¥é—¨çº§æ•™ç¨‹å…³ï¼ˆæ¨ªæ¢å‹é¡¶ã€é•œå†²åºŠã€å°–è§’ç…ï¼‰
- Level 4-6: åˆçº§å…³å¡ï¼ˆé—¨å†²ã€å‘³ç…ã€èƒŒé—¨ç…ï¼‰
- Level 7-10: ä¸­çº§å…³å¡ï¼ˆæ–°å©šæˆ¿ã€å¨æˆ¿ã€é˜æ¥¼ã€è€äººæˆ¿ï¼‰
- Level 11-15: è¿›é˜¶å…³å¡ï¼ˆLoftã€å·¥ä½ã€åŠå…¬å®¤ã€å„¿ç«¥æˆ¿ã€å·¥ä½œå®¤ï¼‰
- Level 16-20: å¤§å¸ˆå…³å¡ï¼ˆç‘œä¼½å®¤ã€å¤å¼ã€åˆ«å¢…ã€é«˜ç®¡åŠå…¬å®¤ã€ç»ˆææŒ‘æˆ˜ï¼‰

**ç”Ÿæˆçš„é“å…·èµ„æº**ï¼ˆresources/images/shared/items/ï¼‰ï¼š
- `gourd.png` - è‘«èŠ¦ï¼ˆåŒ–è§£æ¨ªæ¢å‹é¡¶ï¼‰
- `screen.png` - å±é£ï¼ˆåŒ–è§£é—¨å†²ï¼‰
- `plant-broad.png` - é˜”å¶ç»¿æ¤ï¼ˆåŒ–è§£å°–è§’ç…ï¼‰
- `curtain.png` - é—¨å¸˜ï¼ˆåŒ–è§£å‘³ç…/é—¨å†²ï¼‰- æ–°å¢
- `dragon-turtle.png` - é¾™é¾Ÿï¼ˆåŒ–è§£èƒŒé—¨ç…ï¼‰- æ–°å¢

**img-gen å·¥å…·ä¿®å¤**ï¼š
1. **prompts.ts** - ä¿®å¤åˆ†ææç¤ºè¯åŠ è½½é€»è¾‘ï¼Œæ”¯æŒå¤šç§æ ¼å¼ï¼ˆç³»ç»Ÿ/ç”¨æˆ·åˆ†åŒºæ ¼å¼å’Œå•ä¸€å®Œæ•´æç¤ºè¯æ ¼å¼ï¼‰
2. **prompts.ts** - ä¿®å¤æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ”¯æŒè¿å­—ç¬¦é“å…·IDï¼ˆå¦‚ `plant-broad`ã€`dragon-turtle`ï¼‰
3. **pipeline.ts** - ä¿®å¤æ–‡æ¡£æ›´æ–°æ­¥éª¤ï¼Œé€‚é… AI è¿”å›çš„ä¸åŒå­—æ®µåï¼ˆ`sha_qi_points` vs `shaPoints`ï¼‰
4. **æ–°å¢é“å…·æç¤ºè¯** - `curtain-v1.0.md` å’Œ `dragon-turtle-v1.0.md`

### æ–‡ä»¶å˜æ›´
- `resources/images/level1-20/` - æ–°å¢æ‰€æœ‰å…³å¡å›¾ç‰‡å’Œåˆ†ææ•°æ®
- `resources/images/shared/items/` - æ–°å¢é“å…· PNG
- `docs/design/game/level1/prompts/items/curtain-v1.0.md` - æ–°å¢
- `docs/design/game/level1/prompts/items/dragon-turtle-v1.0.md` - æ–°å¢
- `tools/img-gen/src/prompts.ts` - ä¿®å¤æç¤ºè¯è§£æé€»è¾‘
- `tools/img-gen/src/pipeline.ts` - ä¿®å¤æ–‡æ¡£æ›´æ–°é€»è¾‘

---

## [2026-02-22] æ‰€æœ‰ Level 1-20 æç¤ºè¯å…¨é¢ä¼˜åŒ–ï¼ˆNano Banana Pro æœ€ä½³å®è·µ v3.0ï¼‰

### å˜æ›´å†…å®¹

**æ ¸å¿ƒä¼˜åŒ–ç›®æ ‡**ï¼š
1. åº”ç”¨ Nano Banana Pro æœ€ä½³å®è·µæå‡ç”Ÿæˆè´¨é‡
2. å†·å›¾æ§åˆ¶æ‚ä¹±åº¦ï¼ˆé˜´éƒä½†ä¸è¿‡åº¦è‚®è„ï¼‰
3. æš–å›¾å¼ºè°ƒæ•´æ´åº¦å˜åŒ–ï¼ˆé£æ°´è°ƒæ•´åæˆ¿é—´æ•´æ´æœ‰åºï¼‰

**åŸºäº Nano Banana Pro å®˜æ–¹æœ€ä½³å®è·µçš„ä¼˜åŒ–**ï¼š

| ä¼˜åŒ–ç»´åº¦ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | è¯´æ˜ |
|---------|-------|-------|------|
| **æè¿°æ–¹å¼** | å…³é”®è¯å †ç Œ | è‡ªç„¶è¯­è¨€å®Œæ•´å¥å­ | ç¬¦åˆæ¨¡å‹ç†è§£æ–¹å¼ |
| **ä¸Šä¸‹æ–‡æä¾›** | ä»…æè¿°ç‰©ä½“ | æ·»åŠ åœºæ™¯æƒ…å¢ƒå’Œæ°›å›´ | å¸®åŠ©æ¨¡å‹ç†è§£æ„å›¾ |
| **æè´¨æè¿°** | ç®€å•å‘½å | è¯¦ç»†çº¹ç†å’Œè´¨æ„Ÿæè¿° | æå‡è§†è§‰çœŸå®æ„Ÿ |
| **å…‰çº¿æè¿°** | "dim lighting" | å…·ä½“çš„ç…§æ˜æƒ…å¢ƒ | æ›´ç²¾ç¡®çš„æ°›å›´æ§åˆ¶ |
| **æ‚ä¹±åº¦æ§åˆ¶** | "messy", "cluttered" | "lived-in but energetically imbalanced" | é¿å…è¿‡åº¦è‚®è„ |
| **æ•´æ´åº¦è¦æ±‚** | æœªæåŠ | "é£æ°´è°ƒæ•´åæ•´æ´æœ‰åº" | æ–°å¢æ ¸å¿ƒè¦æ±‚ |

**å†·å›¾ï¼ˆroom-coldï¼‰æ ¸å¿ƒæ”¹è¿›**ï¼š

1. **æ°›å›´ä¼˜å…ˆäºåƒåœ¾**ï¼š
   - æ—§ï¼š`messy room with pizza boxes everywhere`
   - æ–°ï¼š`lived-in but energetically imbalanced - not disastrously messy, but with subtle visual cues that something feels "off"`

2. **å…·ä½“åŒ–æ‚ä¹±ç¨‹åº¦**ï¼š
   - æ˜ç¡®é™åˆ¶ï¼š`One or two pizza boxes (not excessive)`
   - é¿å…æç«¯ï¼šå¼ºè°ƒ"focused work session mess, not hoarder mess"

3. **æè´¨å’Œçº¹ç†ç»†èŠ‚**ï¼š
   - æ·»åŠ ï¼š`deliberate, artistic dithering patterns`
   - æ·»åŠ ï¼š`clean, crisp pixels and defined edges`

**æš–å›¾ï¼ˆroom-warmï¼‰æ ¸å¿ƒæ”¹è¿›**ï¼š

1. **æ–°å¢æ•´æ´åº¦è½¬æ¢ï¼ˆå…³é”®æ”¹è¿›ï¼‰**ï¼š
   ```
   TIDINESS TRANSFORMATION (CRITICAL - NEW):
   - Floor clutter is REDUCED and ORGANIZED (not completely sterile)
   - Items that were scattered are now neatly arranged or removed
   - The room looks "recently tidied up after feng shui consultation"
   - Books stacked neatly, trash removed, surfaces wiped
   - Maintain "lived-in" feeling but with order and intention
   ```

2. **æ›´ç²¾ç¡®çš„ç»“æ„ä¿æŒè¦æ±‚**ï¼š
   - æ˜ç¡®è¯´æ˜`STRUCTURAL PRESERVATION (CRITICAL)`
   - å¼ºè°ƒ`Only change: color temperature, lighting, prop additions, and surface tidiness`

3. **æ°›å›´æè¿°å¯¹æ¯”åŒ–**ï¼š
   - å†·ï¼š`Oppressive, cold, slightly melancholic`
   - æš–ï¼š`Peaceful, warm, harmonious, welcoming`

**æ‰€æœ‰å…³å¡ä¼˜åŒ–è¯¦æƒ…**ï¼š

| å…³å¡ | å†·å›¾ä¼˜åŒ–é‡ç‚¹ | æš–å›¾æ–°å¢æ•´æ´è¦æ±‚ |
|-----|------------|----------------|
| L1 | å¼€å‘è€…æˆ¿é—´æ‚ä¹±æ§åˆ¶ | æŠ«è¨ç›’æ¸…ç†ï¼Œä¹¦ç±æ•´é½æ‘†æ”¾ |
| L2 | çŒ«å¥´å§å®¤é€‚åº¦ç©å…· | çŒ«ç©å…·æ”¶å…¥ç¯®å­ |
| L3 | å­¦ç”Ÿå®¿èˆè€ƒè¯•å‹åŠ›æ°›å›´ | æ¡Œé¢æ•´ç†ï¼Œåœ°é¢æ¸…ç† |
| L4 | å®¢å…çŒ«å®¶å…·å¸ƒç½® | çŒ«ç©å…·æ•´ç†ï¼Œåœ°é¢å¸å°˜ |
| L5 | æ¸¸æˆå®…RGBæ°›å›´ | é›¶é£ŸåŒ…è£…æ¸…ç†ï¼Œå¤–è®¾æ•´ç† |
| L6 | åˆ›ä¸šå…¬å¸å¿™ç¢Œæ„Ÿ | æ–‡ä»¶å½’æ¡£ï¼Œæ¡Œé¢æ¸…ç† |
| L7 | æ–°å©šå¤«å¦»ç£¨åˆæœŸæ°›å›´ | ä¸ªäººç‰©å“æ•´ç† |
| L8 | å¼€æ”¾å¼å¨æˆ¿ç°ä»£æ„Ÿ | å¨æˆ¿å°é¢æ¸…æ´ï¼Œé¤å…·æ”¶çº³ |
| L9 | é˜æ¥¼ç‹¬ç‰¹ç©ºé—´æ„Ÿ | æˆ¿é—´æ•´ç†ï¼Œç‰©å“å½’ä½ |
| L10 | è€äººå§å®¤ç®€æœ´æ„Ÿ | æˆ¿é—´æ•´æ´èˆ’é€‚ |
| L11 | Loftç©ºé—´èƒ½é‡æµåŠ¨ | ç©ºé—´æ•´ç† |
| L12 | å·¥ä½æŠ€æœ¯æ„Ÿ | çº¿ç¼†æ•´ç†ï¼Œæ¡Œé¢æ¸…æ´ |
| L13 | åŠå…¬å®¤å›¢é˜Ÿæ°›å›´ | åŠå…¬åŒºåŸŸæ•´ç† |
| L14 | å„¿ç«¥æˆ¿å®‰å…¨æ€§ | ç©å…·æ•´ç†ï¼Œæˆ¿é—´æ¸…æ´ |
| L15 | å·¥ä½œå®¤åˆ›æ„æ°›å›´ | ç”»ææ•´ç† |
| L16 | ç‘œä¼½å·¥ä½œå®¤é™è°§æ„Ÿ | ç©ºé—´æ•´ç†æ¸…æ´ |
| L17 | å¤å¼å§å®¤ç§å¯†æ„Ÿ | æˆ¿é—´æ•´ç† |
| L18 | åˆ«å¢…è±ªåæ„Ÿ | ä¼˜é›…æ•´ç† |
| L19 | é«˜ç®¡åŠå…¬å®¤æƒå¨æ„Ÿ | ä¸“ä¸šæ•´ç† |
| L20 | ç»ˆææŒ‘æˆ˜å¤æ‚åº¦ | å®Œå…¨æ•´ç†å’Œè° |

### æ–‡ä»¶å˜æ›´
- `docs/design/game/level1-20/prompts/room-cold-v1.0.md` - å…¨éƒ¨æ›´æ–°ä¸º v3.0
- `docs/design/game/level1-20/prompts/room-warm-v1.0.md` - å…¨éƒ¨æ›´æ–°ä¸º v3.0

### ä¼˜åŒ–å‚è€ƒ
- [Nano Banana Pro Prompting Guide](https://dev.to/googleai/nano-banana-pro-prompting-guide-strategies-1h9n)
- Google AI Studio æœ€ä½³å®è·µæ–‡æ¡£

---

## [2026-02-22] Level 3 ä¿®æ”¹ä¸ºå°–è§’ç…ï¼ˆä¸ Level 1 åŒºåˆ†ï¼‰

### å˜æ›´å†…å®¹

**é—®é¢˜å‘ç°**ï¼šLevel 1 å’Œ Level 3 éƒ½æ˜¯"æ¨ªæ¢å‹é¡¶ + è‘«èŠ¦"ï¼Œå…³å¡é‡å¤

**è§£å†³æ–¹æ¡ˆ**ï¼šå°† Level 3 æ”¹ä¸º"å°–è§’ç… + é˜”å¶ç»¿æ¤"

**ä¿®æ”¹å†…å®¹**ï¼š
- ç…æ°”ç±»å‹ï¼š`beam_sha` â†’ `sharp_corner_sha`
- é—®é¢˜åœºæ™¯ï¼šåºŠä¸Šæ–¹æ¨ªæ¢ â†’ ä¹¦æ¡Œå°–è§’å¯¹ç€åºŠ
- è§£æ³•ï¼šæŒ‚è‘«èŠ¦ â†’ æ”¾é˜”å¶ç»¿æ¤
- é“å…·ï¼š`gourd` â†’ `plant-broad`

**æ•™å­¦æ›²çº¿ä¼˜åŒ–**ï¼š
- Level 1ï¼šæ¨ªæ¢å‹é¡¶ â†’ è‘«èŠ¦ï¼ˆé“å…·ä½¿ç”¨æ•™å­¦ï¼‰
- Level 2ï¼šé•œå†²åºŠ â†’ æ—‹è½¬é•œå­ï¼ˆéé“å…·è§£æ³•ï¼‰
- Level 3ï¼šå°–è§’ç… â†’ é˜”å¶ç»¿æ¤ï¼ˆæ–°é“å…· + æ–°ç…æ°”ï¼‰

### æ–‡ä»¶å˜æ›´
- `docs/design/game/level3/level-design.md` - ä¿®æ”¹
- `docs/design/game/level3/prompts/room-cold-v1.0.md` - ä¿®æ”¹
- `docs/design/game/level3/prompts/room-warm-v1.0.md` - ä¿®æ”¹

---

## [2026-02-22] æ‰€æœ‰å…³å¡æš–å›¾æç¤ºè¯ä¼˜åŒ–ï¼ˆNano Banana Pro æœ€ä½³å®è·µï¼‰

### å˜æ›´å†…å®¹

**ä¼˜åŒ–ç›®æ ‡**ï¼šç¡®ä¿æš–å›¾ç”Ÿæˆæ—¶é“å…·ä½ç½®ç²¾ç¡®ï¼Œä½“ç°é£æ°´ä¸“ä¸šæ€§

**æ ¸å¿ƒä¼˜åŒ–ç‚¹**ï¼š

| é“å…·ç±»å‹ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ¶‰åŠå…³å¡ |
|---------|-------|-------|---------|
| è‘«èŠ¦ï¼ˆæ¨ªæ¢ï¼‰ | "hung on the ceiling beam" | "TIED to the ceiling beam with a red cord, hanging down FROM the beam structure itself (NOT from the wall below)" | L1, L3â†’, L5, L8, L10, L11, L13, L14, L15, L17, L19, L20 |
| é•œå­æ—‹è½¬ | "rotated/angled" | "ROTATED to face AWAY from the bed, NO reflection visible" | L2, L7, L9, L14, L17, L20 |
| å±é£æ”¾ç½® | "placed between" | "placed perpendicular between... to completely block the direct line" | L4, L7, L8, L11, L13, L16, L18, L20 |
| ç»¿æ¤æ”¾ç½® | "placed near" | "placed between the sharp corner and the bed, positioned to visually BLOCK" | L5, L6, L7, L8, L11, L12, L13, L14, L15, L16, L17, L18, L20 |
| çª—å¸˜å®‰è£… | "hung on" | "HUNG on the door/window frame, fabric covers the opening" | L9, L10, L15, L16, L19, L20 |
| ç›ç¯æ”¾ç½® | "placed in corner" | "PLACED on a surface in the dark corner, emitting warm orange light" | L9, L10, L15, L16, L17, L20 |
| é¾™é¾Ÿæ”¾ç½® | "placed behind chair" | "placed on the desk surface BEHIND the chair, providing backing support" | L6, L12, L19 |
| é‡‘èŸ¾/è²”è²…æ”¾ç½® | "placed in wealth corner" | "placed in the wealth corner with clean space around it" | L12, L16, L18, L20 |

**Nano Banana Pro æŠ€å·§åº”ç”¨**ï¼š
1. åŠ¨è¯ç²¾ç¡®åŒ–ï¼šTIED to, WRAPPED AROUND, PLACED on, SUSPENDED from
2. ç©ºé—´å…³ç³»æ˜ç¡®ï¼šFROM the beam itself, BETWEEN corner and bed
3. è§†è§‰ç»“æœæè¿°ï¼šhanging DOWN, emitting warm light, blocking the edge
4. ç‰©ç†é€»è¾‘æ¸…æ™°ï¼šfabric covers, cord wrapped around

### æ–‡ä»¶å˜æ›´
- `docs/design/game/level1-20/prompts/room-warm-v1.0.md` - å…¨éƒ¨ä¼˜åŒ–

---

## [2026-02-22] Level 1 å›¾ç‰‡èµ„äº§ç”Ÿæˆå®Œæˆ

### å˜æ›´å†…å®¹

**ä½¿ç”¨ img-gen å·¥å…·ç”Ÿæˆ Level 1 å…¨éƒ¨å›¾ç‰‡èµ„äº§**ï¼š
- å†·è‰²åº•å›¾ `room-cold.png`ï¼šé˜´éƒé›¨å¤œå•èº«å…¬å¯“ï¼Œæ¨ªæ¢å‹åºŠ
- æš–è‰²ç»ˆå›¾ `room-warm.png`ï¼šæ¸©é¦¨é€šå…³æ€ï¼Œè‘«èŠ¦å·²æ‚¬æŒ‚åŒ–è§£ç…æ°”
- è‘«èŠ¦é“å…· `gourd.png`ï¼šåƒç´ é£æ ¼ï¼Œé€æ˜èƒŒæ™¯

**AI åˆ†æç»“æœ**ï¼š
- ç…æ°”ç‚¹æ•°é‡ï¼š1 ä¸ªï¼ˆæ¨ªæ¢å‹é¡¶ï¼‰
- ä½ç½®ï¼š`{ x: 0.5, y: 0.2 }`
- æ­£ç¡®è§£æ³•ï¼šåœ¨æ¨ªæ¢ä¸¤ç«¯æŒ‚è‘«èŠ¦åŒ–è§£

**è®¾è®¡æ–‡æ¡£æ›´æ–°**ï¼š
- `level-design.md` å·²æ ¹æ®å®é™…å›¾ç‰‡å’Œ AI åˆ†æç»“æœè‡ªåŠ¨æ›´æ–°
- ç…æ°”ç‚¹é…ç½®ã€é“å…·æ¸…å•ã€ç´ æçŠ¶æ€å‡å·²åŒæ­¥

**å›¾ç‰‡éªŒè¯**ï¼š
- å†·è‰²åº•å›¾ï¼šé˜´éƒå†·è‰²è°ƒï¼Œæ¨ªæ¢æ¸…æ™°å¯è§
- æš–è‰²ç»ˆå›¾ï¼šæ¸©é¦¨æš–è‰²è°ƒï¼Œç»“æ„ä¸€è‡´ï¼Œè‘«èŠ¦å·²æ”¾ç½®
- è‘«èŠ¦é“å…·ï¼šåƒç´ é£æ ¼ï¼Œé€æ˜èƒŒæ™¯ï¼Œé€‚åˆæ¸¸æˆä½¿ç”¨

### æ–‡ä»¶å˜æ›´
- `resources/images/level1/room-cold.png` - æ–°å¢
- `resources/images/level1/room-warm.png` - æ–°å¢
- `resources/images/level1/analysis/hotspots.json` - æ–°å¢
- `resources/images/shared/items/gourd.png` - æ–°å¢
- `docs/design/game/level1/level-design.md` - æ›´æ–°

---

## [2026-02-22] å…³å¡å›¾ç‰‡ç”Ÿæˆå·¥å…· (img-gen) åˆ›å»º

### å˜æ›´å†…å®¹

**åˆ›å»ºè‡ªåŠ¨åŒ–å›¾ç‰‡ç”Ÿæˆå·¥å…·**ï¼š
- ä½¿ç”¨ Google Gemini API è‡ªåŠ¨ç”Ÿæˆå…³å¡å›¾ç‰‡
- æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œå¯ä¸­æ–­åç»§ç»­æ‰§è¡Œ
- ä¸²è¡Œæ‰§è¡Œï¼Œéµå®ˆ API é€Ÿç‡é™åˆ¶

**å·¥å…·æ¶æ„**ï¼š
```
tools/img-gen/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts           # CLI å…¥å£
â”‚   â”œâ”€â”€ gemini-client.ts   # Gemini API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ pipeline.ts        # ç”Ÿæˆæµæ°´çº¿
â”‚   â”œâ”€â”€ progress.ts        # è¿›åº¦ç®¡ç†
â”‚   â”œâ”€â”€ prompts.ts         # æç¤ºè¯è§£æ
â”‚   â””â”€â”€ types.ts           # ç±»å‹å®šä¹‰
â”œâ”€â”€ progress/              # è¿›åº¦è®°å½•
â”œâ”€â”€ PLAN.md               # ä»»åŠ¡è§„åˆ’æ–‡æ¡£
â””â”€â”€ package.json
```

**ç”Ÿæˆæµç¨‹**ï¼š
1. ç”Ÿæˆå†·è‰²åº•å›¾ (text-to-image)
2. AI åˆ†æç”Ÿæˆ hotspots.json (å¤šæ¨¡æ€ç†è§£)
3. ç”Ÿæˆé“å…· PNG (text-to-image)
4. ç”Ÿæˆæš–è‰²ç»ˆå›¾ (image-to-image)
5. **æ›´æ–°è®¾è®¡æ–‡æ¡£** - æ ¹æ® hotspots.json è‡ªåŠ¨æ›´æ–° level-design.md

**å›¾æ–‡ä¸€è‡´æ€§**ï¼š
- éµå¾ª"ä»¥å®é™…å›¾ç‰‡ä¸ºå‡†"çš„åŸåˆ™
- AI åˆ†æåè‡ªåŠ¨æ›´æ–°å…³å¡æ–‡æ¡ˆ
- ç…æ°”ç‚¹ä½ç½®ã€é€‰é¡¹æ–‡æ¡ˆä¸å›¾ç‰‡ä¸€è‡´

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
npm run gen -- --level 1        # ç”Ÿæˆ Level 1
npm run gen -- --level 1 --resume  # æ–­ç‚¹ç»­ä¼ 
npm run gen -- --level 1 --step room-cold  # åªç”Ÿæˆå†·è‰²å›¾
```

**æ¨¡å‹é…ç½®**ï¼š
- å›¾ç‰‡ç”Ÿæˆï¼š`gemini-3-pro-image-preview` (Nano Banana Pro)
- å›¾ç‰‡ç†è§£ï¼š`gemini-3-pro-preview`

### æ–‡ä»¶å˜æ›´
- `tools/img-gen/` - æ–°å¢ç›®å½•å’Œæ‰€æœ‰æ–‡ä»¶
- `CHANGELOG.md` - æ›´æ–°è®°å½•

---

## [2026-02-22] Level 1 é‡æ„ä¸ºå•ç…æ°”ç‚¹æ•™ç¨‹å…³

### å˜æ›´å†…å®¹

**é‡æ„ Level 1 è®¾è®¡**ï¼š
- ç…æ°”ç‚¹ä» 4 ä¸ªç®€åŒ–ä¸º 1 ä¸ªï¼ˆæ¨ªæ¢å‹é¡¶ï¼‰
- æ›´æ–° level-design.mdã€prompts æ–‡ä»¶ã€analysis æ–‡ä»¶
- æ›´æ–° levels-master-plan.md éš¾åº¦è¯´æ˜

**è®¾è®¡åŸåˆ™**ï¼š
1. å•ä¸€ç„¦ç‚¹ï¼šåªæœ‰ 1 ä¸ªç…æ°”ç‚¹ï¼Œç©å®¶ä¸“æ³¨å­¦ä¹ åŸºæœ¬æ“ä½œ
2. è§†è§‰æ˜æ˜¾ï¼šæ¨ªæ¢å‹é¡¶æ˜¯æœ€å®¹æ˜“è¢«å‘ç°çš„ç…æ°”ç±»å‹
3. æ“ä½œç®€å•ï¼šåªéœ€é€‰æ‹©æ­£ç¡®é“å…·ï¼Œä¸éœ€è¦å¤æ‚äº¤äº’
4. å³æ—¶åé¦ˆï¼šè§£å†³åç«‹å³çœ‹åˆ°æˆ¿é—´å˜æš–

### æ–‡ä»¶å˜æ›´
- `docs/design/game/level1/level-design.md` - é‡æ„
- `docs/design/game/level1/prompts/room-cold-v1.0.md` - ç®€åŒ–
- `docs/design/game/level1/prompts/room-warm-v1.0.md` - ç®€åŒ–
- `docs/design/game/level1/analysis/sha-analysis-v1.0.md` - ç®€åŒ–
- `docs/design/game/levels-master-plan.md` - æ›´æ–° Level 1 è¯´æ˜

---

## [2026-02-22] Level 7-20 æç¤ºè¯æ–‡ä»¶åˆ›å»ºå®Œæˆ

### å˜æ›´å†…å®¹

**å®Œæˆæ‰€æœ‰å…³å¡æç¤ºè¯æ–‡ä»¶åˆ›å»º**ï¼š
 åˆ›å»º Level 9-10 æç¤ºè¯æ–‡ä»¶ï¼ˆ6 ä¸ªæ–‡ä»¶ï¼‰
 åˆ›å»º Level 12-15 æç¤ºè¯æ–‡ä»¶ï¼ˆ12 ä¸ªæ–‡ä»¶ï¼‰
 åˆ›å»º Level 17-20 æç¤ºè¯æ–‡ä»¶ï¼ˆ12 ä¸ªæ–‡ä»¶ï¼‰
 åˆ›å»º Level 7 analysis æ–‡ä»¶ï¼ˆ1 ä¸ªæ–‡ä»¶ï¼‰

**æ€»è®¡å®Œæˆ**ï¼š
 Prompts æ–‡ä»¶ï¼š40 ä¸ªï¼ˆLevel 1-20 å…¨éƒ¨å®Œæ•´ï¼‰
 Analysis æ–‡ä»¶ï¼š21 ä¸ªï¼ˆLevel 1-20 å…¨éƒ¨å®Œæ•´ï¼‰

**æ–‡ä»¶ç»“æ„**ï¼š
æ¯å…³åŒ…å« 3 ä¸ªæç¤ºè¯æ–‡ä»¶ï¼š
 `prompts/room-cold-v1.0.md` - å†·è‰²åº•å›¾æç¤ºè¯
 `prompts/room-warm-v1.0.md` - æš–è‰²ç»ˆå›¾æç¤ºè¯
 `analysis/sha-analysis-v1.0.md` - AI åˆ†ææç¤ºè¯

**æ–°å¢é“å…·**ï¼ˆLevel 17-20 å¤§å¸ˆå…³å¡ï¼‰ï¼š
 `crystal-ball` - æ°´æ™¶çƒï¼ˆLevel 17 æ¥¼æ¢¯ä¸‹ç…æ°”ï¼‰
 `shan-hai-zhen` - å±±æµ·é•‡ï¼ˆLevel 18 å¤©æ–©ç…ï¼‰
 `stone-tablet` - çŸ³æ•¢å½“ï¼ˆLevel 18 è·¯å†²ç…ï¼‰
 `pi-xiu` - è²”è²…ï¼ˆLevel 18 è´¢ä½ï¼‰
 `bagua-mirror` - å…«å¦é•œï¼ˆLevel 19 å£åˆ€ç…ï¼‰
 `lucky-cat` - æ‹›è´¢çŒ«ï¼ˆLevel 13/19 è´¢ä½ï¼‰
 `copper-gourd` - é“œè‘«èŠ¦ï¼ˆLevel 12 ç”µçº¿ç…ï¼‰

### å½±å“èŒƒå›´
 `docs/design/game/level7-20/prompts/*`
 `docs/design/game/level7-20/analysis/*`

---

## [2026-02-22] ç½—ç›˜å¿«è½¬åŒºåŸŸç¼©å°ä¼˜åŒ–

### å˜æ›´å†…å®¹

**é—®é¢˜**: å¿«è½¬ä¸å¼¹çª—çš„è¾¹ç¼˜åŒºåŸŸå¤ªå¤§ï¼ˆ1.5 å€åŠå¾„ï¼‰ï¼Œç¨å¾®ä¸€åŠ¨æŒ‡é’ˆå°±å¼€å§‹å¿«è½¬ï¼Œä½“éªŒä¸å¥½

**è§£å†³æ–¹æ¡ˆ**:
- è¾¹ç¼˜åŒºåŸŸä» `1.5 å€åŠå¾„` ç¼©å°åˆ° `0.8 å€åŠå¾„`
- æ ¸å¿ƒåŒºåŸŸä¿æŒ `0.4 å€åŠå¾„` ä¸å˜

**åˆ†å±‚è§¦å‘æœºåˆ¶**ï¼ˆæ›´æ–°ï¼‰:
- **è¾¹ç¼˜åŒºåŸŸ**ï¼ˆè·ç¦» < 0.8 å€åŠå¾„ï¼‰ï¼šæŒ‡é’ˆå¿«é€Ÿæ—‹è½¬ï¼Œ**ä¸å¼¹çª—**
- **æ ¸å¿ƒåŒºåŸŸ**ï¼ˆè·ç¦» < 0.4 å€åŠå¾„ï¼‰ï¼šæŒ‡é’ˆè¶…å¿«æ—‹è½¬ï¼Œ**è§¦å‘å¼¹çª—**
- **è¿œç¦»åŒºåŸŸ**ï¼šæŒ‡é’ˆå·¦å³ç¼“æ…¢æ‘†åŠ¨ï¼ˆÂ±45Â°ï¼‰

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/utils/distance.ts`

---

## [2026-02-22] ç½—ç›˜æŒ‡é’ˆåŠ¨ç”»ä¼˜åŒ–ï¼šåˆ†å±‚è§¦å‘ + è½¬é€Ÿè°ƒæ•´

### å˜æ›´å†…å®¹

**é—®é¢˜**: ç½—ç›˜æŒ‡é’ˆåœ¨è¿œç¦»ç…æ°”ç‚¹åæ²¡æœ‰æ¢å¤å·¦å³æ‘‡æ‘†ï¼Œä¸”éœ€è¦æ›´å¥½çš„æ¢æµ‹åé¦ˆ

**æ ¹æœ¬åŸå› **:
1. `swingTime` å’Œ `rotation` å˜é‡åœ¨ `useEffect` å†…éƒ¨å®šä¹‰ï¼Œå½“ `compassSpeed` å˜åŒ–æ—¶è¢«é‡ç½®ä¸º 0
2. Mobile ç«¯ç¼ºå°‘æŒç»­æ›´æ–° `compassSpeed` çš„é€»è¾‘

**è§£å†³æ–¹æ¡ˆ**:
1. æ–°å¢ `swingTimeRef` å’Œ `rotationRef` æŒä¹…ä¿å­˜åŠ¨ç”»çŠ¶æ€
2. Mobile ç«¯æ–°å¢ `onCompassSpeedChange` å›è°ƒï¼ŒæŒç»­æ›´æ–°é€Ÿåº¦

**åˆ†å±‚è§¦å‘æœºåˆ¶**ï¼ˆæ–°å¢ï¼‰:
- **è¾¹ç¼˜åŒºåŸŸ**ï¼ˆè·ç¦» < 1.5 å€é˜ˆå€¼ï¼‰ï¼šæŒ‡é’ˆå¿«é€Ÿæ—‹è½¬ï¼Œ**ä¸å¼¹çª—**
- **æ ¸å¿ƒåŒºåŸŸ**ï¼ˆè·ç¦» < 0.4 å€é˜ˆå€¼ï¼‰ï¼šæŒ‡é’ˆè¶…å¿«æ—‹è½¬ï¼Œ**è§¦å‘å¼¹çª—**
- **è¿œç¦»åŒºåŸŸ**ï¼šæŒ‡é’ˆå·¦å³ç¼“æ…¢æ‘†åŠ¨ï¼ˆÂ±45Â°ï¼‰

**è½¬é€Ÿä¼˜åŒ–**:
- `super-fast`: 0.15 â†’ 0.25
- `fast`: 0.05 â†’ 0.12

**åŠ¨ç”»è¡Œä¸º**:
- `normal` çŠ¶æ€ï¼šæŒ‡é’ˆå·¦å³ç¼“æ…¢æ‘†åŠ¨
- `fast` çŠ¶æ€ï¼šå¿«é€Ÿæ—‹è½¬ï¼ˆæ¥è¿‘æç¤ºï¼‰
- `super-fast` çŠ¶æ€ï¼šè¶…å¿«æ—‹è½¬ + å¼¹çª—ï¼ˆæ‰¾åˆ°ç…æ°”ç‚¹ï¼‰

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/utils/distance.ts`

---

## [2026-02-22] Mobile ç«¯ç…æ°”ç²¾çµä½ç½®ä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜**: ç…æ°”ç‚¹ç¢°æ’æ£€æµ‹ä½ç½®æ­£ç¡®äº†ï¼Œä½†ç…æ°”å°é»‘çƒï¼ˆç²¾çµï¼‰æ¸²æŸ“ä½ç½®ä»ç„¶é”™è¯¯

**æ ¹æœ¬åŸå› **:
- `createShaSprite` å‡½æ•°ä½¿ç”¨ canvas å°ºå¯¸ (`width`, `height`) è®¡ç®—ç²¾çµä½ç½®
- Mobile ç«¯ç…æ°”ç²¾çµè¢«æ·»åŠ åˆ° `roomContainer` å†…éƒ¨ï¼Œè€Œ `roomContainer` ä¸­çš„å›¾ç‰‡ä¿æŒåŸå§‹å°ºå¯¸
- å¯¼è‡´ç²¾çµä½ç½®è®¡ç®—åŸºå‡†ä¸ä¸€è‡´

**è§£å†³æ–¹æ¡ˆ**:
- Mobile ç«¯ï¼šä½¿ç”¨å›¾ç‰‡åŸå§‹å°ºå¯¸ (`imageDimensionsRef`) è®¡ç®—ç²¾çµä½ç½®
- Web ç«¯ï¼šç»§ç»­ä½¿ç”¨ canvas å°ºå¯¸è®¡ç®—ç²¾çµä½ç½®

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`

---

## [2026-02-22] Mobile ç«¯ç…æ°”ç‚¹ä½ç½®ä¿®å¤ + ç½—ç›˜æŒ‡é’ˆåŠ¨ç”»ä¼˜åŒ–

### å˜æ›´å†…å®¹

**é—®é¢˜ 1: Mobile ç«¯ç…æ°”ç‚¹ä½ç½®ä¸å¯¹**
- æ ¹æœ¬åŸå› ï¼šç¢°æ’æ£€æµ‹æ—¶ä½¿ç”¨ canvas å°ºå¯¸è®¡ç®—ç…æ°”ç‚¹ä½ç½®ï¼Œä½† Mobile ç«¯å›¾ç‰‡ä¿æŒåŸå§‹å°ºå¯¸
- è§£å†³æ–¹æ¡ˆï¼š
  - æ–°å¢ `imageDimensionsRef` ä¿å­˜å›¾ç‰‡åŸå§‹å°ºå¯¸
  - ç¢°æ’æ£€æµ‹æ—¶ä½¿ç”¨å›¾ç‰‡å°ºå¯¸è€Œé canvas å°ºå¯¸è®¡ç®—ç…æ°”ç‚¹ä½ç½®
  - ç…æ°”ç‚¹åŠå¾„ä¹ŸåŸºäºå›¾ç‰‡å°ºå¯¸è®¡ç®—

**é—®é¢˜ 2: ç½—ç›˜æŒ‡é’ˆåŠ¨ç”»**
- åŸæœ‰è¡Œä¸ºï¼šæŒ‡é’ˆæŒç»­æ—‹è½¬ï¼Œé€Ÿåº¦å›ºå®š
- æ–°è¡Œä¸ºï¼š
  - `normal` çŠ¶æ€ï¼ˆè¿œç¦»ç…æ°”ç‚¹ï¼‰ï¼šæŒ‡é’ˆå·¦å³ç¼“æ…¢æ‘†åŠ¨ï¼ˆÂ±45Â° èŒƒå›´ï¼‰
  - `fast/super-fast` çŠ¶æ€ï¼ˆé è¿‘ç…æ°”ç‚¹ï¼‰ï¼šæŒ‡é’ˆå¿«é€Ÿæ—‹è½¬
  - ä½¿ç”¨ `Math.sin()` å‡½æ•°å®ç°è‡ªç„¶çš„æ‘†åŠ¨æ•ˆæœ

**ä»£ç æ¸…ç†**ï¼š
- ç§»é™¤æœªä½¿ç”¨çš„å˜é‡ `lastPinchDistance`

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`

---

## [2026-02-22] Mobile/Web æ¸¸æˆäº¤äº’åˆ†ç¦»ä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
 Mobile ç«¯å›¾ç‰‡è¢«å‹ç¼©é€‚é…å±å¹•ï¼Œæ— æ³•æŸ¥çœ‹å…¨æ™¯
 Web ç«¯é”™è¯¯åœ°ä½¿ç”¨æ‹–æ‹½ç§»åŠ¨ç½—ç›˜ï¼Œåº”ä¸ºç‚¹å‡»ç§»åŠ¨

**Mobile ç«¯ä¿®å¤**ï¼š
 æˆ¿é—´å›¾ç‰‡ä¿æŒåŸå§‹å°ºå¯¸ï¼ˆä¸å‹ç¼©ï¼‰
 åˆå§‹ä½ç½®å±…ä¸­æ˜¾ç¤º
 è‡ªç”±æ‹–æ‹½ï¼ˆæ— èŒƒå›´é™åˆ¶ï¼‰
 æ»šè½®ç¼©æ”¾æ”¯æŒï¼ˆ0.5x - 2xï¼‰
 ç½—ç›˜å›ºå®šåœ¨å±å¹•ä¸­å¤®

**Web ç«¯ä¿®å¤**ï¼š
 æˆ¿é—´å›¾ç‰‡é€‚é…å±å¹•å°ºå¯¸ï¼ˆå›ºå®šï¼‰
 ç‚¹å‡»å±å¹•ä½ç½®ç§»åŠ¨ç½—ç›˜ï¼ˆéæ‹–æ‹½ï¼‰
 ç§»é™¤å›¾ç‰‡æ‹–æ‹½åŠŸèƒ½

**ç¢°æ’æ£€æµ‹ä¼˜åŒ–**ï¼š
 Mobile ç«¯ç¢°æ’æ£€æµ‹è€ƒè™‘æˆ¿é—´ç¼©æ”¾å› å­ï¼ˆ`roomScaleRef`ï¼‰
 ç…æ°”ç‚¹åæ ‡åŸºäºæˆ¿é—´å®¹å™¨è®¡ç®—

**ä»£ç ä¿®å¤**ï¼š
 æ·»åŠ  `React` å¯¼å…¥è§£å†³ `React.PointerEvent` ç±»å‹é”™è¯¯
 ä¿®å¤ ref è­¦å‘Šï¼šåœ¨ cleanup å‰å¤åˆ¶ `triggeredShaRef.current` å€¼

### å½±å“èŒƒå›´
 `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`

---

## [2026-02-21] æ¸¸æˆç½—ç›˜å›¾ç‰‡é›†æˆ

### å˜æ›´å†…å®¹

**ç½—ç›˜å›¾ç‰‡æ›¿æ¢ Graphics ç»˜åˆ¶**ï¼š
- åŠ è½½å®é™…åƒç´ é£ç½—ç›˜å›¾ç‰‡ï¼šåº•ç›˜ `pan.png` + æŒ‡é’ˆ `zhen.png`
- åº•ç›˜ä¿æŒé™æ­¢ï¼ŒæŒ‡é’ˆç‹¬ç«‹æ—‹è½¬ï¼ˆç¬¦åˆçœŸå®ç½—ç›˜ç‰©ç†æ•ˆæœï¼‰
- å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°å¤‡ç”¨ Graphics ç»˜åˆ¶æ–¹æ¡ˆ

**å°ºå¯¸ä¼˜åŒ–**ï¼š
- ç½—ç›˜ç›´å¾„ä» 100px è°ƒæ•´ä¸º 70pxï¼ˆcompassRadius: 50 â†’ 35ï¼‰
- æŒ‡é’ˆå°ºå¯¸ç›¸åº”è°ƒæ•´ï¼Œä¸æˆ¿é—´åœºæ™¯ç‰©ä»¶å½¢æˆåè°ƒæ¯”ä¾‹
- ç½—ç›˜ä½œä¸ºé£æ°´å·¥å…·ï¼Œç²¾è‡´ä½†ä¸æŠ¢çœ¼

**å›¾ç‰‡èµ„æºè·¯å¾„**ï¼š
- `public/images/shared/luopan/pan.png` - ç½—ç›˜åº•ç›˜ï¼ˆå…«å¦å›¾ï¼‰
- `public/images/shared/luopan/zhen.png` - ç½—ç›˜æŒ‡é’ˆ

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`
- `src/frontend/feng-shui-8-bit/public/images/shared/luopan/`

---

## [2026-02-21] Devvit éš”ç¦»çª—å£é”™è¯¯æœ€ç»ˆä¿®å¤ï¼ˆPointer Eventsï¼‰

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
- ä¹‹å‰çš„ä¿®å¤åªå¤„ç†äº† `onClick` äº‹ä»¶ï¼Œä½† Devvit éš”ç¦»çª—å£æ£€æµ‹åœ¨ Pointer Events ä¸Šè§¦å‘
- é”™è¯¯ï¼š`isolation çª—å£ä¸èƒ½å‘é€æ¶ˆæ¯ç»™ parent`
- éœ€è¦é˜»æ­¢æ‰€æœ‰ pointer äº‹ä»¶å†’æ³¡ï¼Œè€Œä¸ä»…ä»…æ˜¯ click äº‹ä»¶

**è§£å†³æ–¹æ¡ˆ**ï¼š
- åœ¨æ‰€æœ‰é¡µé¢çš„æ ¹å®¹å™¨ä¸Šæ·»åŠ å®Œæ•´çš„ pointer äº‹ä»¶å¤„ç†å™¨ï¼š
  - `onPointerDown`
  - `onPointerUp`
  - `onPointerMove`
  - `onPointerCancel`
- ç»Ÿä¸€ä½¿ç”¨ `handleStopPropagation` å‡½æ•°å¤„ç†æ‰€æœ‰äº‹ä»¶ç±»å‹
- å‚ç…§ GameStage.tsx çš„æˆåŠŸå®è·µï¼ˆcanvas ä¸Šå·²ä½¿ç”¨ pointer äº‹ä»¶ï¼‰

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/SplashPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/components/game/EventModal.tsx`

---

## [2026-02-21] æ‰€æœ‰é¡µé¢ Devvit éš”ç¦»çª—å£é”™è¯¯å…¨é¢ä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
- æ‰€æœ‰é¡µé¢ç‚¹å‡»éƒ½æŠ¥é”™ï¼š`isolation çª—å£ä¸èƒ½å‘é€æ¶ˆæ¯ç»™ parent`
- React ç‚¹å‡»äº‹ä»¶å†’æ³¡åˆ° window çº§åˆ«ï¼Œè§¦å‘ Devvit éš”ç¦»çª—å£æ£€æµ‹æœºåˆ¶
- SplashPage çš„ `requestExpandedMode` å’Œ GameStartPage/LevelSelectPage çš„ `navigate` éƒ½ä¼šè§¦å‘

**è§£å†³æ–¹æ¡ˆ**ï¼š
- åœ¨æ‰€æœ‰é¡µé¢çš„æ ¹å®¹å™¨å…ƒç´ ä¸Šæ·»åŠ  `onClick={handleContainerClick}`
- è°ƒç”¨ `e.stopPropagation()` é˜»æ­¢ç‚¹å‡»äº‹ä»¶å†’æ³¡åˆ°çˆ¶çª—å£
- ç»Ÿä¸€ä¿®å¤ä»¥ä¸‹æ–‡ä»¶ï¼š
  - `SplashPage.tsx`
  - `GameStartPage.tsx`
  - `LevelSelectPage.tsx`
  - `GameplayPage.tsx`
  - `EventModal.tsx`ï¼ˆå¼¹çª—ç»„ä»¶ï¼‰

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/SplashPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/components/game/EventModal.tsx`

---

## [2026-02-21] GameStage Devvit éš”ç¦»çª—å£é”™è¯¯æœ€ç»ˆä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
- æ¯æ¬¡ç‚¹å‡»é¡µé¢éƒ½æŠ¥é”™ï¼š`isolation çª—å£ä¸èƒ½å‘é€æ¶ˆæ¯ç»™ parent`
- PixiJS çš„ Pointer Events å†’æ³¡åˆ°çˆ¶çª—å£ï¼Œè§¦å‘ Devvit å†…éƒ¨é€šä¿¡æœºåˆ¶
- ä¹‹å‰çš„ä¿®å¤åªè§£å†³äº† cursor è®¾ç½®é—®é¢˜ï¼Œä½†äº‹ä»¶å†’æ³¡é—®é¢˜ä»ç„¶å­˜åœ¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
- åœ¨ canvas å…ƒç´ ä¸Šæ·»åŠ  React Pointer Event å¤„ç†å™¨
- è°ƒç”¨ `e.stopPropagation()` é˜»æ­¢äº‹ä»¶å†’æ³¡åˆ°çˆ¶çª—å£
- å¤„ç†çš„äº‹ä»¶ç±»å‹ï¼šonPointerDownã€onPointerUpã€onPointerMoveã€onPointerCancel

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`

---

## [2026-02-21] GameStage PixiJS v8 äº‹ä»¶ç³»ç»Ÿä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
- ç½—ç›˜ç‚¹å‡»æ— ååº”
- æ§åˆ¶å°æŠ¥ CSP è¿è§„é”™è¯¯ï¼š`data:image/png;base64` ä¸è¢«å…è®¸
- PixiJS v8 å¼ƒç”¨è­¦å‘Šï¼š`Container.name` åº”æ”¹ä¸º `Container.label`
- ç‚¹å‡»ç½—ç›˜è§¦å‘ Devvit éš”ç¦»çª—å£é”™è¯¯ï¼š`isolation çª—å£ä¸èƒ½å‘é€æ¶ˆæ¯ç»™ parent`

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **äº‹ä»¶ç³»ç»Ÿä¿®å¤**ï¼š
   - å°† `app.stage.eventMode = 'static'` ç§»åˆ°æ·»åŠ äº‹ä»¶ç›‘å¬ä¹‹å‰
   - ç¡®ä¿åœ¨ PixiJS v8 ä¸­æ­£ç¡®å¯ç”¨äº¤äº’äº‹ä»¶

2. **API æ›´æ–°**ï¼š
   - å°†æ‰€æœ‰ `Container.name` æ”¹ä¸º `Container.label`ï¼ˆPixiJS v8 å¼ƒç”¨ nameï¼‰
   - å°†æ‰€æœ‰ `getChildByName` æ”¹ä¸º `getChildByLabel`

3. **Devvit éš”ç¦»çª—å£é”™è¯¯ä¿®å¤**ï¼š
   - ç§»é™¤ PixiJS åŠ¨æ€ `cursor` å±æ€§è®¾ç½®ï¼ˆ`grab`/`grabbing`ï¼‰
   - æ”¹ç”¨ CSS `cursor-grab active:cursor-grabbing` æ§åˆ¶é¼ æ ‡æ ·å¼
   - PixiJS çš„ cursor åˆ‡æ¢ä¼šè§¦å‘ Devvit å†…éƒ¨é€šä¿¡ï¼Œå¯¼è‡´éš”ç¦»é”™è¯¯

4. **CSP è¯´æ˜**ï¼š
   - `data:image/png;base64` é”™è¯¯æ˜¯ PixiJS å†…éƒ¨æ£€æµ‹ ImageBitmap æ”¯æŒæ—¶è§¦å‘
   - è¯¥é”™è¯¯ä¸å½±å“åŠŸèƒ½ï¼Œå·²æœ‰å¤‡ç”¨åŠ è½½æ–¹æ¡ˆç»•è¿‡

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`

---

## [2026-02-21] GameStage unsafe-eval å…¼å®¹æ€§ä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
- é”™è¯¯ï¼š`Current environment does not allow unsafe-eval`
- ä¹‹å‰çš„ä¿®å¤ä½¿ç”¨äº† `@pixi/unsafe-eval` v7ï¼Œä½†é¡¹ç›®ä½¿ç”¨ PixiJS v8
- PixiJS v7 å’Œ v8 çš„ unsafe-eval æ¨¡å—ä¸å…¼å®¹

**è§£å†³æ–¹æ¡ˆ**ï¼š
- PixiJS v8 å†…ç½®äº† unsafe-eval æ”¯æŒï¼Œé€šè¿‡ `pixi.js/unsafe-eval` å­è·¯å¾„å¯¼å…¥
- ç§»é™¤ä¸å…¼å®¹çš„ `@pixi/unsafe-eval` v7 ä¾èµ–
- å°† `import '@pixi/unsafe-eval'` æ”¹ä¸º `import 'pixi.js/unsafe-eval'`
- ç¡®ä¿ unsafe-eval å¯¼å…¥åœ¨å…¶ä»– pixi.js å¯¼å…¥ä¹‹å‰

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`
- `src/frontend/feng-shui-8-bit/package.json`

---

## [2026-02-21] GameStage unsafe-eval æœ€ç»ˆä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
- é”™è¯¯ï¼š`Current environment does not allow unsafe-eval`
- PixiJS v8 çš„ WebGL å’Œ Canvas æ¸²æŸ“å™¨éƒ½ä¾èµ– unsafe-eval

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å®‰è£… `@pixi/unsafe-eval` åŒ…
- åœ¨ GameStage.tsx å¯¼å…¥ `@pixi/unsafe-eval` å¯ç”¨æ”¯æŒ
- ç§»é™¤ `preference: 'canvas'` é…ç½®

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`
- `package.json`ï¼ˆæ–°å¢ä¾èµ–ï¼‰

---

## [2026-02-21] GameStage unsafe-eval é”™è¯¯ä¿®å¤ï¼ˆå¤±è´¥å°è¯•ï¼‰

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
- é”™è¯¯ï¼š`Current environment does not allow unsafe-eval`
- æ ¹æœ¬åŸå› ï¼šReddit Devvit iframe ç¯å¢ƒç¦æ­¢ unsafe-eval
- PixiJS WebGL æ¸²æŸ“å™¨ä¾èµ– unsafe-eval

**å°è¯•æ–¹æ¡ˆ**ï¼š
- æ·»åŠ  `preference: 'canvas'` å¼ºåˆ¶ä½¿ç”¨ Canvas æ¸²æŸ“å™¨
- ä½† Canvas æ¸²æŸ“å™¨ä¹Ÿæœ‰ unsafe-eval æ£€æŸ¥ï¼Œæ–¹æ¡ˆå¤±è´¥

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`

---

## [2026-02-21] GameStage æ­»é”é—®é¢˜ä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
- æ—¥å¿—æ˜¾ç¤º `canvas= false`ï¼Œåˆå§‹åŒ–è¢«è·³è¿‡
- æ ¹æœ¬åŸå› ï¼šæ¸²æŸ“é€»è¾‘å­˜åœ¨æ­»é”
  - ç»„ä»¶å…ˆæ¸²æŸ“"åŠ è½½ä¸­..."ï¼ˆæ²¡æœ‰ canvasï¼‰
  - useEffect æ£€æŸ¥ `!canvas` å°±è·³è¿‡åˆå§‹åŒ–
  - `isReady` æ°¸è¿œä¸ä¼šå˜æˆ true
  - æ°¸è¿œæ¸²æŸ“"åŠ è½½ä¸­..."ï¼Œæ°¸è¿œä¸æ¸²æŸ“ canvas

**GameStage.tsx ä¿®å¤**ï¼š
- å§‹ç»ˆæ¸²æŸ“ canvasï¼Œæ— è®º isReady çŠ¶æ€
- å°†åŠ è½½çŠ¶æ€å’Œé”™è¯¯çŠ¶æ€æ”¹ä¸ºè¦†ç›–å±‚å½¢å¼
- ä½¿ç”¨ `pointer-events-none` è®©åŠ è½½å±‚ä¸é˜»æŒ¡äº¤äº’
- æ·»åŠ é‡è¯•æŒ‰é’®

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`

---

## [2026-02-21] GameStage å›¾ç‰‡åŠ è½½é—®é¢˜ä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
- æ¸¸æˆé¡µé¢å¡åœ¨"åŠ è½½ä¸­..."çŠ¶æ€
- æ ¹æœ¬åŸå› ï¼šPixiJS v8 çš„ `Assets.load` åœ¨æŸäº›ç¯å¢ƒä¸‹å¯èƒ½å¡ä½æˆ–å¤±è´¥

**GameStage.tsx ä¿®å¤**ï¼š
- æ·»åŠ  `Assets.init()` åˆå§‹åŒ–æ­¥éª¤
- æ·»åŠ  10 ç§’è¶…æ—¶å¤„ç†ï¼Œé˜²æ­¢åŠ è½½æ— é™å¡ä½
- æ·»åŠ å¤‡ç”¨åŠ è½½æ–¹æ¡ˆï¼šåŸç”Ÿ `Image` + `Texture.from()`
- å½“ `Assets.load` å¤±è´¥æ—¶è‡ªåŠ¨å›é€€åˆ°å¤‡ç”¨æ–¹æ¡ˆ
- æ·»åŠ æ›´è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºä¾¿äºæ’æŸ¥é—®é¢˜
- é“å…·åŠ è½½åŒæ ·æ·»åŠ å¤‡ç”¨æ–¹æ¡ˆ

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`

---

## [2026-02-21] Gameplay é¡µé¢ç©ºç™½é—®é¢˜ä¿®å¤

### å˜æ›´å†…å®¹

**é—®é¢˜åˆ†æ**ï¼š
- ç‚¹å‡»å…³å¡è¿›å…¥æ¸¸æˆé¡µé¢åæ˜¾ç¤ºç©ºç™½
- æ ¹æœ¬åŸå› ï¼šPixiJS åˆå§‹åŒ–ä¾èµ–é¡¹ä¸æ­£ç¡® + å®¹å™¨å°ºå¯¸è·å–ä¸å¯é 

**GameStage.tsx ä¿®å¤**ï¼š
- ä¿®å¤ useEffect ä¾èµ–æ•°ç»„ä¸ºç©ºçš„é—®é¢˜ï¼Œæ·»åŠ æ­£ç¡®çš„ä¾èµ–é¡¹
- æ·»åŠ  initKeyRef é˜²æ­¢é‡å¤åˆå§‹åŒ–
- æ·»åŠ é”™è¯¯çŠ¶æ€å¤„ç†å’Œé”™è¯¯æ˜¾ç¤º
- æ·»åŠ åŠ è½½çŠ¶æ€æ˜¾ç¤º
- å¢å¼º destroy é”™è¯¯å¤„ç†

**GameplayPage.tsx ä¿®å¤**ï¼š
- ä½¿ç”¨ ResizeObserver æ›¿ä»£ offsetWidth/offsetHeight è·å–å®¹å™¨å°ºå¯¸
- æ·»åŠ  `min-h-0` è§£å†³ flex å¸ƒå±€é«˜åº¦é—®é¢˜
- æ·»åŠ æ˜¾å¼é«˜åº¦ `height: calc(100vh - 60px)`
- æ·»åŠ åˆå§‹åŒ–åŠ è½½æç¤º

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`

---

## [2026-02-21] LevelSelect é¡µé¢ç§»åŠ¨ç«¯å¯¹æ¯”åº¦ä¿®å¤

### å˜æ›´å†…å®¹

**å¡ç‰‡èƒŒæ™¯è°ƒæ•´**ï¼š
- èƒŒæ™¯é€æ˜åº¦æé«˜ï¼š0.25-0.35 â†’ 0.65-0.75ï¼Œæ›´äº®æ›´æ¸…æ™°
- æ¨¡ç³Šå¼ºåº¦é™ä½ï¼šblur(20px) â†’ blur(12px)ï¼Œå‡å°‘ç»ç’ƒæ„Ÿä½†å¢åŠ å¯è¯»æ€§
- è¾¹æ¡†é€æ˜åº¦æé«˜ï¼šè®©å¡ç‰‡è½®å»“æ›´æ¸…æ™°

**æ–‡å­—é¢œè‰²æäº®**ï¼ˆç§»åŠ¨ç«¯ä¸“å±ï¼‰ï¼š
- é”å®šå…³å¡æ ‡é¢˜ï¼š#4A5568 â†’ #9CA3AF
- é”å®šå…³å¡åç§°ï¼š#3E4C43 â†’ #B8BCC4
- é”å®šå…³å¡æè¿°ï¼š#2D3748 â†’ #8B929C
- è§£é”å…³å¡åç§°ï¼š#E2E8F0 â†’ #F5F7FA
- è§£é”å…³å¡æè¿°ï¼š#8D97A8 â†’ #C4CAD6
- ç…æ°”æŒ‡ç¤ºå™¨é”å®šæ€ï¼š#5A6578 â†’ #9CA3AF

**ç¼©ç•¥å›¾é”å®šæ•ˆæœä¼˜åŒ–**ï¼š
- æ¨¡ç³Šåº¦é™ä½ï¼šblur(6px) â†’ blur(4px)
- äº®åº¦æé«˜ï¼šbrightness(0.4) â†’ brightness(0.6)
- é¢çº±é®ç½©å‡å¼±ï¼šé€æ˜åº¦ 0.5-0.7 â†’ 0.35-0.5
- é”å®šç¬¦å·å¯è§åº¦æé«˜

**åº•éƒ¨åŒºåŸŸä¼˜åŒ–**ï¼š
- æç¤ºæ–‡å­—é¢œè‰²ï¼š#5A6578 â†’ #9CA3AF
- è¿›åº¦æ–‡å­—é¢œè‰²ï¼š#4A5568 â†’ #7B8490
- è£…é¥°çº¿é¢œè‰²ï¼š#3E4C43 â†’ #6B7280

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`

---

## [2026-02-21] LevelSelect é¡µé¢ç¥ç§˜æ„Ÿè®¾è®¡å‡çº§

### å˜æ›´å†…å®¹

**é”å®šå…³å¡"æœªçŸ¥æ„Ÿ"è®¾è®¡**ï¼š
- æ¨¡ç³Šè½®å»“æ•ˆæœï¼šé”å®šå…³å¡æ˜¾ç¤º `blur(6-8px)` æ¨¡ç³Šç¼©ç•¥å›¾
- åŠé®é¢çº±å±‚ï¼šä¸Šæ–¹å åŠ åŠé€æ˜æ¸å˜é®ç½©ï¼Œéšçº¦å¯è§ä½†ä¸èƒ½çœ‹æ¸…
- ç¥ç§˜ç¬¦å·æ›¿ä»£é”ï¼šä½¿ç”¨ `â—ˆ` è±å½¢ç¬¦å· + æ°”åœºå…‰æ™•ä»£æ›¿ä¼ ç»Ÿé”å›¾æ ‡
- ç¥ç§˜åŒ–æç¤ºæ–‡æ¡ˆï¼š`"å¦è±¡æœªæ˜ï¼Œå¾…å¤©æ—¶å¼€å¯"`

**æ°”åœºèƒ½é‡åœºè§†è§‰æš—ç¤º**ï¼š
- æ¯ä¸ªå…³å¡é…ç½®ç‹¬ç‰¹æ°”åœºè‰²ï¼ˆAuraColorï¼‰ï¼Œå¯¹åº”é£æ°´äº”è¡Œ/æ–¹ä½ï¼š
  - Level 1: å†·è“ `#4A6FA5`ï¼ˆåå®«Â·æ°´ï¼‰
  - Level 2: ç¥ç§˜ç´« `#7B68A6`ï¼ˆå·½å®«Â·é£ï¼‰
  - Level 3: æš—çº¢ `#A65D57`ï¼ˆç¦»å®«Â·ç«ï¼‰
- æ°”åœºå…‰æ™•å±‚ï¼šå¡ç‰‡ hover æ—¶æ˜¾ç¤ºå¯¹åº”è‰²å½©å…‰æ™•
- è¿›åº¦æ¡æŒ‰æ°”åœºè‰²åŒºåˆ†ä¸åŒå…³å¡

**æ–‡æ¡ˆç¥ç§˜åŒ–**ï¼š
- å…³å¡åï¼š`"å¼€å‘è€…çš„åœ°ç‰¢"` â†’ `"åå®«Â·æš—å®¤"`
- å…³å¡æç¤ºï¼šæ–°å¢ `mysteryHint` å­—æ®µï¼Œå¦‚ `"æ°´æ—ºä¹‹åœ°ï¼Œé˜´æ°”å‡èš"`
- éš¾åº¦æ ‡ç­¾ï¼š`å…¥é—¨/è¿›é˜¶/å¤§å¸ˆ` â†’ `åˆçª¥/å…¥å®š/æ‚Ÿé“`
- åº•éƒ¨æç¤ºï¼š`é€šå…³è§£é”ä¸‹ä¸€å…³å¡` â†’ `ç ´ç…é€šå…³ Â· æ–¹æ˜¾å¤©æœº`
- è¿›åº¦æ–‡æ¡ˆï¼š`å½“å‰è¿›åº¦: 1 / N å…³å¡` â†’ `å·²æ¢ Â· 1 / N å¢ƒ`

**èƒŒæ™¯å…«å¦çº¹ç†**ï¼š
- æ·»åŠ ææ·¡ï¼ˆopacity: 0.015ï¼‰å…«å¦çº¹èƒŒæ™¯çº¹ç†
- åŒå¿ƒåœ† + å…«æ–¹ä½çº¿ï¼Œè‹¥éšè‹¥ç°çš„ç¥ç§˜æ„Ÿ

**æ–°å¢ç±»å‹ä¸æ•°æ®**ï¼š
- `AuraColor` ç±»å‹ï¼šprimary/secondary/glow ä¸‰å±‚æ°”åœºè‰²
- `LevelWithAura` ç±»å‹ï¼šæ‰©å±• Levelï¼Œæ·»åŠ æ°”åœºé…ç½®å’Œç¥ç§˜åŒ–æ–‡æ¡ˆ
- æ–°å¢ Level 3 é¢„ç•™å…³å¡ï¼ˆç¦»å®«Â·ç‚å®…ï¼‰

### è®¾è®¡ç†å¿µ

**"æœªçŸ¥"æ¯”"ä¸å¯è§"æ›´æœ‰å¸å¼•åŠ›**ï¼š
- æ¨¡ç³Šçš„è½®å»“è®©ç©å®¶äº§ç”Ÿå¥½å¥‡ï¼Œè€Œéç°æš—çš„"é”æ­»æ„Ÿ"
- æ°”åœºè‰²å½©æš—ç¤ºæ¯ä¸ªå…³å¡ç‹¬ç‰¹çš„èƒ½é‡ç‰¹è´¨
- é£æ°´æœ¯è¯­åŒ…è£…å¼ºåŒ–æ¸¸æˆä¸»é¢˜æ²‰æµ¸æ„Ÿ

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/data/levels.ts`

---

## [2026-02-21] LevelSelect é¡µé¢é™è°§åŒ–é‡æ„

### å˜æ›´å†…å®¹

**ç§»é™¤æ‰€æœ‰åŠ¨ç”»æ•ˆæœï¼Œå›å½’é™è°§**ï¼š
- åˆ é™¤é£˜è½èŠ±ç“£ç»„ä»¶ `PetalParticle` åŠå…¶ 8 ä¸ªå®ä¾‹
- åˆ é™¤æµ®åŠ¨ç…æ°”ç²’å­ç»„ä»¶ `ShaParticle` åŠå…¶ 5 ä¸ªå®ä¾‹
- ç§»é™¤ç¼©ç•¥å›¾å‘¼å¸åŠ¨ç”» `thumbnail-breathe`
- ç§»é™¤å…³å¡å¡ç‰‡å…¥åœºåŠ¨ç”» `card-animate-in`
- ç§»é™¤é¡¶éƒ¨æ ‡é¢˜æ å…¥åœºåŠ¨ç”»
- ç§»é™¤åº•éƒ¨æç¤ºå…¥åœºåŠ¨ç”»

### è®¾è®¡ç†å¿µ

**"é™"å³æ˜¯"å¢ƒ"**ï¼š
- é£æ°´æœ¬èº«æ˜¯é™å¿ƒè§‚å¯Ÿã€æ…¢æ…¢ä½“ä¼šçš„ä¸œæ–¹å“²å­¦
- è§£è°œæ¸¸æˆéœ€è¦ä¸“æ³¨ï¼Œè¿‡å¤šåŠ¨æ•ˆåè€Œåˆ†æ•£æ³¨æ„åŠ›
- é™è°§æ°›å›´æ›´ç¬¦åˆ"é˜´éƒâ†’æ¸©é¦¨"çš„è‰²è°ƒè½¬å˜ä¸»é¢˜
- è®©ç©å®¶ä¸“æ³¨äºå…³å¡é€‰æ‹©æœ¬èº«

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`

---

## [2026-02-21] LevelSelect é¡µé¢ä¼˜åŒ– v4

### å˜æ›´å†…å®¹

**èŠ±ç“£ç¼“é€Ÿè‡ªè½¬åŠ¨ç”»**ï¼š
- æ–°å¢ `petal-rotate` å…³é”®å¸§åŠ¨ç”»ï¼Œ8-14ç§’å®Œæˆä¸€åœˆæ—‹è½¬
- æ¯ä¸ªèŠ±ç“£éšæœºæ—‹è½¬æ–¹å‘ï¼ˆé¡ºæ—¶é’ˆ/é€†æ—¶é’ˆï¼‰
- æ—‹è½¬ä¸ä¸‹è½åŠ¨ç”»åˆ†ç¦»ï¼Œä½¿ç”¨ CSS å¤šåŠ¨ç”»åŒæ—¶æ’­æ”¾

**ç§»åŠ¨ç«¯å¡ç‰‡å®Œå…¨é‡æ„**ï¼ˆæ‰å¹³ç´§å‡‘è®¾è®¡ï¼‰ï¼š
- é‡‡ç”¨æ°´å¹³ç´§å‡‘å¸ƒå±€ï¼šç¼©ç•¥å›¾(80x80) + ä¿¡æ¯åŒº + ç®­å¤´
- ç¼©ç•¥å›¾ç§»è‡³å·¦ä¾§ï¼Œå°å°ºå¯¸æ›´çœç©ºé—´
- ä¿¡æ¯åŒºå•è¡Œæ’åˆ—ï¼Œå»æ‰å†—ä½™è£…é¥°
- æ’­æ”¾æŒ‰é’®æ”¹ä¸ºæç®€ç®­å¤´ï¼ˆâ–¶ï¼‰ï¼Œç§»é™¤å¤§æŒ‰é’®è®¾è®¡
- éš¾åº¦æ ‡è¯†ç®€åŒ–ä¸º3ä¸ªè‰²å—ï¼Œå»é™¤æ–‡å­—æ ‡ç­¾
- ç…æ°”ç‚¹æ ‡ç­¾ç®€åŒ–ä¸º"ç…æ°”"äºŒå­—
- éšè—ç§»åŠ¨ç«¯ä¸å¿…è¦çš„è£…é¥°ï¼šè¾¹è§’è£…é¥°ã€åƒç´ åˆ†éš”çº¿
- æ¡Œé¢ç«¯ä¿æŒåŸæœ‰ç²¾è‡´å¸ƒå±€ä¸å˜

### è®¾è®¡ç†å¿µ

**ç§»åŠ¨ç«¯"è½»"è®¾è®¡**ï¼š
- ä¿¡æ¯å¯†åº¦ä¼˜å…ˆäºè§†è§‰æ•ˆæœ
- å•æ‰‹æ“ä½œå‹å¥½ï¼šå³ä¾§ç®­å¤´æ˜ç¡®å¯ç‚¹å‡»
- å»é™¤è£…é¥°æ€§å…ƒç´ ï¼Œä¿ç•™æ ¸å¿ƒä¿¡æ¯

**è§†è§‰å±‚æ¬¡ç®€åŒ–**ï¼š
- æ ‡é¢˜ â†’ æè¿° â†’ å…ƒä¿¡æ¯ï¼Œä¸‰å±‚é€’è¿›
- éš¾åº¦å’Œç…æ°”ç‚¹ä½¿ç”¨å›¾æ ‡åŒ–è¡¨è¾¾

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/index.css`

---

## [2026-02-21] LevelSelect é¡µé¢é—®é¢˜ä¿®å¤

### å˜æ›´å†…å®¹

**èŠ±ç“£å½¢çŠ¶ä¼˜åŒ–**ï¼š
- ä¿®å¤è±å½¢èŠ±ç“£è¿‡äºæ–¹æ­£çš„é—®é¢˜ï¼Œæ”¹ç”¨è‡ªç„¶æ¤­åœ†æ›²çº¿
- ä½¿ç”¨éšæœº border-radius ç”Ÿæˆä¸è§„åˆ™èŠ±ç“£å½¢çŠ¶
- æ·»åŠ çº¿æ€§æ¸å˜å’Œå¾®å…‰æ•ˆæœï¼Œå¢å¼ºç«‹ä½“æ„Ÿ
- èŠ±ç“£æ¯”ä¾‹è°ƒæ•´ä¸º height = width * 1.3ï¼Œæ›´ç¬¦åˆçœŸå®èŠ±ç“£å½¢æ€

**æ¨ªå‘æ»šåŠ¨æ¡ä¿®å¤**ï¼š
- å…³å¡åˆ—è¡¨å®¹å™¨æ·»åŠ  `overflow-x-hidden`ï¼Œå½»åº•ç¦æ­¢å·¦å³æ»‘åŠ¨
- æ˜ç¡®ä½¿ç”¨ `overflow-y-auto` åªä¿ç•™å‚ç›´æ»šåŠ¨

**ç§»åŠ¨ç«¯å¸ƒå±€é‡æ„**ï¼ˆå“åº”å¼é€‚é…ï¼‰ï¼š
- å¡ç‰‡å¸ƒå±€ä»æ°´å¹³æ”¹ä¸ºå‚ç›´å †å ï¼ˆflex-col â†’ sm:flex-rowï¼‰
- ç§»åŠ¨ç«¯ç¼©ç•¥å›¾å®½åº¦ 100%ï¼Œé«˜åº¦ 120pxï¼›æ¡Œé¢ç«¯ä¿æŒ 100x100
- å­—ä½“å¤§å°å“åº”å¼è°ƒæ•´ï¼šç§»åŠ¨ç«¯å‡å° 1-2px
- æ’­æ”¾æŒ‰é’®åŒºåŸŸï¼šç§»åŠ¨ç«¯æ¨ªå‘æ’åˆ— + é¡¶éƒ¨è¾¹æ¡†ï¼›æ¡Œé¢ç«¯çºµå‘ + å·¦è¾¹æ¡†
- ç…æ°”ç‚¹æŒ‡ç¤ºå™¨å°ºå¯¸å“åº”å¼ï¼šç§»åŠ¨ç«¯ w-2.5ï¼Œæ¡Œé¢ç«¯ w-3

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`

---

## [2026-02-21] LevelSelect é¡µé¢é«˜çº§æ„Ÿç®€çº¦ä¼˜åŒ– v3

### å˜æ›´å†…å®¹

**å¡ç‰‡æ‚¬æµ®æ„Ÿå‡çº§**ï¼ˆç‰©ç†æ„Ÿè¡¨è¾¾ï¼‰ï¼š
- hover æ—¶å¡ç‰‡è½»å¾®ä¸Šæµ® `-translate-y-1`ï¼Œè¥é€ "è„±ç¦»å¹³é¢"çš„æ‚¬æµ®æ„Ÿ
- åŒå±‚é˜´å½±ç³»ç»Ÿï¼šå¤–å±‚å…‰æ™• + åº•éƒ¨æŠ•å½±ï¼Œhover æ—¶åŒæ­¥å¢å¼º
- 500ms ç¼“åŠ¨åŠ¨ç”»ï¼Œä¼˜é›…æµç•…çš„è¿‡æ¸¡æ•ˆæœ

**é£˜è½èŠ±ç“£ç²’å­**ï¼ˆä¸œæ–¹ç¦…æ„æ°›å›´ï¼‰ï¼š
- æ–°å¢ `PetalParticle` ç»„ä»¶ï¼Œè±å½¢èŠ±ç“£ç¼“æ…¢é£˜è½
- 8 ä¸ªèŠ±ç“£åˆ†å¸ƒåœ¨ä¸åŒä½ç½®ï¼Œéšæœºå»¶è¿Ÿå’Œå‘¨æœŸï¼ˆ11-16sï¼‰
- è‡ªç„¶æ‘†åŠ¨è½¨è¿¹ï¼ˆå·¦å³é£˜ç§» + æ—‹è½¬ï¼‰ï¼Œæ¨¡æ‹ŸçœŸå®é£˜è½ç‰©ç†
- æš–é‡‘è‰²è°ƒï¼ˆ#C4A06A / #D4B07A / #B8904Fï¼‰ï¼Œä¸ä¸»é¢˜å’Œè°

**ç¼©ç•¥å›¾ç²¾è‡´åŒ–**ï¼š
- å‘¼å¸åŠ¨ç”»ï¼ˆthumbnail-breatheï¼‰ï¼š4s å‘¨æœŸè½»å¾®ç¼©æ”¾ï¼ˆ1.0 â†’ 1.02ï¼‰
- è¾¹ç¼˜å…‰æ•ˆæœï¼šé™æ€å†…å‘å…‰ + hover å¤–å‘å…‰å¢å¼º
- åŒå±‚è¾¹æ¡†é˜´å½±ï¼Œå¢å¼ºç«‹ä½“æ„Ÿ

**ç•™ç™½å‘¼å¸æ„Ÿä¼˜åŒ–**ï¼š
- é¡µé¢å†…è¾¹è·å¢åŠ ï¼šp-5 â†’ px-6 py-8
- æ ‡é¢˜æ ä¸‹è¾¹è·å¢åŠ ï¼šmb-6 â†’ mb-8
- å¡ç‰‡é—´è·å¢åŠ ï¼šspace-y-4 â†’ space-y-5
- åˆ—è¡¨åº•éƒ¨ç•™ç™½å¢åŠ ï¼špb-4 â†’ pb-6

**CSS åŠ¨ç”»ç³»ç»Ÿæ‰©å±•**ï¼š
- `petal-fall`ï¼šèŠ±ç“£è‡ªç„¶é£˜è½å…³é”®å¸§åŠ¨ç”»
- `thumbnail-breathe`ï¼šç¼©ç•¥å›¾å‘¼å¸åŠ¨ç”»
- `card-float`ï¼šå¡ç‰‡æ‚¬æµ®åŠ¨ç”»ï¼ˆå¤‡ç”¨ï¼‰
- `edge-glow`ï¼šè¾¹ç¼˜å…‰è„‰å†²åŠ¨ç”»ï¼ˆå¤‡ç”¨ï¼‰

### è®¾è®¡ç†å¿µ

**"ä¾˜å¯‚"ç¾å­¦è¡¨è¾¾**ï¼š
- ä¸å®Œç¾ä¸­çš„ç¾æ„Ÿ - èŠ±ç“£éšæœºé£˜è½è½¨è¿¹
- è‡ªç„¶èŠ‚å¥ - å‘¼å¸åŠ¨ç”»æ¨¡æ‹Ÿç”Ÿå‘½å¾‹åŠ¨
- ç•™ç™½è‰ºæœ¯ - å¢åŠ é—´è·è®©è§†è§‰æœ‰å–˜æ¯ä¹‹åœ°

**å…‹åˆ¶çš„é«˜çº§æ„Ÿ**ï¼š
- ä¸åšåŠ æ³•åšä¹˜æ³• - ä¸æ˜¯å †ç Œç‰¹æ•ˆï¼Œè€Œæ˜¯æå‡æ¯ä¸ªç»†èŠ‚çš„è´¨æ„Ÿ
- å¾®äº¤äº’å“²å­¦ - å˜åŒ–å¾®å¦™ä½†èƒ½è¢«æ„ŸçŸ¥ï¼ˆä¸Šæµ® 1pxï¼Œç¼©æ”¾ 2%ï¼‰
- å…‰å½±å±‚æ¬¡ - åŒå±‚é˜´å½±è¥é€ çœŸå®çš„ç©ºé—´æ·±åº¦

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/index.css`

---

## [2026-02-21] LevelSelect é¡µé¢è§†è§‰ä¼˜åŒ– v2 - è§£å†³"ç©ºè½è½"é—®é¢˜

### å˜æ›´å†…å®¹

**å¢åŠ ä¿¡æ¯å¯†åº¦ä¸å±‚æ¬¡æ„Ÿ**ï¼š
- å¡ç‰‡å†…è¾¹è·ä» p-3 å¢åŠ åˆ° p-4ï¼Œå‘¼å¸æ„Ÿæ›´å¥½
- æ–°å¢"å¯æ¸¸ç©"çŠ¶æ€æ ‡ç­¾ï¼ˆé‡‘è‰²è¾¹æ¡†å°æ ‡ç­¾ï¼‰
- æ–°å¢éš¾åº¦æ ‡è¯†ç»„ä»¶ï¼ˆå…¥é—¨/è¿›é˜¶/å¤§å¸ˆ + ç‚¹é˜µå¯è§†åŒ–ï¼‰
- æ–°å¢é¢„è®¡æ—¶é—´æ˜¾ç¤ºï¼ˆâ± å›¾æ ‡ + æ—¶é—´æ–‡æœ¬ï¼‰

**8-bit é£æ ¼è£…é¥°å…ƒç´ **ï¼š
- å››è§’ä¸‰è§’å½¢è£…é¥°ï¼ˆCornerDecorations ç»„ä»¶ï¼‰
- åƒç´ åˆ†éš”çº¿ç»„ä»¶ï¼ˆPixelDividerï¼šæ¸å˜çº¿ + åƒç´ æ–¹å—ï¼‰
- å¡ç‰‡å†…éƒ¨è£…é¥°ç‚¹é˜µï¼ˆåº•éƒ¨å³ä¾§ 5 ä¸ªåƒç´ ç‚¹ï¼‰
- ç¼©ç•¥å›¾æ·»åŠ  2px è¾¹æ¡†å¢å¼ºè½®å»“æ„Ÿ

**æ’­æ”¾æŒ‰é’®åŒºåŸŸä¼˜åŒ–**ï¼š
- æŒ‰é’®å°ºå¯¸å¢å¤§ï¼ˆ12x12 â†’ 14x14ï¼‰
- æ·»åŠ å·¦ä¾§åˆ†éš”çº¿ï¼ˆborder-lï¼‰å½¢æˆç‹¬ç«‹åŒºåŸŸ
- hover æ—¶æ˜¾ç¤º"å¼€å§‹"æ–‡å­—æç¤ºï¼ˆopacity åŠ¨ç”»ï¼‰
- æŒ‰é’®é˜´å½±å¢å¼ºï¼ˆ0 2px â†’ 0 3px åº•éƒ¨é˜´å½±ï¼‰

**åº•éƒ¨æç¤ºåŒºåŸŸé‡è®¾è®¡**ï¼š
- æ·»åŠ åƒç´ è£…é¥°åˆ†éš”çº¿ï¼ˆå¯¹ç§°è®¾è®¡ + ä¸­å¿ƒè±å½¢ï¼‰
- æç¤ºæ–‡å­—å®¹å™¨åŒ–ï¼ˆæ¯›ç»ç’ƒèƒŒæ™¯ + è¾¹æ¡†ï¼‰
- æ–°å¢å…³å¡è¿›åº¦ç»Ÿè®¡ï¼ˆå½“å‰è¿›åº¦: 1 / N å…³å¡ï¼‰
- æ–°å¢åƒç´ è¿›åº¦æ¡ï¼ˆå…³å¡çŠ¶æ€å¯è§†åŒ–ï¼‰

**ç±»å‹å®šä¹‰æ‰©å±•**ï¼š
- Level ç±»å‹æ–°å¢ difficulty å­—æ®µï¼ˆeasy/normal/hardï¼‰
- Level ç±»å‹æ–°å¢ estimatedTime å­—æ®µï¼ˆé¢„è®¡æ—¶é—´å­—ç¬¦ä¸²ï¼‰
- æ›´æ–°å…³å¡æ•°æ®é…ç½®

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/types/game.ts`
- `src/frontend/feng-shui-8-bit/src/client/data/levels.ts`

---

## [2026-02-21] LevelSelect é¡µé¢æ¸¸æˆåŒ–è§†è§‰é‡è®¾è®¡

### å˜æ›´å†…å®¹

**å…¨å±æ²‰æµ¸å¼å¸ƒå±€**ï¼š
- å…¨å±èƒŒæ™¯å›¾ + å¾„å‘æ¸å˜é®ç½© + ä¸Šä¸‹çº¿æ€§æ¸å˜
- å†…å®¹å±‚å åŠ åœ¨èƒŒæ™¯ä¹‹ä¸Šï¼Œå¢å¼ºæ°›å›´æ„Ÿ

**Glassmorphism æ¯›ç»ç’ƒæ•ˆæœ**ï¼š
- å…³å¡å¡ç‰‡ä½¿ç”¨æ¯›ç»ç’ƒèƒŒæ™¯ï¼ˆblur(20px) + saturate(1.3)ï¼‰
- åƒç´ å›å­—çº¹è¾¹æ¡†è£…é¥°ï¼ˆå•å±‚é‡‘è‰²è¾¹æ¡†ï¼Œhover æ—¶å¢å¼ºï¼‰
- å¤–å±‚å…‰æ™•æ•ˆæœï¼ˆhover æ—¶æ˜¾ç¤ºï¼‰

**å…³å¡å¡ç‰‡ç»„ä»¶åŒ–**ï¼š
- æ–°å¢ `LevelCard` ç»„ä»¶ï¼Œç»Ÿä¸€å…³å¡å±•ç¤ºæ ·å¼
- ç¼©ç•¥å›¾ 96x96 å›ºå®šå°ºå¯¸ï¼Œé”å®šæ—¶æ˜¾ç¤ºç°è‰²å ä½ + é”å®šé®ç½©
- ç…æ°”è¿›åº¦æŒ‡ç¤ºå™¨æ”¹ä¸ºé‡‘è‰²æ¸å˜ + å‘å…‰æ•ˆæœ
- æ’­æ”¾æŒ‰é’® 3D æ•ˆæœï¼ˆæ¸å˜èƒŒæ™¯ + åº•éƒ¨é˜´å½± + å…‰æ™•ï¼‰

**æµ®åŠ¨ç…æ°”ç²’å­**ï¼š
- 5 ä¸ªå°ç…¤çƒç²’å­åœ¨èƒŒæ™¯å±‚ç¼“æ…¢æ¼‚æµ®
- éšæœºå»¶è¿Ÿå’ŒåŠ¨ç”»å‘¨æœŸï¼Œå¢å¼ºåŠ¨æ€æ„Ÿ

**å…¥åœºåŠ¨ç”»**ï¼š
- æ ‡é¢˜æ ç«‹å³å‡ºç°
- å…³å¡å¡ç‰‡ä¾æ¬¡æ·¡å…¥ï¼ˆstagger 0.15sï¼‰
- åº•éƒ¨æç¤ºå»¶è¿Ÿ 0.6s å‡ºç°

**åƒç´ å­—ä½“ç»Ÿä¸€**ï¼š
- æ ‡é¢˜ä½¿ç”¨å‘å…‰é‡‘è‰²æ–‡å­—ï¼ˆ#F5E4BBï¼‰
- å…³å¡åä½¿ç”¨æ¬¡äº®è‰²ï¼ˆ#E2E8F0ï¼‰
- æè¿°ä½¿ç”¨æš—ç°è‰²ï¼ˆ#6B7280ï¼‰
- åº•éƒ¨æç¤ºä½¿ç”¨è£…é¥°çº¿åˆ†éš”

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`

---

## [2026-02-21] GameStart é¡µé¢æ¸¸æˆåŒ–è§†è§‰é‡è®¾è®¡

### å˜æ›´å†…å®¹

**æ­¥éª¤å›¾æ ‡åŒ–**ï¼ˆæ–¹æ¡ˆ A å®ç°ï¼‰ï¼š
- æ–°å¢ `StepIcons.tsx` ç»„ä»¶ï¼ŒåŒ…å«ç½—ç›˜/è‘«èŠ¦/å¤ªé˜³ä¸‰ä¸ª SVG å›¾æ ‡
- ç½—ç›˜å›¾æ ‡ï¼šåƒç´ é£æ ¼åœ†å½¢ç½—ç›˜ + å…«æ–¹ä½çº¿ + æŒ‡é’ˆï¼Œå¸¦ 4s ç¼“æ…¢æ—‹è½¬åŠ¨ç”»
- è‘«èŠ¦å›¾æ ‡ï¼šä¼ ç»Ÿè‘«èŠ¦å½¢çŠ¶ + æŒ‚ç»³ï¼Œå¸¦ 2s å·¦å³æ‘†åŠ¨åŠ¨ç”»
- å¤ªé˜³å›¾æ ‡ï¼šä¸­å¿ƒåœ† + å…«æ¡å…‰èŠ’ï¼Œå¸¦ 2s å‘¼å¸è„‰å†²åŠ¨ç”»

**æ°›å›´å…ƒç´ å¢å¼º**ï¼ˆæ–¹æ¡ˆ B å®ç°ï¼‰ï¼š
- æµ®åŠ¨ç…æ°”ç²’å­ï¼š4 ä¸ªå°ç…¤çƒåœ¨å¡ç‰‡å‘¨å›´ç¼“æ…¢æ¼‚æµ®ï¼ˆ3.5-4.5s éšæœºå‘¨æœŸï¼‰
- ç½—ç›˜ç½‘æ ¼çº¹ç†ï¼šå¡ç‰‡èƒŒæ™¯ææ·¡åŒå¿ƒåœ† + åå­—ç½‘æ ¼ï¼ˆé€æ˜åº¦ 0.01-0.02ï¼‰
- åƒç´ å›å­—çº¹è¾¹æ¡†ï¼šåŒå±‚è¾¹æ¡†è£…é¥°ï¼ˆå¤–å±‚ 1px + å†…å±‚ 2pxï¼‰

**è§†è§‰èŠ‚å¥è°ƒæ•´**ï¼ˆæ–¹æ¡ˆ C å®ç°ï¼‰ï¼š
- æ ‡é¢˜åŒºåŸŸå æ¯”å¢å¤§ï¼šå­—å· 22px + å­—é—´è· 0.1em + æ–‡å­—é˜´å½±å¢å¼º
- åˆ†éš”çº¿æ”¹ä¸ºç¥¥äº‘çº¹é£æ ¼ï¼šä¸‰è§’å½¢è£…é¥° + æ¸å˜çº¿æ¡
- æ­¥éª¤é—´è·åŠ å¤§ï¼šgap-4 + SVG ç®­å¤´è¿æ¥çº¿
- æ–°å¢å¼•å¯¼è¯­ï¼š"å‡†å¤‡å¥½æ”¹å˜æˆ¿é—´æ°”åœºäº†å—ï¼Ÿ"
- æŒ‰é’®å­—å· 13pxï¼Œæ–‡æ¡ˆ"é€‰æ‹©å…³å¡"

**é¡µé¢å…¥åœºåŠ¨ç”»åºåˆ—**ï¼š
- å¡ç‰‡ä»ä¸‹æ–¹æ»‘å…¥ï¼ˆ0.5sï¼‰
- ä¸‰ä¸ªæ­¥éª¤ä¾æ¬¡å‡ºç°ï¼ˆstagger 0.6s/0.8s/1sï¼‰
- åº•éƒ¨æ–‡æ¡ˆæ¸æ˜¾ï¼ˆ1.2s å»¶è¿Ÿï¼‰

**èƒŒæ™¯å›¾ç»Ÿä¸€**ï¼š
- SplashPage å’Œ GameStartPage ç»Ÿä¸€ä½¿ç”¨ `home-v1.0.png`

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/SplashPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/components/game/StepIcons.tsx`ï¼ˆæ–°å¢ï¼‰
- `src/frontend/feng-shui-8-bit/src/client/index.css`

---

## [2026-02-21] GameStart é¡µé¢æ²‰æµ¸å¼é‡è®¾è®¡ï¼ˆMobileç«¯ï¼‰

### å˜æ›´å†…å®¹

**å¸ƒå±€é‡æ„**ï¼ˆå‚è€ƒ SplashPage é«˜çº§è´¨æ„Ÿï¼‰ï¼š
- æ”¹ä¸ºå…¨å±èƒŒæ™¯å›¾è¦†ç›–ï¼ˆ`absolute inset-0`ï¼‰ï¼Œä¸å†æ˜¯é¡¶éƒ¨å°å›¾
- å†…å®¹å‚ç›´å±…ä¸­å¸ƒå±€ï¼ˆ`min-h-screen` + flex centerï¼‰ï¼Œå¢å¼ºæ²‰æµ¸æ„Ÿ
- å¡ç‰‡æœ€å¤§å®½åº¦é™åˆ¶ä¸º 360pxï¼Œä¿æŒç§»åŠ¨ç«¯å¯è¯»æ€§

**è§†è§‰å±‚æ¬¡ä¼˜åŒ–**ï¼š
- å»æ‰"æ¸¸æˆä»‹ç»""ç©æ³•è¯´æ˜"ç­‰å†—ä½™æ ‡é¢˜ï¼Œç›´æ¥å±•ç¤ºæ ¸å¿ƒå†…å®¹
- ç©æ³•è¯´æ˜æ”¹ä¸ºæ¨ªå‘ä¸‰æ­¥éª¤å›¾æ ‡ï¼ˆæ‰¾ç…æ°” â†’ é€‰é“å…· â†’ æš–è‰²è½¬æ¢ï¼‰
- æ­¥éª¤é—´æ·»åŠ æ¸å˜è¿æ¥çº¿ï¼Œå¢å¼ºæµç¨‹æ„Ÿ
- å»æ‰"ç©æ³•æ¼”ç¤º"æ¬¡æŒ‰é’®ï¼Œåªä¿ç•™"å¼€å§‹æ¸¸æˆ"ä¸€ä¸ªä¸»CTA

**Glassmorphism æ•ˆæœå¢å¼º**ï¼š
- æå‡ blur å¼ºåº¦ï¼š`blur(12px)` â†’ `blur(20px)`
- å¢åŠ  saturateï¼š`saturate(1.3)` â†’ `saturate(1.4)`
- æ›´å¤§çš„å…‰æ™•èŒƒå›´ï¼š`-inset-4` å…‰æ™•å±‚
- æ›´å¼ºçš„å†…å‘å…‰ï¼š`inset 0 0 60px rgba(196, 160, 106, 0.05)`
- æŒ‰é’®å…‰æ™•åŠ å¼ºï¼š`0 0 30px rgba(196, 160, 106, 0.3)`

**æ–‡æ¡ˆç²¾ç®€**ï¼š
- æ ‡é¢˜ï¼šå…«æ¯”ç‰¹é£æ°´å¸ˆ
- å‰¯æ ‡é¢˜ï¼šæ•´ç†æ··ä¹± Â· ä¿®å¤æ°”åœº Â· é‡è·æ¸©æš–
- åº•éƒ¨ï¼šLo-Fi Chill Â· 8-Bit SFX Â· Cozy Puzzle

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`

---

## [2026-02-21] GameStart é¡µé¢ç´§å‡‘æ’ç‰ˆä¸æ¯›ç»ç’ƒæ•ˆæœä¼˜åŒ–

### å˜æ›´å†…å®¹

**æ’ç‰ˆç´§å‡‘åŒ–**ï¼ˆè§£å†³æ–‡å­—è¿‡äºæ¾æ•£é—®é¢˜ï¼‰ï¼š
- å¡ç‰‡å†…è¾¹è·ç¼©å‡ï¼š`px-8 py-10` â†’ `px-6 py-6`
- åŒºå—é—´è·ç¼©å‡ï¼š`mb-8` â†’ `mb-5`ï¼ˆæ¸¸æˆä»‹ç»åŒºï¼‰ï¼Œ`mb-10` â†’ `mb-6`ï¼ˆç©æ³•è¯´æ˜åŒºï¼‰
- æ­¥éª¤é—´è·ç¼©å‡ï¼š`space-y-3` â†’ `space-y-2`
- æ ‡é¢˜é—´è·ç¼©å‡ï¼š`mb-4` â†’ `mb-2`ï¼ˆæ¸¸æˆä»‹ç»ï¼‰ï¼Œ`mb-4` â†’ `mb-3`ï¼ˆç©æ³•è¯´æ˜ï¼‰
- æ­¥éª¤é¡¹å†…è¾¹è·ç¼©å‡ï¼š`px-4 py-3` â†’ `px-3 py-2.5`

**æ¯›ç»ç’ƒæ•ˆæœå¢å¼º**ï¼ˆè§£å†³æ•ˆæœä¸æ˜æ˜¾é—®é¢˜ï¼‰ï¼š
- èƒŒæ™¯é€æ˜åº¦æå‡ï¼š`0.2/0.25` â†’ `0.7/0.8`
- æ¨¡ç³Šå‚æ•°è°ƒæ•´ï¼š`blur(16px)` â†’ `blur(12px)`ï¼Œ`saturate(1.2)` â†’ `saturate(1.3)`
- è¾¹æ¡†é€æ˜åº¦æå‡ï¼š`0.3` â†’ `0.35`ï¼Œå¤–è¾¹æ¡† `0.3/0.4` â†’ `0.4/0.5`
- æ­¥éª¤é¡¹èƒŒæ™¯æå‡ï¼š`0.4` â†’ `0.5`

**å›¾ç‰‡ä¸å¡ç‰‡è¡”æ¥ä¼˜åŒ–**ï¼š
- æ·»åŠ  `-mt-8` ä½¿å¡ç‰‡å‘ä¸Šåç§»ï¼Œä¸ Hero å›¾ç‰‡é‡å è¡”æ¥
- è°ƒæ•´ `pt-2` å‡å°‘é¡¶éƒ¨ç•™ç™½

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`

---

## [2026-02-21] GameStart é¡µé¢ Mobile ç«¯ Glassmorphism ä¼˜åŒ–

### å˜æ›´å†…å®¹

**Glassmorphism æ¯›ç»ç’ƒæ•ˆæœ**ï¼š
- å†…å®¹å¡ç‰‡æ”¹ä¸ºæ¯›ç»ç’ƒæ•ˆæœï¼ŒèƒŒæ™¯é€æ˜åº¦ 0.2-0.25
- æ·»åŠ  `backdrop-blur(16px)` ç£¨ç ‚ç»ç’ƒè´¨æ„Ÿ
- Hero å›¾ç‰‡åŒºåŸŸæ·»åŠ æ¸å˜é®ç½©å±‚ï¼Œä»åº•éƒ¨å‘ä¸»ä½“åŒºåŸŸè¿‡æ¸¡

**8-bit é£æ ¼è£…é¥°**ï¼š
- æ·»åŠ åŒå±‚è¾¹æ¡†è£…é¥°ï¼ˆå¤–å±‚ 1px + å†…å±‚ 2pxï¼Œé‡‘è‰²é€æ˜åº¦é€’å‡ï¼‰
- æ·»åŠ åƒç´ åˆ†éš”çº¿ï¼ˆæ–¹å— + çº¿æ¡ç»„åˆï¼‰
- å¤–å±‚å…‰æ™•å¢å¼ºç»ç’ƒè´¨æ„Ÿ

**åƒç´ å­—ä½“ç»Ÿä¸€**ï¼š
- æ‰€æœ‰æ–‡å­—æ”¹ç”¨ `font-pixel` åƒç´ å­—ä½“
- æ ‡é¢˜å­—å· 11pxï¼Œé…åˆ tracking å’Œæ–‡å­—é˜´å½±
- åº•éƒ¨æç¤ºå­—å· 7pxï¼Œå¢åŠ å­—é—´è·

**æŒ‰é’® 3D æ•ˆæœ**ï¼š
- ä¸»æŒ‰é’®æ·»åŠ æ¸å˜èƒŒæ™¯ + åº•éƒ¨é˜´å½± + å†…é˜´å½±
- active çŠ¶æ€ä½ç§» 2px æ¨¡æ‹ŸæŒ‰å‹
- æ¬¡æŒ‰é’®ä½¿ç”¨æ¯›ç»ç’ƒé£æ ¼ + é‡‘è‰²è¾¹æ¡†

**é—´è·ä¸å‘¼å¸æ„Ÿä¼˜åŒ–**ï¼š
- å¡ç‰‡å†…è¾¹è·å¢åŠ åˆ° `px-8 py-10`ï¼ˆ32px/40pxï¼‰
- å…ƒç´ é—´è·ï¼šæ ‡é¢˜åŒº mb-8ï¼Œåˆ†éš”çº¿ mb-8ï¼Œç©æ³•è¯´æ˜ mb-10
- ç©æ³•æ­¥éª¤é—´è· space-y-3

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`

---

## [2026-02-21] Splash é¡µé¢ç¬¬äº”æ¬¡ä¼˜åŒ– - å¡ç‰‡æ¯”ä¾‹ä¸çºµå‘èŠ‚å¥

### å˜æ›´å†…å®¹

**å¸ƒå±€æ¯”ä¾‹è°ƒæ•´**ï¼š
- å¡ç‰‡å®½åº¦æ”¶çª„ â†’ `min-w-[320px]` æ”¹ä¸º `min-w-[280px]`ï¼Œå†…å®¹æ›´ç´§å‡‘
- ä¸Šä¸‹å†…è¾¹è·å¤§å¹…å¢åŠ  â†’ `py-24` (96px) æ”¹ä¸º `py-32` (128px)ï¼Œå‘¼å¸æ„Ÿæ›´å¼º

**çºµå‘èŠ‚å¥ä¼˜åŒ–**ï¼š
- æ ‡é¢˜åŒºåŸŸé—´è· `mb-10` â†’ `mb-12`
- è‹±æ–‡å‰¯æ ‡é¢˜ä¸Šæ–¹é—´è· `mt-5` â†’ `mt-6`
- åˆ†éš”çº¿ä¸‹æ–¹é—´è· `mb-10` â†’ `mb-12`
- è¯´æ˜æ–‡å­—è¡Œé«˜ `leading-[2.4]` â†’ `leading-[2.6]`ï¼Œæ›´å®½æ¾
- è¯´æ˜æ–‡å­—ä¸‹æ–¹é—´è· `mb-12` â†’ `mb-16`
- æŒ‰é’®åŒºå†…éƒ¨é—´è· `gap-6` â†’ `gap-8`

**æ•´ä½“æ•ˆæœ**ï¼š
- æ¨ªå‘æ›´ç´§å‡‘ï¼Œçºµå‘æ›´èˆ’å±•ï¼Œè§†è§‰æ¯”ä¾‹æ›´åè°ƒ
- æ–‡å­—ä¸è¾¹æ¡†é—´è·æ˜¾è‘—å¢å¤§ï¼Œä¸å†"é¡¶è¾¹"

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/SplashPage.tsx`

---

## [2026-02-21] Splash é¡µé¢ç¬¬å››æ¬¡ä¼˜åŒ– - é—´è·ä¸é€æ˜åº¦å¾®è°ƒ

### å˜æ›´å†…å®¹

**é—®é¢˜ä¿®å¤**ï¼š
- å¡ç‰‡æ–‡å­—è·ç¦»ä¸Šä¸‹è¾¹ç¼˜å¤ªçª„ â†’ å†…è¾¹è·ä» `p-12` (48pxå››è¾¹) æ”¹ä¸º `px-12 py-16` (å·¦å³48pxï¼Œä¸Šä¸‹64px)
- èƒŒæ™¯é€æ˜åº¦ä¸å¤Ÿ â†’ ä» `rgba(..., 0.35/0.4)` é™è‡³ `0.2/0.25`ï¼Œæ›´é€šé€

**ä¿æŒä¸å˜**ï¼š
- åƒç´ å­—ä½“é£æ ¼ (`font-pixel`) ç»´æŒç°æœ‰è´¨æ„Ÿå’Œè‰²è°ƒ
- ç»ç’ƒæ‹Ÿæ€è¾¹æ¡†ã€é˜´å½±ã€å…‰æ™•æ•ˆæœ

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/SplashPage.tsx`

---

## [2026-02-21] æ¸¸æˆè§†è§‰é«˜çº§è®¾è®¡è§„èŒƒæ–‡æ¡£åŒ–

### å˜æ›´å†…å®¹

**æ–°å¢è®¾è®¡è§„èŒƒç« èŠ‚**ï¼š
- åœ¨ `AGENTS.md` å’Œ `IFLOW.md` æ·»åŠ ã€Œæ¸¸æˆè§†è§‰é«˜çº§è®¾è®¡è§„èŒƒã€
- åŸºäº Splash é¡µé¢ä¸‰æ¬¡è¿­ä»£ç»éªŒ + NN/g Glassmorphism æœ€ä½³å®è·µ

**è§„èŒƒå†…å®¹æ¶µç›–**ï¼š
1. Glassmorphism æ¯›ç»ç’ƒæ•ˆæœï¼ˆé€æ˜åº¦ã€æ¨¡ç³Šã€è¾¹æ¡†å…‰æ™•å‚æ•°ï¼‰
2. é—´è·ä¸å‘¼å¸æ„Ÿï¼ˆå†…è¾¹è·ã€é—´è·ã€è¡Œé«˜å…·ä½“æ•°å€¼ï¼‰
3. åƒç´ å­—ä½“çš„é«˜çº§è´¨æ„Ÿï¼ˆå­—å·ã€å­—é—´è·ã€é˜´å½±é…æ–¹ï¼‰
4. è‰²å½©ä¸å…‰å½±ä½“ç³»ï¼ˆé…è‰²æ–¹æ¡ˆã€é˜´å½±å±‚æ¬¡ã€æ¸å˜é®ç½©ï¼‰
5. è§†è§‰å±‚æ¬¡æ¶æ„ï¼ˆ5 å±‚ç»“æ„åŠæ¯å±‚ç›®çš„ï¼‰
6. 8-bit é£æ ¼ç»†èŠ‚ï¼ˆåˆ†éš”çº¿ã€æŒ‰é’® 3D æ•ˆæœã€è¾¹æ¡†è£…é¥°ï¼‰
7. æ°›å›´æ„Ÿè¥é€  checklistï¼ˆ8 é¡¹éªŒæ”¶æ ‡å‡†ï¼‰

**è®¾è®¡åŸåˆ™æç‚¼**ï¼š
- é€æ˜åº¦ 0.35-0.6 æ˜¯ç»ç’ƒæ„Ÿçš„æœ€ä½³å¹³è¡¡ç‚¹
- åƒç´ å­—ä½“ 20px ä»¥ä¸‹æ›´æœ‰è´¨æ„Ÿï¼Œé…åˆ tracking å’Œé˜´å½±
- ä½é¥±å’Œæ·±è‰² + å•ä¸€æš–é‡‘å¼ºè°ƒè‰² = é«˜çº§æ„Ÿ
- å†…è¾¹è· â‰¥ 40px é¿å…"é¡¶è¾¹"æ„Ÿ

### å½±å“èŒƒå›´
- `AGENTS.md`
- `IFLOW.md`

---

## [2026-02-21] Splash é¡µé¢ç¬¬ä¸‰æ¬¡ä¼˜åŒ– - æ›´é€æ›´å®½æ¾

### å˜æ›´å†…å®¹

**é€æ˜åº¦è¿›ä¸€æ­¥æå‡**ï¼š
- èƒŒæ™¯ä¸é€æ˜åº¦é™ä½ (0.55/0.6 â†’ 0.35/0.4)
- æ¨¡ç³Šå¼ºåº¦å¢åŠ  (blur(20px) â†’ blur(24px))
- è¾¹æ¡†é€æ˜åº¦å¾®è°ƒ (0.45 â†’ 0.4)

**ä¸Šä¸‹é«˜åº¦å¤§å¹…æ‹‰å¼€**ï¼š
- å†…è¾¹è·å¢åŠ  (p-10 â†’ p-12)
- æ ‡é¢˜åŒºé—´è· (mb-8 â†’ mb-10)
- åˆ†éš”çº¿é—´è· (mb-8 â†’ mb-10)
- è¯´æ˜æ–‡å­—é—´è· (mb-10 â†’ mb-12)
- æŒ‰é’®åŒºé—´è· (gap-5 â†’ gap-6)
- è‹±æ–‡æ ‡é¢˜ä¸Šè¾¹è· (mt-4 â†’ mt-5)
- è¯´æ˜æ–‡å­—è¡Œé«˜å¢åŠ  (leading-[2.2] â†’ leading-[2.4])

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/SplashPage.tsx`

---

## [2026-02-21] Splash é¡µé¢é€æ˜åº¦ä¸åƒç´ å­—ä½“ä¼˜åŒ–

### å˜æ›´å†…å®¹

**é€æ˜åº¦è¿›ä¸€æ­¥æå‡**ï¼š
- èƒŒæ™¯ä¸é€æ˜åº¦é™ä½ (0.75/0.8 â†’ 0.55/0.6)
- æ¨¡ç³Šå¼ºåº¦å¢åŠ  (blur(16px) â†’ blur(20px))
- æ›´å¥½åœ°é€å‡ºåº•éƒ¨èƒŒæ™¯å›¾ï¼Œæ°›å›´æ„Ÿæ›´å¼º

**æ–‡å­—é—´è·å¤§å¹…æ‹‰å¼€**ï¼š
- å†…è¾¹è·å¢åŠ  (p-8 â†’ p-10)
- å¡ç‰‡æœ€å°å®½åº¦å¢åŠ  (300px â†’ 320px)
- æ ‡é¢˜åŒºé—´è· (mb-6 â†’ mb-8)
- åˆ†éš”çº¿é—´è· (mb-6 â†’ mb-8)
- è¯´æ˜æ–‡å­—é—´è· (mb-8 â†’ mb-10)
- æŒ‰é’®åŒºé—´è· (gap-4 â†’ gap-5)
- æ–‡å­—è¡Œé«˜å¢åŠ  (leading-[1.8] â†’ leading-[2.2])

**åƒç´ å­—ä½“ç»Ÿä¸€**ï¼š
- æ‰€æœ‰æ–‡å­—æ”¹ç”¨ `font-pixel` åƒç´ å­—ä½“
- æ ‡é¢˜å­—å·è°ƒæ•´ (24px â†’ 20px)ï¼Œæ›´ç¬¦åˆåƒç´ æ¯”ä¾‹
- è¯´æ˜æ–‡å­—å­—å·è°ƒæ•´ (14px â†’ 11px)
- æŒ‰é’®æ–‡å­—å­—å·è°ƒæ•´ (16px â†’ 12px)
- æ·»åŠ å­—é—´è·å’Œæ–‡å­—é˜´å½±ä¿æŒé«˜çº§è´¨æ„Ÿ

**åˆ†éš”çº¿åƒç´ åŒ–**ï¼š
- ç§»é™¤æ¸å˜æ•ˆæœï¼Œæ”¹ä¸ºçº¯åƒç´ æ–¹å—
- è£…é¥°ç‚¹æ”¹ä¸ºæ–¹å½¢ï¼Œç¬¦åˆ 8-bit é£æ ¼

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/SplashPage.tsx`

---

## [2026-02-21] Splash é¡µé¢ Glassmorphism ä¼˜åŒ–

### å˜æ›´å†…å®¹

**Glassmorphism æ¯›ç»ç’ƒæ•ˆæœ**ï¼š
- é™ä½èƒŒæ™¯ä¸é€æ˜åº¦ (0.95 â†’ 0.75)ï¼Œæ·»åŠ  `backdrop-blur(16px)` å®ç°ç£¨ç ‚ç»ç’ƒè´¨æ„Ÿ
- èƒŒæ™¯æ·»åŠ å¾®å¦™æ¸å˜ï¼Œå¢å¼ºæ·±åº¦æ„Ÿ
- æ·»åŠ å¤–å±‚å…‰æ™•å’Œç²¾è‡´é˜´å½±å±‚æ¬¡

**é—´è·ä¸å‘¼å¸æ„Ÿä¼˜åŒ–**ï¼š
- å†…è¾¹è·å¢åŠ  (p-6 â†’ p-8)
- æ ‡é¢˜åŒºé—´è·å¢åŠ  (mb-4 â†’ mb-6)
- åˆ†éš”çº¿é—´è·å¢åŠ  (mb-4 â†’ mb-6)
- è¯´æ˜æ–‡å­—é—´è·å¢åŠ  (mb-6 â†’ mb-8)
- æŒ‰é’®åŒºé—´è·å¢åŠ  (gap-3 â†’ gap-4)

**è§†è§‰å±‚æ¬¡æå‡**ï¼š
- æ ‡é¢˜é¢œè‰²æäº® (#F0D99C â†’ #F5E4BB)ï¼Œæ–‡å­—é˜´å½±æ›´æŸ”å’Œ
- åˆ†éš”çº¿æ·»åŠ æ¸å˜æ•ˆæœï¼Œä¸­é—´è£…é¥°ç‚¹æ”¹ä¸ºåœ†å½¢
- æŒ‰é’®æ·»åŠ æ¸å˜èƒŒæ™¯å’Œå…‰æ™•é˜´å½±
- å¤–è¾¹æ¡†è£…é¥°æ›´ç²¾è‡´ï¼ˆä¸‰å±‚æ¸å˜è¾¹æ¡†ï¼‰

**å‚è€ƒè®¾è®¡è§„èŒƒ**ï¼š
- NN/g Glassmorphism æœ€ä½³å®è·µï¼šé€‚åº¦æ¨¡ç³Š + å……è¶³å¯¹æ¯”åº¦
- Apple Vision Pro é€æ˜å±‚çº§è®¾è®¡è¯­è¨€

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/SplashPage.tsx`

---

## [2026-02-21] Splash é¡µé¢é‡è®¾è®¡ - åƒç´ é£æ ¼ä¼˜åŒ–

### å˜æ›´å†…å®¹

**å¸ƒå±€é‡æ„**ï¼š
- ç§»é™¤ flex åˆ†æ•£å¸ƒå±€ï¼ˆflex-1 + justify-centerï¼‰ï¼Œæ”¹ä¸ºç´§å‡‘å¡ç‰‡å¼å±…ä¸­å¸ƒå±€
- é™åˆ¶å¡ç‰‡æœ€å¤§å®½åº¦ 280pxï¼Œè§£å†³"ä¸Šé¡¶å¤©ã€ä¸‹é¡¶åœ°"é—®é¢˜
- æ·»åŠ  8-bit é£æ ¼åŒå±‚è¾¹æ¡†è£…é¥°ï¼ˆå¤–å‘å…‰æ•ˆæœï¼‰

**æŒ‰é’®ä¼˜åŒ–**ï¼š
- é™åˆ¶æŒ‰é’®å®½åº¦ï¼ˆpx-10ï¼‰ï¼Œä¸å†æ‹‰ä¼¸è‡³å…¨å®½
- æ·»åŠ  3D æŒ‰å‹æ•ˆæœï¼ˆåº•éƒ¨é˜´å½± + active ä½ç§»ï¼‰
- ä½¿ç”¨åƒç´ é£æ ¼é”åˆ©è¾¹æ¡†ï¼Œç§»é™¤æ¸å˜è¿‡æ¸¡

**è§†è§‰å±‚æ¬¡æ”¹è¿›**ï¼š
- æ ‡é¢˜ï¼šäº®é‡‘è‰² (#F0D99C) + åŒå±‚æ–‡å­—é˜´å½±
- è¯´æ˜æ–‡å­—ï¼šæé«˜å¯¹æ¯”åº¦è‡³ #E8EBF0
- å‰¯æ ‡é¢˜ï¼šç¼©å°å­—å·è‡³ 9pxï¼Œå¢åŠ å­—é—´è·

**åƒç´ é£æ ¼å¼ºåŒ–**ï¼š
- å¼¹çª—èƒŒæ™¯ï¼š95% ä¸é€æ˜åº¦æ·±è‰² (#1A1D24)
- åˆ†éš”çº¿ï¼šåƒç´ æ–¹å— + çº¿æ¡ç»„åˆ
- ç§»é™¤åº•éƒ¨å­¤ç«‹åƒç´ è£…é¥°ç‚¹

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/pages/SplashPage.tsx`

## [2026-02-21] è§†è§‰ç¨¿å¯¹é½ä¿®å¤ä¸æ¸¸æˆ Bug ä¿®å¤

### å˜æ›´å†…å®¹

**Bug ä¿®å¤ï¼ˆä¸å¯ç©é—®é¢˜ï¼‰**ï¼š
- **GameStage.tsx æ‹–æ‹½äº¤äº’**ï¼šä¿®å¤ pointerdown ç›‘å¬ä½ç½®é”™è¯¯ï¼Œæ”¹ä¸ºåœ¨ compass ä¸Šç›‘å¬ï¼Œæ·»åŠ æ‹–æ‹½åç§»é‡è®¡ç®—
- **ç½—ç›˜æ ·å¼**ï¼šæ·»åŠ  "LUO PAN" æ ‡ç­¾ï¼Œä¿®æ­£èƒŒæ™¯è‰²ä¸º #202736
- **EventModal.tsx äº¤äº’æµç¨‹**ï¼šæ·»åŠ é€‰ä¸­çŠ¶æ€å’Œç¡®è®¤æŒ‰é’®ï¼Œé€‰æ‹©åéœ€ç‚¹å‡»"ç¡®è®¤å¤„ç½®"æ‰æäº¤

**è§†è§‰ç¨¿å¯¹é½ä¿®å¤**ï¼š
- **SplashPage.tsx**ï¼šæ·»åŠ  FEED CARD å¾½ç« ã€PLAY èŠ¯ç‰‡ã€åº•éƒ¨æç¤ºæ”¹ä¸º"ç‚¹å‡»è¿›å…¥ Expanded"
- **GameStartPage.tsx**ï¼šMobile ç«¯ Hero é«˜åº¦æ”¹ä¸º 300pxï¼Œç©æ³•è¯´æ˜ç¬¬3æ­¥æ·»åŠ é«˜äº®èƒŒæ™¯
- **LevelSelectPage.tsx**ï¼šè°ƒæ•´ç¼©ç•¥å›¾å°ºå¯¸ï¼ˆMobile 96x96ã€Web 200x132ï¼‰ï¼Œè°ƒæ•´æ’­æ”¾æŒ‰é’®å°ºå¯¸ï¼Œæ·»åŠ åº•éƒ¨æç¤º

**ä»£ç è§„èŒƒä¿®å¤**ï¼š
- ä¿®å¤ `React` æœªå®šä¹‰é—®é¢˜ï¼ˆå¯¼å…¥ç±»å‹ï¼‰
- ä¿®å¤ Promise æœª await é—®é¢˜ï¼ˆæ·»åŠ  `void`ï¼‰
- ç§»é™¤ä¸å¿…è¦çš„æ³¨é‡Š

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/GameStage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/components/game/EventModal.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/SplashPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameStartPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/LevelSelectPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`
- `src/frontend/feng-shui-8-bit/src/client/stores/GameContext.tsx`
- `src/frontend/feng-shui-8-bit/src/client/hooks/useProgress.ts`

## [2026-02-21] PixiJS æ¸¸æˆå¼•æ“é›†æˆ

### å˜æ›´å†…å®¹

**ä¾èµ–æ›´æ–°**ï¼š
- æ–°å¢ `pixi.js@8` - é«˜æ€§èƒ½ 2D æ¸²æŸ“å¼•æ“
- æ–°å¢ `@pixi/react` - React é›†æˆ

**æ¸¸æˆæ ¸å¿ƒ**ï¼š
- æ–°å¢ `src/client/game/GameStage.tsx` - PixiJS æ¸¸æˆåœºæ™¯å®¹å™¨
- æ–°å¢ `src/client/game/ParticleSystem.ts` - ç²’å­æ•ˆæœç³»ç»Ÿ
- æ–°å¢ `src/client/game/types.ts` - æ¸¸æˆäº‹ä»¶ç±»å‹

**æ¸²æŸ“å±‚é‡æ„**ï¼š
- æˆ¿é—´æ¸²æŸ“ï¼šä½¿ç”¨ Sprite åŠ è½½å†·/æš–è‰²åº•å›¾ï¼Œæ”¯æŒæ¸å˜åˆ‡æ¢
- ç½—ç›˜ç»„ä»¶ï¼šä½¿ç”¨ Graphics ç»˜åˆ¶ï¼Œæ”¯æŒæ—‹è½¬åŠ¨ç”»å’Œæ‹–æ‹½äº¤äº’
- ç…æ°”ç²¾çµï¼šé»‘è‰²å°ç…¤çƒåŠ¨ç”»ï¼ˆæµ®åŠ¨ + ç¼©æ”¾ï¼‰
- é“å…·æ”¾ç½®ï¼šåŠ¨æ€åŠ è½½é“å…·çº¹ç†å¹¶å åŠ æ˜¾ç¤º
- ç²’å­æ•ˆæœï¼šé€šå…³æ—¶çš„é‡‘è‰²ç²’å­é£˜æ•£

**æ¸…ç†å·¥ä½œ**ï¼š
- ç§»é™¤æ—§çš„ React DOM æ¸¸æˆç»„ä»¶ï¼ˆRoomView, Compass, ItemOverlayï¼‰

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/game/`
- `src/frontend/feng-shui-8-bit/src/client/pages/GameplayPage.tsx`
- `package.json`

## [2026-02-20] æ ¸å¿ƒä»£ç å®ç°ï¼šæ¸¸æˆæ¡†æ¶æ­å»º

### å˜æ›´å†…å®¹

**æ¶æ„è®¾è®¡**ï¼š
- æ–°å¢ `docs/design/code/development-plan-v1.0.md` - å¼€å‘è®¡åˆ’æ–‡æ¡£
- æ–°å¢ `docs/design/code/architecture-v1.0.md` - å‰ç«¯æ¶æ„è®¾è®¡æ–‡æ¡£

**ç±»å‹ç³»ç»Ÿ**ï¼š
- æ–°å¢ `src/client/types/game.ts` - æ¸¸æˆæ ¸å¿ƒç±»å‹å®šä¹‰ï¼ˆShaPoint, Level, GameState ç­‰ï¼‰
- æ–°å¢ `src/shared/game.ts` - å…±äº«ç±»å‹å®šä¹‰ï¼ˆPlayerProgress ç­‰ï¼‰

**çŠ¶æ€ç®¡ç†**ï¼š
- æ–°å¢ `src/client/stores/GameContext.tsx` - React Context + useReducer çŠ¶æ€ç®¡ç†

**è‡ªå®šä¹‰ Hooks**ï¼š
- æ–°å¢ `src/client/hooks/useResponsive.ts` - å“åº”å¼æ£€æµ‹ï¼ˆMobile/Web åˆ‡æ¢ï¼‰
- æ–°å¢ `src/client/hooks/useProgress.ts` - è¿›åº¦ä¿å­˜ Hook

**å·¥å…·å‡½æ•°**ï¼š
- æ–°å¢ `src/client/utils/distance.ts` - ç…ç‚¹æ¢æµ‹ç®—æ³•

**é¡µé¢ç»„ä»¶**ï¼š
- é‡å†™ `src/client/pages/SplashPage.tsx` - Feed Card å…¥å£é¡µ
- é‡å†™ `src/client/pages/GameStartPage.tsx` - æ¸¸æˆä»‹ç»é¡µ
- é‡å†™ `src/client/pages/LevelSelectPage.tsx` - å…³å¡é€‰æ‹©é¡µ
- é‡å†™ `src/client/pages/GameplayPage.tsx` - æ¸¸æˆç©æ³•ä¸»é¡µé¢

**æ¸¸æˆç»„ä»¶**ï¼š
- æ–°å¢ `src/client/components/game/RoomView.tsx` - æˆ¿é—´è§†å›¾ï¼ˆæ”¯æŒ Mobile æ‹–æ‹½/ç¼©æ”¾ï¼‰
- æ–°å¢ `src/client/components/game/Compass.tsx` - ç½—ç›˜ç»„ä»¶ï¼ˆWeb æ‹–æ‹½æ¢æµ‹ï¼‰
- æ–°å¢ `src/client/components/game/EventModal.tsx` - äº‹ä»¶å¼¹çª—ï¼ˆåŒç«¯é€‚é…ï¼‰
- æ–°å¢ `src/client/components/game/ItemOverlay.tsx` - é“å…·å åŠ å±‚

**æ ·å¼é…ç½®**ï¼š
- æ›´æ–° `src/client/index.css` - Tailwind CSS 4 ä¸»é¢˜é…ç½®ï¼ˆé¢œè‰²å˜é‡ã€åŠ¨ç”»ï¼‰

**å…³å¡æ•°æ®**ï¼š
- æ–°å¢ `src/client/data/levels.ts` - å…³å¡é…ç½®ï¼ˆLevel 1 æ•°æ®ï¼‰

**åç«¯ API**ï¼š
- æ›´æ–° `src/server/trpc.ts` - æ–°å¢ progress.get å’Œ progress.save APIï¼ˆRedis å­˜å‚¨ï¼‰

**èµ„æºæ–‡ä»¶**ï¼š
- å¤åˆ¶ Level 1 å›¾ç‰‡èµ„æºåˆ° `public/images/` ç›®å½•

### å½±å“èŒƒå›´
- `src/frontend/feng-shui-8-bit/src/client/**`
- `src/frontend/feng-shui-8-bit/src/server/trpc.ts`
- `src/frontend/feng-shui-8-bit/src/shared/game.ts`
- `docs/design/code/`

## [2026-02-20] ç½—ç›˜äº¤äº’è®¾è®¡ï¼šMobile/Web åˆ†ç¦»

### è®¾è®¡å†³ç­–
- **Mobile**ï¼šç½—ç›˜å›ºå®šå±å¹•ä¸­å¤® + æ‹–åŠ¨æˆ¿é—´å›¾ + åŒæŒ‡ç¼©æ”¾
- **Web**ï¼šæˆ¿é—´å›¾å›ºå®š + æ‹–åŠ¨ç½—ç›˜
- æ ¸å¿ƒæ¦‚å¿µç»Ÿä¸€ï¼šè®©æ¢æµ‹ç‚¹å’Œç…æ°”ç‚¹é‡åˆ

### å˜æ›´å†…å®¹
- æ›´æ–° Gameplay Row çš„ gameNoteï¼ŒåŒºåˆ†ä¸¤ç«¯äº¤äº’æ–¹å¼ã€‚
- Mobile Gameplay æç¤ºæ–‡æ¡ˆï¼š`DRAG COMPASS` â†’ `DRAG ROOM Â· PINCH TO ZOOM`ã€‚
- Web Gameplay æç¤ºæ–‡æ¡ˆç²¾ç®€ä¸º `DRAG COMPASS TO FIND SHA`ã€‚

### å½±å“èŒƒå›´
- `fengshui.pen`

## [2026-02-20] è§†è§‰ç¨¿ Gameplay é¡µé¢é€‚é… Level 1

### å˜æ›´å†…å®¹
- **Mobile Gameplay**ï¼šæˆ¿é—´å ä½ç¬¦æ›¿æ¢ä¸º Level 1 å†·è‰²åº•å›¾ `room-cold-v1.0.png`ã€‚
- **Mobile Gameplay**ï¼šç…æ°”ç‚¹å¼¹çª—å†…å®¹æ›´æ–°ä¸º"æ¨ªæ¢å‹é¡¶"ï¼Œé€‰é¡¹åŒ¹é… `hotspots.json` æ•°æ®ã€‚
- **Web Gameplay**ï¼šæˆ¿é—´å ä½ç¬¦æ›¿æ¢ä¸º Level 1 å†·è‰²åº•å›¾ã€‚
- **Web Gameplay**ï¼šå³ä¾§å¤„ç½®é¢æ¿æ›´æ–°ä¸º"å°–è§’ç…"ï¼Œæè¿°å’Œé€‰é¡¹åŒ¹é…å®é™…æ•°æ®ã€‚
- **Level Select**ï¼šMobile/Web ä¸¤ç«¯ Level 1 ç¼©ç•¥å›¾æ›¿æ¢ä¸ºå®é™…å†·è‰²åº•å›¾ã€‚
- **Level Select**ï¼šæ›´æ–° Level 1 æè¿°ä¸º"é›¨å¤œå•èº«å…¬å¯“ Â· 4 ç…æ°”ç‚¹"ï¼Œè¿›åº¦æŒ‡ç¤ºå™¨æ”¹ä¸º 4 æ ¼ã€‚

### å½±å“èŒƒå›´
- `fengshui.pen`

## [2026-02-20] Level 1 å›¾ç‰‡èµ„äº§å®Œæˆ

### å˜æ›´å†…å®¹
- å®Œæˆå†·è‰²åº•å›¾ç”Ÿæˆï¼š`room-cold.png`ï¼ˆé˜´éƒé›¨å¤œå•èº«å…¬å¯“åœºæ™¯ï¼‰ã€‚
- å®Œæˆæš–è‰²ç»ˆå›¾ç”Ÿæˆï¼š`room-warm.png`ï¼ˆæ¸©é¦¨é€šå…³å®Œæˆæ€ï¼ŒåŒ…å«é“å…·æ”¾ç½®ï¼‰ã€‚
- å®Œæˆé“å…· PNG ç”Ÿæˆï¼š`gourd.png`ã€`plant-broad.png`ã€`screen.png`ï¼ˆé€æ˜èƒŒæ™¯ï¼‰ã€‚
- å®Œæˆ AI åˆ†æç”Ÿæˆï¼š`hotspots.json`ï¼ˆ4 ä¸ªç…æ°”ç‚¹æ•°æ®ï¼‰ã€‚
- éªŒè¯ Gemini image-to-image èƒ½åŠ›ï¼šæš–è‰²å›¾ä¸å†·è‰²å›¾ç»“æ„ä¸€è‡´ï¼Œé“å…·ä½ç½®å‡†ç¡®ã€‚

### èµ„äº§æ¸…å•

| æ–‡ä»¶ | æè¿° | çŠ¶æ€ |
|-----|------|------|
| `room-cold.png` | å†·è‰²åº•å›¾ | âœ… |
| `room-warm.png` | æš–è‰²ç»ˆå›¾ | âœ… |
| `gourd.png` | è‘«èŠ¦é“å…· | âœ… |
| `plant-broad.png` | é˜”å¶ç»¿æ¤é“å…· | âœ… |
| `screen.png` | å±é£é“å…· | âœ… |
| `hotspots.json` | ç…ç‚¹æ•°æ® | âœ… |

### å½±å“èŒƒå›´
- `resources/images/level1/`
- `resources/images/shared/items/`
- `CHANGELOG.md`

## [2026-02-20] å›¾æ–‡ä¸€è‡´æ€§è§„èŒƒä¸ Level 1 æ–‡æ¡ˆæ›´æ–°

### å˜æ›´å†…å®¹
- ç¡®ç«‹"ä»¥å®é™…å›¾ç‰‡ä¸ºå‡†ï¼Œæ–‡æ¡ˆä¸å›¾ç‰‡ä¸¥æ ¼ä¸€è‡´"çš„è®¾è®¡åŸåˆ™ã€‚
- æ›´æ–° `level-design.md` ä»¥åŒ¹é… AI åˆ†æç”Ÿæˆçš„ `hotspots.json`ã€‚
- åœ¨ AGENTS.md å’Œ IFLOW.md æ·»åŠ å›¾æ–‡ä¸€è‡´æ€§è§„èŒƒè¯´æ˜ã€‚
- æ˜ç¡®å…³å¡è®¾è®¡æµç¨‹ï¼šç”Ÿæˆå›¾ç‰‡ â†’ AI åˆ†æ â†’ ä»¥åˆ†æç»“æœæ›´æ–°è®¾è®¡æ–‡æ¡£ã€‚

### å½±å“èŒƒå›´
- `docs/design/game/level1/level-design.md`
- `AGENTS.md`
- `IFLOW.md`
- `CHANGELOG.md`

## [2026-02-20] å…³å¡åˆ¶ä½œæµç¨‹ä¸é¡¹ç›®æ–‡æ¡£æ›´æ–°

### å˜æ›´å†…å®¹
- æ˜ç¡®å…³å¡åˆ¶ä½œæµç¨‹ï¼šä½¿ç”¨ Gemini 3 Pro Image Preview çš„ image-to-image èƒ½åŠ›ã€‚
- ç¡®å®šæš–è‰²ç»ˆå›¾ç”Ÿæˆæ–¹å¼ï¼šä¸Šä¼ å†·è‰²åº•å›¾ + é“å…· PNG ä½œä¸ºå‚è€ƒï¼Œç”Ÿæˆå®Œæˆæ€æš–è‰²å›¾ã€‚
- æ›´æ–°é¡¹ç›®ç»“æ„æ–‡æ¡£ï¼Œæ·»åŠ  `docs/design/game/` å’Œ `resources/images/` ç›®å½•è¯´æ˜ã€‚
- åœ¨ AGENTS.md å’Œ IFLOW.md æ·»åŠ å…³å¡åˆ¶ä½œæµç¨‹è¯¦ç»†è¯´æ˜ã€‚
- è§„èŒƒæç¤ºè¯æ ¼å¼ï¼šå¿…é¡»å®Œæ•´å¯ç”¨ï¼Œç”¨ ```text``` åŒ…è£¹ï¼Œä¸æ‹†åˆ† system/userã€‚
- æ˜ç¡®é“å…· PNG åŒé‡ç”¨é€”ï¼šæ¸¸æˆäº¤äº’ + ç”Ÿæˆæš–è‰²å›¾çš„å‚è€ƒç´ æã€‚
- æ›´æ–° room-warm-v1.0.md æç¤ºè¯ï¼Œæ”¹ä¸ºä¸Šä¼ å¤šå›¾ç”Ÿæˆå®Œæˆæ€ã€‚

### å½±å“èŒƒå›´
- `AGENTS.md`
- `IFLOW.md`
- `docs/design/game/level1/prompts/room-warm-v1.0.md`
- `CHANGELOG.md`

## [2026-02-20] Level 1 å…³å¡è®¾è®¡æ–‡æ¡£ä½“ç³»æ­å»º

### å˜æ›´å†…å®¹
- å»ºç«‹ Level 1 è®¾è®¡æ–‡æ¡£ç›®å½•ç»“æ„ï¼š`docs/design/game/level1/`ã€‚
- æ–°å¢å…³å¡è®¾è®¡æ–‡æ¡£ `level-design.md`ï¼Œå®šä¹‰ 4 ä¸ªç…æ°”ç‚¹ï¼ˆé•œå†²åºŠã€å°–è§’ç…ã€æ¨ªæ¢å‹é¡¶ã€é—¨å†²ï¼‰ã€‚
- æ–°å¢ç”Ÿå›¾æç¤ºè¯ç›®å½• `prompts/`ï¼ŒåŒ…å«ï¼š
  - `room-cold-v1.0.md`ï¼šå†·è‰²åº•å›¾æç¤ºè¯
  - `room-warm-v1.0.md`ï¼šæš–è‰²ç»ˆå›¾æç¤ºè¯
  - `items/gourd-v1.0.md`ï¼šè‘«èŠ¦é“å…·æç¤ºè¯
  - `items/plant-broad-v1.0.md`ï¼šé˜”å¶ç»¿æ¤é“å…·æç¤ºè¯
  - `items/screen-v1.0.md`ï¼šå±é£é“å…·æç¤ºè¯
- æ–°å¢è§£ææç¤ºè¯ç›®å½• `analysis/`ï¼ŒåŒ…å«ï¼š
  - `sha-analysis-v1.0.md`ï¼šç…æ°”ç‚¹è¯†åˆ«æç¤ºè¯ï¼ˆå›¾ç‰‡ â†’ hotspots.jsonï¼‰
  - `position-validation-v1.0.md`ï¼šä½ç½®æ ¡éªŒæç¤ºè¯
- å»ºç«‹èµ„æºç›®å½•ç»“æ„ `resources/images/level1/`ï¼ŒåŒ…å« `metadata.json` å’Œ `README.md`ã€‚
- æ–°å¢å…±äº«èµ„æºç›®å½• `resources/images/shared/` ç”¨äºè·¨å…³å¡é“å…·ç´ æã€‚

### å½±å“èŒƒå›´
- `docs/design/game/level1/level-design.md`
- `docs/design/game/level1/prompts/*`
- `docs/design/game/level1/analysis/*`
- `resources/images/level1/*`
- `resources/images/shared/README.md`
- `CHANGELOG.md`

## [2026-02-20] å…³å¡ç”Ÿæˆæµæ°´çº¿æ–¹æ¡ˆ

### å˜æ›´å†…å®¹
- æ–°å¢ `docs/design/game/level-generation-pipeline-v1.0.md`ï¼Œå®šä¹‰å®Œæ•´çš„å…³å¡èµ„äº§ç”Ÿæˆæµç¨‹ã€‚
- ç¡®ç«‹"AI ç”Ÿå›¾ â†’ AI åˆ†æ â†’ è‡ªåŠ¨ç”Ÿæˆ JSON"çš„è‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼Œæ‘’å¼ƒäººå·¥æ ‡æ³¨ã€‚
- è®¾è®¡åˆ†å±‚ç”Ÿå›¾ç­–ç•¥ï¼šåº•å›¾ + ç…æ°”å±‚ + é“å…·å±‚ + å…‰æ•ˆå±‚ï¼Œæ”¯æŒè¿è¡Œæ—¶åˆæˆã€‚
- å®šä¹‰ AI åˆ†æ Prompt æ¨¡æ¿ï¼Œç”¨äº"å›¾ç‰‡ â†’ hotspots JSON"çš„è½¬æ¢ã€‚
- è§„åˆ’é“å…·æ•ˆæœå›¾æ–¹æ¡ˆï¼šé“å…· PNG å åŠ  + å±€éƒ¨å‡€åŒ–è´´ç‰‡ + æš–è‰²ç»ˆå›¾åˆ‡æ¢ã€‚
- è¾“å‡ºèµ„äº§ç›®å½•ç»“æ„è§„èŒƒã€‚

### å½±å“èŒƒå›´
- `docs/design/game/level-generation-pipeline-v1.0.md`
- `CHANGELOG.md`

## [2026-02-20] è§†è§‰ç¨¿é¡µé¢æµç¨‹é‡æ„ï¼š4 å±‚ç»“æ„

### å˜æ›´å†…å®¹
- é‡æ„è§†è§‰ç¨¿é¡µé¢æµç¨‹ï¼šSplash â†’ Game Start â†’ Level Select â†’ Gameplayï¼ˆ4 å±‚ï¼‰ã€‚
- Mobile ç«¯æ–°å¢ `Mobile Game Start`ï¼ˆå¯åŠ¨é¡µï¼‰å’Œ `Mobile Level Select`ï¼ˆå…³å¡é€‰æ‹©é¡µï¼‰ã€‚
- Web ç«¯æ–°å¢ `Web Game Start`ï¼ˆå¯åŠ¨é¡µï¼‰å’Œ `Web Level Select`ï¼ˆå…³å¡é€‰æ‹©é¡µï¼‰ã€‚
- Mobile Splash æ·»åŠ èƒŒæ™¯å›¾ `home-v1.0.png` + æ·±è‰²é®ç½©å±‚ï¼Œæå‡è§†è§‰å†²å‡»åŠ›ã€‚
- æ›´æ–° boardHeader å‰¯æ ‡é¢˜ä¸ºé¡µé¢æµç¨‹è¯´æ˜ã€‚
- æ¸…ç† Web Splash å³ä¾§å¤šä½™å…ƒç´ ï¼ˆé“å…·æ ã€è‰²æ¿åˆ‡æ¢æ¡ï¼‰ï¼Œåªä¿ç•™æˆ¿é—´é¢„è§ˆå›¾ã€‚
- è°ƒæ•´ä¸»ç”»æ¿å°ºå¯¸ï¼šå®½åº¦ 4000pxã€é«˜åº¦ 4200pxï¼Œå®¹çº³æ¨ªå‘æ’åˆ—çš„æ‰€æœ‰é¡µé¢ã€‚

### å½±å“èŒƒå›´
- `fengshui.pen`
- `CHANGELOG.md`

## [2026-02-19] æç¤ºè¯æ‹†çº¿ï¼šé¦–é¡µæ’å›¾ä¸æ­£å¼å…³å¡åˆ†ç¦»

### å˜æ›´å†…å®¹
- é‡å†™ `docs/design/prompts/README.md`ï¼Œæ˜ç¡® `home-*` ä¸ `level-*` ä¸¤æ¡æç¤ºè¯çº¿è·¯ã€‚
- æ–°å¢é¦–é¡µå»å‰§é€ç‰ˆæœ¬ï¼š`docs/design/prompts/home-hero-cold-v1.1.md`ï¼ˆæ¨èç”¨äºé¦–é¡µæ°›å›´å›¾ï¼‰ã€‚
- æ–°å¢æ­£å¼å…³å¡æç¤ºè¯ï¼š`docs/design/prompts/level1-dev-dungeon-cold-v1.0.md`ã€‚
- æ–°å¢é€šå…³åŒæ„å›¾ follow-upï¼š`docs/design/prompts/level1-dev-dungeon-warm-followup-v1.0.md`ã€‚
- æ–°å¢ç´¢å¼•æ–‡ä»¶ï¼š`docs/design/prompts/INDEX.md`ï¼Œä¾¿äºå¿«é€Ÿé€‰å‹ã€‚

### å½±å“èŒƒå›´
- `docs/design/prompts/README.md`
- `docs/design/prompts/home-hero-cold-v1.1.md`
- `docs/design/prompts/level1-dev-dungeon-cold-v1.0.md`
- `docs/design/prompts/level1-dev-dungeon-warm-followup-v1.0.md`
- `docs/design/prompts/INDEX.md`
- `CHANGELOG.md`

## [2026-02-19] æ–°å¢ç”Ÿå›¾æç¤ºè¯ç®¡ç†ä¸é¦–é¡µæ’å›¾ Prompt

### å˜æ›´å†…å®¹
- å»ºç«‹ `docs/design/prompts` æç¤ºè¯ç®¡ç†è§„èŒƒæ–‡æ¡£ï¼ˆå‘½åã€ç»“æ„ã€è¿­ä»£æµç¨‹ï¼‰ã€‚
- æ–°å¢é¦–é¡µä¸»æ’å›¾å†·è‰²å¼€å±€ Promptï¼š`home-hero-cold-v1.0.md`ã€‚
- Prompt é’ˆå¯¹â€œç½—ç›˜æ‰«æç©æ³• + UI å åŠ å¯è¯»æ€§ + ä¸ä½é¥±å’Œè§†è§‰ä½“ç³»ç»Ÿä¸€â€è¿›è¡Œçº¦æŸã€‚

### å½±å“èŒƒå›´
- `docs/design/prompts/README.md`
- `docs/design/prompts/home-hero-cold-v1.0.md`
- `CHANGELOG.md`

## [2026-02-19] å¯åŠ¨é¡µåŒç«¯é€‚é…ä¸ç½—ç›˜ç©æ³•è§†è§‰ä½“ç³»æ›´æ–°

### å˜æ›´å†…å®¹
- åœ¨ `fengshui.pen` é‡æ„å¯åŠ¨é¡µå±•ç¤ºï¼šæŒ‰ä¸¤è¡Œè¾“å‡º Mobile / Web é€‚é…æ–¹æ¡ˆã€‚
- åˆ é™¤æ—§ç‰ˆå¯åŠ¨é¡µç”»æ¿ï¼Œä¿ç•™ç»Ÿä¸€çš„å“åº”å¼ä¸»ç”»æ¿ä¸æ–°ç‰ˆé£æ ¼åŸºçº¿ã€‚
- æ–°å¢â€œç½—ç›˜æ¢æµ‹ç…ç‚¹â€ç©æ³•è§†è§‰æµï¼šå…¨å±æˆ¿é—´å›¾ã€ç½—ç›˜æ‹–åŠ¨ã€äº‹ä»¶å¼¹çª—ã€å››æ­¥é—­ç¯é€šå…³æµç¨‹ã€‚
- è°ƒæ•´æ•´ä½“é…è‰²ä¸ºä½é¥±å’Œä¸­æ€§è‰² + å•ä¸€æš–é‡‘å¼ºè°ƒï¼Œé™ä½ä¸æ¨¡å‹ç”Ÿå›¾çš„é£æ ¼å†²çªé£é™©ã€‚
- è¡¥å…… UI/ç©æ³•è®¾è®¡æ–‡æ¡£ï¼š`docs/design/ui/fengshui-gameplay-ui-v1.0.md`ã€‚

### å½±å“èŒƒå›´
- `fengshui.pen`
- `docs/design/ui/fengshui-gameplay-ui-v1.0.md`
- `CHANGELOG.md`
